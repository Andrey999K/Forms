import{b as l,M as oe,a6 as T,c as G,a4 as Z,P as Ee,ar as nt,as as no,at as ro,af as rt,au as oo,av as nn,S as pe,aw as ao,ax as wa,ay as Oa,g as Tt,m as Rt,az as Ea,r as mt,aA as Da,aB as $a,aC as Ia,aD as Na,C as bt,aE as Ta,V as $t,aF as Ra,d as Ma,aG as Oe,u as L,aH as qt,e as Pa,v as ln,Q as kt,X as ja,O as cn,a8 as ka,aI as io,aJ as Ha,aK as _a,aL as un,aM as Qe,Z as ot,I as so,J as lo,$ as _n,aN as Aa,aO as ut,aP as La,aQ as wn,aR as Fa,aS as Ba,W as rn,aT as za,aU as co,aV as uo,aW as Wa,aX as Va,aY as qa,aZ as Ua,a_ as Ga,a$ as Xa,b0 as Ya,b1 as Ka,b2 as go,b3 as fo,b4 as ho,ae as dn,b5 as mo,b6 as An,b7 as Ln,b8 as Qa,b9 as Ja,ba as Jn,bb as Xt,bc as On,ai as Za,a2 as Ae,bd as ei,be as vo,bf as tt,bg as Kt,bh as ti,ag as po,t as ni,bi as ri,ad as oi,j as w,bj as ai,G as gn,T as on,bk as ii,B as Ze,bl as En,x as si,aq as It,bm as li,ap as bo,bn as ci,f as ui,bo as di,bp as gi,bq as fi,br as hi,l as mi,h as vi,aj as pi,bs as bi,s as Lt,bt as Si,p as Ci}from"./index-DfdmMwJt.js";import{I as fn}from"./index-Bmf_iA83.js";import{D as yi,R as xi,a as So,b as wi,T as Oi}from"./PlusSquareOutlined-FiD71b2U.js";import{R as xr,C as wr}from"./gapSize-DWFHPMWm.js";import{R as Ei,S as Zn,g as Co}from"./index-Y6MpMLKX.js";import{R as Di}from"./DeleteOutlined-CWJaoJwt.js";import{M as $i}from"./index-C7Ov3lhW.js";import{T as Ii}from"./index-sXJx0G1b.js";import{u as Ni}from"./usePageTitle-BD1_IKlq.js";import{NotFound as Ti}from"./Page-BWhzTJmi.js";import{B as Ri}from"./index-D53G59bm.js";import"./PlusOutlined-C7qGflE1.js";import"./Skeleton-DucfIcCj.js";import"./index-Dze6Hjse.js";import"./fade-CrYobe28.js";function Mi(t){var e="touches"in t?t.touches[0]:t,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-n,pageY:e.pageY-r}}function yo(t){var e=t.targetRef,n=t.containerRef,r=t.direction,o=t.onDragChange,a=t.onDragChangeComplete,s=t.calculate,i=t.color,c=t.disabledDrag,d=l.useState({x:0,y:0}),u=oe(d,2),f=u[0],p=u[1],h=l.useRef(null),m=l.useRef(null);l.useEffect(function(){p(s())},[i]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",m.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",m.current),h.current=null,m.current=null}},[]);var g=function(x){var O=Mi(x),E=O.pageX,D=O.pageY,N=n.current.getBoundingClientRect(),M=N.x,I=N.y,P=N.width,_=N.height,$=e.current.getBoundingClientRect(),C=$.width,R=$.height,j=C/2,k=R/2,H=Math.max(0,Math.min(E-M,P))-j,A=Math.max(0,Math.min(D-I,_))-k,Q={x:H,y:r==="x"?f.y:A};if(C===0&&R===0||C!==R)return!1;o==null||o(Q)},v=function(x){x.preventDefault(),g(x)},S=function(x){x.preventDefault(),document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",m.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",m.current),h.current=null,m.current=null,a==null||a()},b=function(x){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",m.current),!c&&(g(x),document.addEventListener("mousemove",v),document.addEventListener("mouseup",S),document.addEventListener("touchmove",v),document.addEventListener("touchend",S),h.current=v,m.current=S)};return[f,b]}var xo=function(e){var n=e.size,r=n===void 0?"default":n,o=e.color,a=e.prefixCls;return T.createElement("div",{className:G("".concat(a,"-handler"),Z({},"".concat(a,"-handler-sm"),r==="small")),style:{backgroundColor:o}})},wo=function(e){var n=e.children,r=e.style,o=e.prefixCls;return T.createElement("div",{className:"".concat(o,"-palette"),style:Ee({position:"relative"},r)},n)},Oo=l.forwardRef(function(t,e){var n=t.children,r=t.x,o=t.y;return T.createElement("div",{ref:e,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(o,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),Pi=function(e){var n=e.color,r=e.onChange,o=e.prefixCls,a=e.onChangeComplete,s=e.disabled,i=l.useRef(),c=l.useRef(),d=l.useRef(n),u=nt(function(g){var v=no({offset:g,targetRef:c,containerRef:i,color:n});d.current=v,r(v)}),f=yo({color:n,containerRef:i,targetRef:c,calculate:function(){return ro(n)},onDragChange:u,onDragChangeComplete:function(){return a==null?void 0:a(d.current)},disabledDrag:s}),p=oe(f,2),h=p[0],m=p[1];return T.createElement("div",{ref:i,className:"".concat(o,"-select"),onMouseDown:m,onTouchStart:m},T.createElement(wo,{prefixCls:o},T.createElement(Oo,{x:h.x,y:h.y,ref:c},T.createElement(xo,{color:n.toRgbString(),prefixCls:o})),T.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},ji=function(e,n){var r=rt(e,{value:n}),o=oe(r,2),a=o[0],s=o[1],i=l.useMemo(function(){return oo(a)},[a]);return[i,s]},ki=function(e){var n=e.colors,r=e.children,o=e.direction,a=o===void 0?"to right":o,s=e.type,i=e.prefixCls,c=l.useMemo(function(){return n.map(function(d,u){var f=oo(d);return s==="alpha"&&u===n.length-1&&(f=new nn(f.setA(1))),f.toRgbString()}).join(",")},[n,s]);return T.createElement("div",{className:"".concat(i,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(c,")")}},r)},Hi=function(e){var n=e.prefixCls,r=e.colors,o=e.disabled,a=e.onChange,s=e.onChangeComplete,i=e.color,c=e.type,d=l.useRef(),u=l.useRef(),f=l.useRef(i),p=function(O){return c==="hue"?O.getHue():O.a*100},h=nt(function(x){var O=no({offset:x,targetRef:u,containerRef:d,color:i,type:c});f.current=O,a(p(O))}),m=yo({color:i,targetRef:u,containerRef:d,calculate:function(){return ro(i,c)},onDragChange:h,onDragChangeComplete:function(){s(p(f.current))},direction:"x",disabledDrag:o}),g=oe(m,2),v=g[0],S=g[1],b=T.useMemo(function(){if(c==="hue"){var x=i.toHsb();x.s=1,x.b=1,x.a=1;var O=new nn(x);return O}return i},[i,c]),y=T.useMemo(function(){return r.map(function(x){return"".concat(x.color," ").concat(x.percent,"%")})},[r]);return T.createElement("div",{ref:d,className:G("".concat(n,"-slider"),"".concat(n,"-slider-").concat(c)),onMouseDown:S,onTouchStart:S},T.createElement(wo,{prefixCls:n},T.createElement(Oo,{x:v.x,y:v.y,ref:u},T.createElement(xo,{size:"small",color:b.toHexString(),prefixCls:n})),T.createElement(ki,{colors:y,type:c,prefixCls:n})))};function _i(t){return l.useMemo(function(){var e=t||{},n=e.slider;return[n||Hi]},[t])}var Ai=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Li=l.forwardRef(function(t,e){var n=t.value,r=t.defaultValue,o=t.prefixCls,a=o===void 0?wa:o,s=t.onChange,i=t.onChangeComplete,c=t.className,d=t.style,u=t.panelRender,f=t.disabledAlpha,p=f===void 0?!1:f,h=t.disabled,m=h===void 0?!1:h,g=t.components,v=_i(g),S=oe(v,1),b=S[0],y=ji(r||Oa,n),x=oe(y,2),O=x[0],E=x[1],D=l.useMemo(function(){return O.setA(1).toRgbString()},[O]),N=function(A,Q){n||E(A),s==null||s(A,Q)},M=function(A){return new nn(O.setHue(A))},I=function(A){return new nn(O.setA(A/100))},P=function(A){N(M(A),{type:"hue",value:A})},_=function(A){N(I(A),{type:"alpha",value:A})},$=function(A){i&&i(M(A))},C=function(A){i&&i(I(A))},R=G("".concat(a,"-panel"),c,Z({},"".concat(a,"-panel-disabled"),m)),j={prefixCls:a,disabled:m,color:O},k=T.createElement(T.Fragment,null,T.createElement(Pi,pe({onChange:N},j,{onChangeComplete:i})),T.createElement("div",{className:"".concat(a,"-slider-container")},T.createElement("div",{className:G("".concat(a,"-slider-group"),Z({},"".concat(a,"-slider-group-disabled-alpha"),p))},T.createElement(b,pe({},j,{type:"hue",colors:Ai,min:0,max:359,value:O.getHue(),onChange:P,onChangeComplete:$})),!p&&T.createElement(b,pe({},j,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:D}],min:0,max:100,value:O.a*100,onChange:_,onChangeComplete:C}))),T.createElement(ao,{color:O.toRgbString(),prefixCls:a})));return T.createElement("div",{className:R,style:d,ref:e},typeof u=="function"?u(k):k)});const an=t=>t?typeof t=="function"?t():t:null,Fi=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:o,innerPadding:a,boxShadowSecondary:s,colorTextHeading:i,borderRadiusLG:c,zIndexPopup:d,titleMarginBottom:u,colorBgElevated:f,popoverBg:p,titleBorderBottom:h,innerContentPadding:m,titlePadding:g}=t;return[{[e]:Object.assign(Object.assign({},mt(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:c,boxShadow:s,padding:a},[`${e}-title`]:{minWidth:r,marginBottom:u,color:i,fontWeight:o,borderBottom:h,padding:g},[`${e}-inner-content`]:{color:n,padding:m}})},Da(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},Bi=t=>{const{componentCls:e}=t;return{[e]:$a.map(n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},zi=t=>{const{lineWidth:e,controlHeight:n,fontHeight:r,padding:o,wireframe:a,zIndexPopupBase:s,borderRadiusLG:i,marginXS:c,lineType:d,colorSplit:u,paddingSM:f}=t,p=n-r,h=p/2,m=p/2-e,g=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},Ia(t)),Na({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:c,titlePadding:a?`${h}px ${g}px ${m}px`:0,titleBorderBottom:a?`${e}px ${d} ${u}`:"none",innerContentPadding:a?`${f}px ${g}px`:0})},Eo=Tt("Popover",t=>{const{colorBgElevated:e,colorText:n}=t,r=Rt(t,{popoverBg:e,popoverColor:n});return[Fi(r),Bi(r),Ea(r,"zoom-big")]},zi,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Wi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Do=t=>{let{title:e,content:n,prefixCls:r}=t;return!e&&!n?null:l.createElement(l.Fragment,null,e&&l.createElement("div",{className:`${r}-title`},e),n&&l.createElement("div",{className:`${r}-inner-content`},n))},Vi=t=>{const{hashId:e,prefixCls:n,className:r,style:o,placement:a="top",title:s,content:i,children:c}=t,d=an(s),u=an(i),f=G(e,n,`${n}-pure`,`${n}-placement-${a}`,r);return l.createElement("div",{className:f,style:o},l.createElement("div",{className:`${n}-arrow`}),l.createElement(Ta,Object.assign({},t,{className:e,prefixCls:n}),c||l.createElement(Do,{prefixCls:n,title:d,content:u})))},qi=t=>{const{prefixCls:e,className:n}=t,r=Wi(t,["prefixCls","className"]),{getPrefixCls:o}=l.useContext(bt),a=o("popover",e),[s,i,c]=Eo(a);return s(l.createElement(Vi,Object.assign({},r,{prefixCls:a,hashId:i,className:G(n,c)})))};var Ui=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Gi=l.forwardRef((t,e)=>{var n,r,o,a,s,i;const{prefixCls:c,title:d,content:u,overlayClassName:f,placement:p="top",trigger:h="hover",children:m,mouseEnterDelay:g=.1,mouseLeaveDelay:v=.1,onOpenChange:S,overlayStyle:b={},styles:y,classNames:x}=t,O=Ui(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{popover:E,getPrefixCls:D}=l.useContext(bt),N=D("popover",c),[M,I,P]=Eo(N),_=D(),$=G(f,I,P,(n=E==null?void 0:E.classNames)===null||n===void 0?void 0:n.root,x==null?void 0:x.root),C=G((r=E==null?void 0:E.classNames)===null||r===void 0?void 0:r.body,x==null?void 0:x.body),[R,j]=rt(!1,{value:(o=t.open)!==null&&o!==void 0?o:t.visible,defaultValue:(a=t.defaultOpen)!==null&&a!==void 0?a:t.defaultVisible}),k=(X,ie)=>{j(X,!0),S==null||S(X,ie)},H=X=>{X.keyCode===Oe.ESC&&k(!1,X)},A=X=>{k(X)},Q=an(d),ee=an(u);return M(l.createElement($t,Object.assign({placement:p,trigger:h,mouseEnterDelay:g,mouseLeaveDelay:v},O,{prefixCls:N,classNames:{root:$,body:C},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},(s=E==null?void 0:E.styles)===null||s===void 0?void 0:s.root),E==null?void 0:E.style),b),y==null?void 0:y.root),body:Object.assign(Object.assign({},(i=E==null?void 0:E.styles)===null||i===void 0?void 0:i.body),y==null?void 0:y.body)},ref:e,open:R,onOpenChange:A,overlay:Q||ee?l.createElement(Do,{prefixCls:N,title:Q,content:ee}):null,transitionName:Ra(_,"zoom-big",O.transitionName),"data-popover-inject":!0}),Ma(m,{onKeyDown:X=>{var ie,se;l.isValidElement(m)&&((se=m==null?void 0:(ie=m.props).onKeyDown)===null||se===void 0||se.call(ie,X)),H(X)}})))}),$o=Gi;$o._InternalPanelDoNotUseOrYouWillBeFired=qi;const Xi=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:a,orientationMargin:s,verticalMarginInline:i}=t;return{[e]:Object.assign(Object.assign({},mt(t)),{borderBlockStart:`${L(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${L(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${L(t.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${L(t.dividerHorizontalWithTextGutterMargin)} 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${L(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${L(o)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${L(o)} 0 0`},[`&-horizontal${e}-with-text${e}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${e}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},Yi=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),Ki=Tt("Divider",t=>{const e=Rt(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[Xi(e)]},Yi,{unitless:{orientationMargin:!0}});var Qi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Io=t=>{const{getPrefixCls:e,direction:n,divider:r}=l.useContext(bt),{prefixCls:o,type:a="horizontal",orientation:s="center",orientationMargin:i,className:c,rootClassName:d,children:u,dashed:f,variant:p="solid",plain:h,style:m}=t,g=Qi(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),v=e("divider",o),[S,b,y]=Ki(v),x=!!u,O=s==="left"&&i!=null,E=s==="right"&&i!=null,D=G(v,r==null?void 0:r.className,b,y,`${v}-${a}`,{[`${v}-with-text`]:x,[`${v}-with-text-${s}`]:x,[`${v}-dashed`]:!!f,[`${v}-${p}`]:p!=="solid",[`${v}-plain`]:!!h,[`${v}-rtl`]:n==="rtl",[`${v}-no-default-orientation-margin-left`]:O,[`${v}-no-default-orientation-margin-right`]:E},c,d),N=l.useMemo(()=>typeof i=="number"?i:/^\d+$/.test(i)?Number(i):i,[i]),M=Object.assign(Object.assign({},O&&{marginLeft:N}),E&&{marginRight:N});return S(l.createElement("div",Object.assign({className:D,style:Object.assign(Object.assign({},r==null?void 0:r.style),m)},g,{role:"separator"}),u&&a!=="vertical"&&l.createElement("span",{className:`${v}-inner-text`,style:M},u)))};var Or=function(e,n){if(!e)return null;var r={left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:e.parentElement.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return n?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},et=function(e){return e!==void 0?"".concat(e,"px"):void 0};function Ji(t){var e=t.prefixCls,n=t.containerRef,r=t.value,o=t.getValueIndex,a=t.motionName,s=t.onMotionStart,i=t.onMotionEnd,c=t.direction,d=t.vertical,u=d===void 0?!1:d,f=l.useRef(null),p=l.useState(r),h=oe(p,2),m=h[0],g=h[1],v=function(R){var j,k=o(R),H=(j=n.current)===null||j===void 0?void 0:j.querySelectorAll(".".concat(e,"-item"))[k];return(H==null?void 0:H.offsetParent)&&H},S=l.useState(null),b=oe(S,2),y=b[0],x=b[1],O=l.useState(null),E=oe(O,2),D=E[0],N=E[1];qt(function(){if(m!==r){var C=v(m),R=v(r),j=Or(C,u),k=Or(R,u);g(r),x(j),N(k),C&&R?s():i()}},[r]);var M=l.useMemo(function(){if(u){var C;return et((C=y==null?void 0:y.top)!==null&&C!==void 0?C:0)}return et(c==="rtl"?-(y==null?void 0:y.right):y==null?void 0:y.left)},[u,c,y]),I=l.useMemo(function(){if(u){var C;return et((C=D==null?void 0:D.top)!==null&&C!==void 0?C:0)}return et(c==="rtl"?-(D==null?void 0:D.right):D==null?void 0:D.left)},[u,c,D]),P=function(){return u?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},_=function(){return u?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},$=function(){x(null),N(null),i()};return!y||!D?null:l.createElement(Pa,{visible:!0,motionName:a,motionAppear:!0,onAppearStart:P,onAppearActive:_,onVisibleChanged:$},function(C,R){var j=C.className,k=C.style,H=Ee(Ee({},k),{},{"--thumb-start-left":M,"--thumb-start-width":et(y==null?void 0:y.width),"--thumb-active-left":I,"--thumb-active-width":et(D==null?void 0:D.width),"--thumb-start-top":M,"--thumb-start-height":et(y==null?void 0:y.height),"--thumb-active-top":I,"--thumb-active-height":et(D==null?void 0:D.height)}),A={ref:ln(f,R),style:H,className:G("".concat(e,"-thumb"),j)};return l.createElement("div",A)})}var Zi=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function es(t){if(typeof t.title<"u")return t.title;if(cn(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function ts(t){return t.map(function(e){if(cn(e)==="object"&&e!==null){var n=es(e);return Ee(Ee({},e),{},{title:n})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var ns=function(e){var n=e.prefixCls,r=e.className,o=e.disabled,a=e.checked,s=e.label,i=e.title,c=e.value,d=e.name,u=e.onChange,f=e.onFocus,p=e.onBlur,h=e.onKeyDown,m=e.onKeyUp,g=e.onMouseDown,v=function(b){o||u(b,c)};return l.createElement("label",{className:G(r,Z({},"".concat(n,"-item-disabled"),o)),onMouseDown:g},l.createElement("input",{name:d,className:"".concat(n,"-item-input"),type:"radio",disabled:o,checked:a,onChange:v,onFocus:f,onBlur:p,onKeyDown:h,onKeyUp:m}),l.createElement("div",{className:"".concat(n,"-item-label"),title:i,"aria-selected":a},s))},rs=l.forwardRef(function(t,e){var n,r,o=t.prefixCls,a=o===void 0?"rc-segmented":o,s=t.direction,i=t.vertical,c=t.options,d=c===void 0?[]:c,u=t.disabled,f=t.defaultValue,p=t.value,h=t.name,m=t.onChange,g=t.className,v=g===void 0?"":g,S=t.motionName,b=S===void 0?"thumb-motion":S,y=kt(t,Zi),x=l.useRef(null),O=l.useMemo(function(){return ln(x,e)},[x,e]),E=l.useMemo(function(){return ts(d)},[d]),D=rt((n=E[0])===null||n===void 0?void 0:n.value,{value:p,defaultValue:f}),N=oe(D,2),M=N[0],I=N[1],P=l.useState(!1),_=oe(P,2),$=_[0],C=_[1],R=function(re,fe){I(fe),m==null||m(fe)},j=ja(y,["children"]),k=l.useState(!1),H=oe(k,2),A=H[0],Q=H[1],ee=l.useState(!1),X=oe(ee,2),ie=X[0],se=X[1],te=function(){se(!0)},z=function(){se(!1)},J=function(){Q(!1)},V=function(re){re.key==="Tab"&&Q(!0)},ae=function(re){var fe=E.findIndex(function(Se){return Se.value===M}),ye=E.length,he=(fe+re+ye)%ye,be=E[he];be&&(I(be.value),m==null||m(be.value))},ce=function(re){switch(re.key){case"ArrowLeft":case"ArrowUp":ae(-1);break;case"ArrowRight":case"ArrowDown":ae(1);break}};return l.createElement("div",pe({role:"radiogroup","aria-label":"segmented control",tabIndex:u?void 0:0},j,{className:G(a,(r={},Z(r,"".concat(a,"-rtl"),s==="rtl"),Z(r,"".concat(a,"-disabled"),u),Z(r,"".concat(a,"-vertical"),i),r),v),ref:O}),l.createElement("div",{className:"".concat(a,"-group")},l.createElement(Ji,{vertical:i,prefixCls:a,value:M,containerRef:x,motionName:"".concat(a,"-").concat(b),direction:s,getValueIndex:function(re){return E.findIndex(function(fe){return fe.value===re})},onMotionStart:function(){C(!0)},onMotionEnd:function(){C(!1)}}),E.map(function(U){var re;return l.createElement(ns,pe({},U,{name:h,key:U.value,prefixCls:a,className:G(U.className,"".concat(a,"-item"),(re={},Z(re,"".concat(a,"-item-selected"),U.value===M&&!$),Z(re,"".concat(a,"-item-focused"),ie&&A&&U.value===M),re)),checked:U.value===M,onChange:R,onFocus:te,onBlur:z,onKeyDown:ce,onKeyUp:V,onMouseDown:J,disabled:!!u||!!U.disabled}))})))}),os=rs;function Er(t,e){return{[`${t}, ${t}:hover, ${t}:focus`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}}function Dr(t){return{backgroundColor:t.itemSelectedBg,boxShadow:t.boxShadowTertiary}}const as=Object.assign({overflow:"hidden"},ka),is=t=>{const{componentCls:e}=t,n=t.calc(t.controlHeight).sub(t.calc(t.trackPadding).mul(2)).equal(),r=t.calc(t.controlHeightLG).sub(t.calc(t.trackPadding).mul(2)).equal(),o=t.calc(t.controlHeightSM).sub(t.calc(t.trackPadding).mul(2)).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),{display:"inline-block",padding:t.trackPadding,color:t.itemColor,background:t.trackBg,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`}),io(t)),{[`${e}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${e}-rtl`]:{direction:"rtl"},[`&${e}-vertical`]:{[`${e}-group`]:{flexDirection:"column"},[`${e}-thumb`]:{width:"100%",height:0,padding:`0 ${L(t.paddingXXS)}`}},[`&${e}-block`]:{display:"flex"},[`&${e}-block ${e}-item`]:{flex:1,minWidth:0},[`${e}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${t.motionDurationMid} ${t.motionEaseInOut}`,borderRadius:t.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Dr(t)),{color:t.itemSelectedColor}),"&-focused":Object.assign({},Ha(t)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${t.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${e}-item-selected):not(${e}-item-disabled)`]:{color:t.itemHoverColor,"&::after":{backgroundColor:t.itemHoverBg}},[`&:active:not(${e}-item-selected):not(${e}-item-disabled)`]:{color:t.itemHoverColor,"&::after":{backgroundColor:t.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:L(n),padding:`0 ${L(t.segmentedPaddingHorizontal)}`},as),"&-icon + *":{marginInlineStart:t.calc(t.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${e}-thumb`]:Object.assign(Object.assign({},Dr(t)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${L(t.paddingXXS)} 0`,borderRadius:t.borderRadiusSM,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOut}, height ${t.motionDurationSlow} ${t.motionEaseInOut}`,[`& ~ ${e}-item:not(${e}-item-selected):not(${e}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${e}-lg`]:{borderRadius:t.borderRadiusLG,[`${e}-item-label`]:{minHeight:r,lineHeight:L(r),padding:`0 ${L(t.segmentedPaddingHorizontal)}`,fontSize:t.fontSizeLG},[`${e}-item, ${e}-thumb`]:{borderRadius:t.borderRadius}},[`&${e}-sm`]:{borderRadius:t.borderRadiusSM,[`${e}-item-label`]:{minHeight:o,lineHeight:L(o),padding:`0 ${L(t.segmentedPaddingHorizontalSM)}`},[`${e}-item, ${e}-thumb`]:{borderRadius:t.borderRadiusXS}}}),Er(`&-disabled ${e}-item`,t)),Er(`${e}-item-disabled`,t)),{[`${e}-thumb-motion-appear-active`]:{transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOut}, width ${t.motionDurationSlow} ${t.motionEaseInOut}`,willChange:"transform, width"}})}},ss=t=>{const{colorTextLabel:e,colorText:n,colorFillSecondary:r,colorBgElevated:o,colorFill:a,lineWidthBold:s,colorBgLayout:i}=t;return{trackPadding:s,trackBg:i,itemColor:e,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:o,itemActiveBg:a,itemSelectedColor:n}},ls=Tt("Segmented",t=>{const{lineWidth:e,calc:n}=t,r=Rt(t,{segmentedPaddingHorizontal:n(t.controlPaddingHorizontal).sub(e).equal(),segmentedPaddingHorizontalSM:n(t.controlPaddingHorizontalSM).sub(e).equal()});return[is(r)]},ss);var $r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function cs(t){return typeof t=="object"&&!!(t!=null&&t.icon)}const us=l.forwardRef((t,e)=>{const n=_a(),{prefixCls:r,className:o,rootClassName:a,block:s,options:i=[],size:c="middle",style:d,vertical:u,name:f=n}=t,p=$r(t,["prefixCls","className","rootClassName","block","options","size","style","vertical","name"]),{getPrefixCls:h,direction:m,segmented:g}=l.useContext(bt),v=h("segmented",r),[S,b,y]=ls(v),x=un(c),O=l.useMemo(()=>i.map(N=>{if(cs(N)){const{icon:M,label:I}=N,P=$r(N,["icon","label"]);return Object.assign(Object.assign({},P),{label:l.createElement(l.Fragment,null,l.createElement("span",{className:`${v}-item-icon`},M),I&&l.createElement("span",null,I))})}return N}),[i,v]),E=G(o,a,g==null?void 0:g.className,{[`${v}-block`]:s,[`${v}-sm`]:x==="small",[`${v}-lg`]:x==="large",[`${v}-vertical`]:u},b,y),D=Object.assign(Object.assign({},g==null?void 0:g.style),d);return S(l.createElement(os,Object.assign({},p,{name:f,className:E,style:D,options:O,ref:e,prefixCls:v,direction:m,vertical:u})))}),ds=us,No=T.createContext({}),To=T.createContext({}),Ro=t=>{let{prefixCls:e,value:n,onChange:r}=t;const o=()=>{if(r&&n&&!n.cleared){const a=n.toHsb();a.a=0;const s=Qe(a);s.cleared=!0,r(s)}};return T.createElement("div",{className:`${e}-clear`,onClick:o})};var vt;(function(t){t.hex="hex",t.rgb="rgb",t.hsb="hsb"})(vt||(vt={}));var gs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},fs=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:gs}))},hs=l.forwardRef(fs);function Fn(){return typeof BigInt=="function"}function Mo(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function Et(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",o=r.split("."),a=o[0]||"0",s=o[1]||"0";a==="0"&&s==="0"&&(n=!1);var i=n?"-":"";return{negative:n,negativeStr:i,trimStr:r,integerStr:a,decimalStr:s,fullStr:"".concat(i).concat(r)}}function er(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Ot(t){var e=String(t);if(er(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&tr(e)?e.length-e.indexOf(".")-1:0}function hn(t){var e=String(t);if(er(t)){if(t>Number.MAX_SAFE_INTEGER)return String(Fn()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(Fn()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Ot(e))}return Et(e).fullStr}function tr(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var ms=function(){function t(e){if(lo(this,t),Z(this,"origin",""),Z(this,"negative",void 0),Z(this,"integer",void 0),Z(this,"decimal",void 0),Z(this,"decimalLen",void 0),Z(this,"empty",void 0),Z(this,"nan",void 0),Mo(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(er(n)&&(n=Number(n)),n=typeof n=="string"?n:hn(n),tr(n)){var r=Et(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var a=o[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}return so(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,o){var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=this.alignDecimal(a),i=n.alignDecimal(a),c=r(s,i).toString(),d=o(a),u=Et(c),f=u.negativeStr,p=u.trimStr,h="".concat(f).concat(p.padStart(d+1,"0"));return new t("".concat(h.slice(0,-d),".").concat(h.slice(-d)))}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);return r.isInvalidate()?this:this.cal(r,function(o,a){return o+a},function(o){return o})}},{key:"multi",value:function(n){var r=new t(n);return this.isInvalidate()||r.isInvalidate()?new t(NaN):this.cal(r,function(o,a){return o*a},function(o){return o*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Et("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),vs=function(){function t(e){if(lo(this,t),Z(this,"origin",""),Z(this,"number",void 0),Z(this,"empty",void 0),Mo(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return so(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var o=this.number+r;if(o>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var a=Math.max(Ot(this.number),Ot(r));return new t(o.toFixed(a))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new t(NaN);var o=this.number*r;if(o>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var a=Math.max(Ot(this.number),Ot(r));return new t(o.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":hn(this.number):this.origin}}]),t}();function Je(t){return Fn()?new ms(t):new vs(t)}function Qt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var o=Et(t),a=o.negativeStr,s=o.integerStr,i=o.decimalStr,c="".concat(e).concat(i),d="".concat(a).concat(s);if(n>=0){var u=Number(i[n]);if(u>=5&&!r){var f=Je(t).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-u));return Qt(f.toString(),e,n,r)}return n===0?d:"".concat(d).concat(e).concat(i.padEnd(n,"0").slice(0,n))}return c===".0"?d:"".concat(d).concat(c)}function ps(t,e){return typeof Proxy<"u"&&t?new Proxy(t,{get:function(r,o){if(e[o])return e[o];var a=r[o];return typeof a=="function"?a.bind(r):a}}):t}function bs(t,e){var n=l.useRef(null);function r(){try{var a=t.selectionStart,s=t.selectionEnd,i=t.value,c=i.substring(0,a),d=i.substring(s);n.current={start:a,end:s,value:i,beforeTxt:c,afterTxt:d}}catch{}}function o(){if(t&&n.current&&e)try{var a=t.value,s=n.current,i=s.beforeTxt,c=s.afterTxt,d=s.start,u=a.length;if(a.startsWith(i))u=i.length;else if(a.endsWith(c))u=a.length-n.current.afterTxt.length;else{var f=i[d-1],p=a.indexOf(f,d-1);p!==-1&&(u=p+1)}t.setSelectionRange(u,u)}catch(h){_n(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(h.message))}}return[r,o]}var Ss=function(){var e=l.useState(!1),n=oe(e,2),r=n[0],o=n[1];return qt(function(){o(Aa())},[]),r},Cs=200,ys=600;function xs(t){var e=t.prefixCls,n=t.upNode,r=t.downNode,o=t.upDisabled,a=t.downDisabled,s=t.onStep,i=l.useRef(),c=l.useRef([]),d=l.useRef();d.current=s;var u=function(){clearTimeout(i.current)},f=function(y,x){y.preventDefault(),u(),d.current(x);function O(){d.current(x),i.current=setTimeout(O,Cs)}i.current=setTimeout(O,ys)};l.useEffect(function(){return function(){u(),c.current.forEach(function(b){return ut.cancel(b)})}},[]);var p=Ss();if(p)return null;var h="".concat(e,"-handler"),m=G(h,"".concat(h,"-up"),Z({},"".concat(h,"-up-disabled"),o)),g=G(h,"".concat(h,"-down"),Z({},"".concat(h,"-down-disabled"),a)),v=function(){return c.current.push(ut(u))},S={unselectable:"on",role:"button",onMouseUp:v,onMouseLeave:v};return l.createElement("div",{className:"".concat(h,"-wrap")},l.createElement("span",pe({},S,{onMouseDown:function(y){f(y,!0)},"aria-label":"Increase Value","aria-disabled":o,className:m}),n||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),l.createElement("span",pe({},S,{onMouseDown:function(y){f(y,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:g}),r||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function Ir(t){var e=typeof t=="number"?hn(t):Et(t).fullStr,n=e.includes(".");return n?Et(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:t+"0"}const ws=function(){var t=l.useRef(0),e=function(){ut.cancel(t.current)};return l.useEffect(function(){return e},[]),function(n){e(),t.current=ut(function(){n()})}};var Os=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Es=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Nr=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},Tr=function(e){var n=Je(e);return n.isInvalidate()?null:n},Ds=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,o=t.style,a=t.min,s=t.max,i=t.step,c=i===void 0?1:i,d=t.defaultValue,u=t.value,f=t.disabled,p=t.readOnly,h=t.upHandler,m=t.downHandler,g=t.keyboard,v=t.changeOnWheel,S=v===void 0?!1:v,b=t.controls,y=b===void 0?!0:b;t.classNames;var x=t.stringMode,O=t.parser,E=t.formatter,D=t.precision,N=t.decimalSeparator,M=t.onChange,I=t.onInput,P=t.onPressEnter,_=t.onStep,$=t.changeOnBlur,C=$===void 0?!0:$,R=t.domRef,j=kt(t,Os),k="".concat(n,"-input"),H=l.useRef(null),A=l.useState(!1),Q=oe(A,2),ee=Q[0],X=Q[1],ie=l.useRef(!1),se=l.useRef(!1),te=l.useRef(!1),z=l.useState(function(){return Je(u??d)}),J=oe(z,2),V=J[0],ae=J[1];function ce(F){u===void 0&&ae(F)}var U=l.useCallback(function(F,B){if(!B)return D>=0?D:Math.max(Ot(F),Ot(c))},[D,c]),re=l.useCallback(function(F){var B=String(F);if(O)return O(B);var ne=B;return N&&(ne=ne.replace(N,".")),ne.replace(/[^\w.-]+/g,"")},[O,N]),fe=l.useRef(""),ye=l.useCallback(function(F,B){if(E)return E(F,{userTyping:B,input:String(fe.current)});var ne=typeof F=="number"?hn(F):F;if(!B){var Y=U(ne,B);if(tr(ne)&&(N||Y>=0)){var Ge=N||".";ne=Qt(ne,Ge,Y)}}return ne},[E,U,N]),he=l.useState(function(){var F=d??u;return V.isInvalidate()&&["string","number"].includes(cn(F))?Number.isNaN(F)?"":F:ye(V.toString(),!1)}),be=oe(he,2),Se=be[0],Ne=be[1];fe.current=Se;function me(F,B){Ne(ye(F.isInvalidate()?F.toString(!1):F.toString(!B),B))}var Ce=l.useMemo(function(){return Tr(s)},[s,D]),Te=l.useMemo(function(){return Tr(a)},[a,D]),Fe=l.useMemo(function(){return!Ce||!V||V.isInvalidate()?!1:Ce.lessEquals(V)},[Ce,V]),Re=l.useMemo(function(){return!Te||!V||V.isInvalidate()?!1:V.lessEquals(Te)},[Te,V]),Me=bs(H.current,ee),Pe=oe(Me,2),Be=Pe[0],He=Pe[1],ke=function(B){return Ce&&!B.lessEquals(Ce)?Ce:Te&&!Te.lessEquals(B)?Te:null},xe=function(B){return!ke(B)},je=function(B,ne){var Y=B,Ge=xe(Y)||Y.isEmpty();if(!Y.isEmpty()&&!ne&&(Y=ke(Y)||Y,Ge=!0),!p&&!f&&Ge){var St=Y.toString(),at=U(St,ne);return at>=0&&(Y=Je(Qt(St,".",at)),xe(Y)||(Y=Je(Qt(St,".",at,!0)))),Y.equals(V)||(ce(Y),M==null||M(Y.isEmpty()?null:Nr(x,Y)),u===void 0&&me(Y,ne)),Y}return V},de=ws(),_e=function F(B){if(Be(),fe.current=B,Ne(B),!se.current){var ne=re(B),Y=Je(ne);Y.isNaN()||je(Y,!0)}I==null||I(B),de(function(){var Ge=B;O||(Ge=B.replace(/。/g,".")),Ge!==B&&F(Ge)})},Ve=function(){se.current=!0},dt=function(){se.current=!1,_e(H.current.value)},qe=function(B){_e(B.target.value)},ge=function(B){var ne;if(!(B&&Fe||!B&&Re)){ie.current=!1;var Y=Je(te.current?Ir(c):c);B||(Y=Y.negate());var Ge=(V||Je(0)).add(Y.toString()),St=je(Ge,!1);_==null||_(Nr(x,St),{offset:te.current?Ir(c):c,type:B?"up":"down"}),(ne=H.current)===null||ne===void 0||ne.focus()}},De=function(B){var ne=Je(re(Se)),Y;ne.isNaN()?Y=je(V,B):Y=je(ne,B),u!==void 0?me(V,!1):Y.isNaN()||me(Y,!1)},Ue=function(){ie.current=!0},$e=function(B){var ne=B.key,Y=B.shiftKey;ie.current=!0,te.current=Y,ne==="Enter"&&(se.current||(ie.current=!1),De(!1),P==null||P(B)),g!==!1&&!se.current&&["Up","ArrowUp","Down","ArrowDown"].includes(ne)&&(ge(ne==="Up"||ne==="ArrowUp"),B.preventDefault())},we=function(){ie.current=!1,te.current=!1};l.useEffect(function(){if(S&&ee){var F=function(Y){ge(Y.deltaY<0),Y.preventDefault()},B=H.current;if(B)return B.addEventListener("wheel",F,{passive:!1}),function(){return B.removeEventListener("wheel",F)}}});var _t=function(){C&&De(!1),X(!1),ie.current=!1};return wn(function(){V.isInvalidate()||me(V,!1)},[D,E]),wn(function(){var F=Je(u);ae(F);var B=Je(re(Se));(!F.equals(B)||!ie.current||E)&&me(F,ie.current)},[u]),wn(function(){E&&He()},[Se]),l.createElement("div",{ref:R,className:G(n,r,Z(Z(Z(Z(Z({},"".concat(n,"-focused"),ee),"".concat(n,"-disabled"),f),"".concat(n,"-readonly"),p),"".concat(n,"-not-a-number"),V.isNaN()),"".concat(n,"-out-of-range"),!V.isInvalidate()&&!xe(V))),style:o,onFocus:function(){X(!0)},onBlur:_t,onKeyDown:$e,onKeyUp:we,onCompositionStart:Ve,onCompositionEnd:dt,onBeforeInput:Ue},y&&l.createElement(xs,{prefixCls:n,upNode:h,downNode:m,upDisabled:Fe,downDisabled:Re,onStep:ge}),l.createElement("div",{className:"".concat(k,"-wrap")},l.createElement("input",pe({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":V.isInvalidate()?null:V.toString(),step:c},j,{ref:ln(H,e),className:k,value:Se,onChange:qe,disabled:f,readOnly:p}))))}),$s=l.forwardRef(function(t,e){var n=t.disabled,r=t.style,o=t.prefixCls,a=o===void 0?"rc-input-number":o,s=t.value,i=t.prefix,c=t.suffix,d=t.addonBefore,u=t.addonAfter,f=t.className,p=t.classNames,h=kt(t,Es),m=l.useRef(null),g=l.useRef(null),v=l.useRef(null),S=function(y){v.current&&Fa(v.current,y)};return l.useImperativeHandle(e,function(){return ps(v.current,{focus:S,nativeElement:m.current.nativeElement||g.current})}),l.createElement(La,{className:f,triggerFocus:S,prefixCls:a,value:s,disabled:n,style:r,prefix:i,suffix:c,addonAfter:u,addonBefore:d,classNames:p,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:m},l.createElement(Ds,pe({prefixCls:a,disabled:n,ref:v,domRef:g,className:p==null?void 0:p.input},h)))});const Is=t=>{var e;const n=(e=t.handleVisible)!==null&&e!==void 0?e:"auto",r=t.controlHeightSM-t.lineWidth*2;return Object.assign(Object.assign({},Ba(t)),{controlWidth:90,handleWidth:r,handleFontSize:t.fontSize/2,handleVisible:n,handleActiveBg:t.colorFillAlter,handleBg:t.colorBgContainer,filledHandleBg:new rn(t.colorFillSecondary).onBackground(t.colorBgContainer).toHexString(),handleHoverColor:t.colorPrimary,handleBorderColor:t.colorBorder,handleOpacity:n===!0?1:0,handleVisibleWidth:n===!0?r:0})},Rr=(t,e)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:o}=t;const a=e==="lg"?o:r;return{[`&-${e}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${n}-handler-up`]:{borderStartEndRadius:a},[`${n}-handler-down`]:{borderEndEndRadius:a}}}},Ns=t=>{const{componentCls:e,lineWidth:n,lineType:r,borderRadius:o,inputFontSizeSM:a,inputFontSizeLG:s,controlHeightLG:i,controlHeightSM:c,colorError:d,paddingInlineSM:u,paddingBlockSM:f,paddingBlockLG:p,paddingInlineLG:h,colorTextDescription:m,motionDurationMid:g,handleHoverColor:v,handleOpacity:S,paddingInline:b,paddingBlock:y,handleBg:x,handleActiveBg:O,colorTextDisabled:E,borderRadiusSM:D,borderRadiusLG:N,controlWidth:M,handleBorderColor:I,filledHandleBg:P,lineHeightLG:_,calc:$}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),uo(t)),{display:"inline-block",width:M,margin:0,padding:0,borderRadius:o}),Wa(t,{[`${e}-handler-wrap`]:{background:x,[`${e}-handler-down`]:{borderBlockStart:`${L(n)} ${r} ${I}`}}})),Va(t,{[`${e}-handler-wrap`]:{background:P,[`${e}-handler-down`]:{borderBlockStart:`${L(n)} ${r} ${I}`}},"&:focus-within":{[`${e}-handler-wrap`]:{background:x}}})),qa(t)),{"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,lineHeight:_,borderRadius:N,[`input${e}-input`]:{height:$(i).sub($(n).mul(2)).equal(),padding:`${L(p)} ${L(h)}`}},"&-sm":{padding:0,fontSize:a,borderRadius:D,[`input${e}-input`]:{height:$(c).sub($(n).mul(2)).equal(),padding:`${L(f)} ${L(u)}`}},"&-out-of-range":{[`${e}-input-wrap`]:{input:{color:d}}},"&-group":Object.assign(Object.assign(Object.assign({},mt(t)),Ua(t)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:N,fontSize:t.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:D}}},Ga(t)),Xa(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${e}-input`]:{cursor:"not-allowed"},[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),{width:"100%",padding:`${L(y)} ${L(b)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${g} linear`,appearance:"textfield",fontSize:"inherit"}),Ya(t.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{width:t.handleWidth,opacity:1}})},{[e]:Object.assign(Object.assign(Object.assign({[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:t.handleVisibleWidth,opacity:S,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${g}`,overflow:"hidden",[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:t.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:m,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${L(n)} ${r} ${I}`,transition:`all ${g} linear`,"&:active":{background:O},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:v}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Ka()),{color:m,transition:`all ${g} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:o},[`${e}-handler-down`]:{borderEndEndRadius:o}},Rr(t,"lg")),Rr(t,"sm")),{"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:E}})}]},Ts=t=>{const{componentCls:e,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:a,borderRadiusLG:s,borderRadiusSM:i,paddingInlineLG:c,paddingInlineSM:d,paddingBlockLG:u,paddingBlockSM:f,motionDurationMid:p}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign({[`input${e}-input`]:{padding:`${L(n)} 0`}},uo(t)),{position:"relative",display:"inline-flex",alignItems:"center",width:a,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:s,paddingInlineStart:c,[`input${e}-input`]:{padding:`${L(u)} 0`}},"&-sm":{borderRadius:i,paddingInlineStart:d,[`input${e}-input`]:{padding:`${L(f)} 0`}},[`&:not(${e}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${e}-disabled`]:{background:"transparent"},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:o,transition:`margin ${p}`}},[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{width:t.handleWidth,opacity:1},[`&:not(${e}-affix-wrapper-without-controls):hover ${e}-suffix`]:{marginInlineEnd:t.calc(t.handleWidth).add(r).equal()}})}},Rs=Tt("InputNumber",t=>{const e=Rt(t,za(t));return[Ns(e),Ts(e),co(e)]},Is,{unitless:{handleOpacity:!0}});var Ms=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Po=l.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=l.useContext(bt),o=l.useRef(null);l.useImperativeHandle(e,()=>o.current);const{className:a,rootClassName:s,size:i,disabled:c,prefixCls:d,addonBefore:u,addonAfter:f,prefix:p,suffix:h,bordered:m,readOnly:g,status:v,controls:S,variant:b}=t,y=Ms(t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),x=n("input-number",d),O=go(x),[E,D,N]=Rs(x,O),{compactSize:M,compactItemClassnames:I}=fo(x,r);let P=l.createElement(hs,{className:`${x}-handler-up-inner`}),_=l.createElement(Ei,{className:`${x}-handler-down-inner`});const $=typeof S=="boolean"?S:void 0;typeof S=="object"&&(P=typeof S.upIcon>"u"?P:l.createElement("span",{className:`${x}-handler-up-inner`},S.upIcon),_=typeof S.downIcon>"u"?_:l.createElement("span",{className:`${x}-handler-down-inner`},S.downIcon));const{hasFeedback:C,status:R,isFormItemInput:j,feedbackIcon:k}=l.useContext(ho),H=Ja(R,v),A=un(V=>{var ae;return(ae=i??M)!==null&&ae!==void 0?ae:V}),Q=l.useContext(dn),ee=c??Q,[X,ie]=mo("inputNumber",b,m),se=C&&l.createElement(l.Fragment,null,k),te=G({[`${x}-lg`]:A==="large",[`${x}-sm`]:A==="small",[`${x}-rtl`]:r==="rtl",[`${x}-in-form-item`]:j},D),z=`${x}-group`,J=l.createElement($s,Object.assign({ref:o,disabled:ee,className:G(N,O,a,s,I),upHandler:P,downHandler:_,prefixCls:x,readOnly:g,controls:$,prefix:p,suffix:se||h,addonBefore:u&&l.createElement(An,{form:!0,space:!0},u),addonAfter:f&&l.createElement(An,{form:!0,space:!0},f),classNames:{input:te,variant:G({[`${x}-${X}`]:ie},Ln(x,H,C)),affixWrapper:G({[`${x}-affix-wrapper-sm`]:A==="small",[`${x}-affix-wrapper-lg`]:A==="large",[`${x}-affix-wrapper-rtl`]:r==="rtl",[`${x}-affix-wrapper-without-controls`]:S===!1},D),wrapper:G({[`${z}-rtl`]:r==="rtl"},D),groupWrapper:G({[`${x}-group-wrapper-sm`]:A==="small",[`${x}-group-wrapper-lg`]:A==="large",[`${x}-group-wrapper-rtl`]:r==="rtl",[`${x}-group-wrapper-${X}`]:ie},Ln(`${x}-group-wrapper`,H,C),D)}},y));return E(J)}),jo=Po,Ps=t=>l.createElement(Qa,{theme:{components:{InputNumber:{handleVisible:!0}}}},l.createElement(Po,Object.assign({},t)));jo._InternalPanelDoNotUseOrYouWillBeFired=Ps;const Dt=t=>{let{prefixCls:e,min:n=0,max:r=100,value:o,onChange:a,className:s,formatter:i}=t;const c=`${e}-steppers`,[d,u]=l.useState(o);return l.useEffect(()=>{Number.isNaN(o)||u(o)},[o]),T.createElement(jo,{className:G(c,s),min:n,max:r,value:d,formatter:i,size:"small",onChange:f=>{o||u(f||0),a==null||a(f)}})},js=t=>{let{prefixCls:e,value:n,onChange:r}=t;const o=`${e}-alpha-input`,[a,s]=l.useState(Qe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=c=>{const d=a.toHsb();d.a=(c||0)/100;const u=Qe(d);n||s(u),r==null||r(u)};return T.createElement(Dt,{value:Jn(a),prefixCls:e,formatter:c=>`${c}%`,className:o,onChange:i})},ks=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Hs=t=>ks.test(`#${t}`),_s=t=>{let{prefixCls:e,value:n,onChange:r}=t;const o=`${e}-hex-input`,[a,s]=l.useState(()=>n?Xt(n.toHexString()):void 0);l.useEffect(()=>{n&&s(Xt(n.toHexString()))},[n]);const i=c=>{const d=c.target.value;s(Xt(d)),Hs(Xt(d,!0))&&(r==null||r(Qe(d)))};return T.createElement(fn,{className:o,value:a,prefix:"#",onChange:i,size:"small"})},As=t=>{let{prefixCls:e,value:n,onChange:r}=t;const o=`${e}-hsb-input`,[a,s]=l.useState(Qe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=(c,d)=>{const u=a.toHsb();u[d]=d==="h"?c:(c||0)/100;const f=Qe(u);n||s(f),r==null||r(f)};return T.createElement("div",{className:o},T.createElement(Dt,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:e,className:o,formatter:c=>On(c||0).toString(),onChange:c=>i(Number(c),"h")}),T.createElement(Dt,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:e,className:o,formatter:c=>`${On(c||0)}%`,onChange:c=>i(Number(c),"s")}),T.createElement(Dt,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:e,className:o,formatter:c=>`${On(c||0)}%`,onChange:c=>i(Number(c),"b")}))},Ls=t=>{let{prefixCls:e,value:n,onChange:r}=t;const o=`${e}-rgb-input`,[a,s]=l.useState(Qe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=(c,d)=>{const u=a.toRgb();u[d]=c||0;const f=Qe(u);n||s(f),r==null||r(f)};return T.createElement("div",{className:o},T.createElement(Dt,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:e,className:o,onChange:c=>i(Number(c),"r")}),T.createElement(Dt,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:e,className:o,onChange:c=>i(Number(c),"g")}),T.createElement(Dt,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:e,className:o,onChange:c=>i(Number(c),"b")}))},Fs=[vt.hex,vt.hsb,vt.rgb].map(t=>({value:t,label:t.toLocaleUpperCase()})),Bs=t=>{const{prefixCls:e,format:n,value:r,disabledAlpha:o,onFormatChange:a,onChange:s,disabledFormat:i}=t,[c,d]=rt(vt.hex,{value:n,onChange:a}),u=`${e}-input`,f=h=>{d(h)},p=l.useMemo(()=>{const h={value:r,prefixCls:e,onChange:s};switch(c){case vt.hsb:return T.createElement(As,Object.assign({},h));case vt.rgb:return T.createElement(Ls,Object.assign({},h));default:return T.createElement(_s,Object.assign({},h))}},[c,e,r,s]);return T.createElement("div",{className:`${u}-container`},!i&&T.createElement(Zn,{value:c,variant:"borderless",getPopupContainer:h=>h,popupMatchSelectWidth:68,placement:"bottomRight",onChange:f,className:`${e}-format-select`,size:"small",options:Fs}),T.createElement("div",{className:u},p),!o&&T.createElement(js,{prefixCls:e,value:r,onChange:s}))};function Bn(t,e,n){return(t-e)/(n-e)}function nr(t,e,n,r){var o=Bn(e,n,r),a={};switch(t){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function wt(t,e){return Array.isArray(t)?t[e]:t}var Mt=l.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),ko=l.createContext({}),zs=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Mr=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,o=t.valueIndex,a=t.onStartMove,s=t.onDelete,i=t.style,c=t.render,d=t.dragging,u=t.draggingDelete,f=t.onOffsetChange,p=t.onChangeComplete,h=t.onFocus,m=t.onMouseEnter,g=kt(t,zs),v=l.useContext(Mt),S=v.min,b=v.max,y=v.direction,x=v.disabled,O=v.keyboard,E=v.range,D=v.tabIndex,N=v.ariaLabelForHandle,M=v.ariaLabelledByForHandle,I=v.ariaRequired,P=v.ariaValueTextFormatterForHandle,_=v.styles,$=v.classNames,C="".concat(n,"-handle"),R=function(te){x||a(te,o)},j=function(te){h==null||h(te,o)},k=function(te){m(te,o)},H=function(te){if(!x&&O){var z=null;switch(te.which||te.keyCode){case Oe.LEFT:z=y==="ltr"||y==="btt"?-1:1;break;case Oe.RIGHT:z=y==="ltr"||y==="btt"?1:-1;break;case Oe.UP:z=y!=="ttb"?1:-1;break;case Oe.DOWN:z=y!=="ttb"?-1:1;break;case Oe.HOME:z="min";break;case Oe.END:z="max";break;case Oe.PAGE_UP:z=2;break;case Oe.PAGE_DOWN:z=-2;break;case Oe.BACKSPACE:case Oe.DELETE:s(o);break}z!==null&&(te.preventDefault(),f(z,o))}},A=function(te){switch(te.which||te.keyCode){case Oe.LEFT:case Oe.RIGHT:case Oe.UP:case Oe.DOWN:case Oe.HOME:case Oe.END:case Oe.PAGE_UP:case Oe.PAGE_DOWN:p==null||p();break}},Q=nr(y,r,S,b),ee={};if(o!==null){var X;ee={tabIndex:x?null:wt(D,o),role:"slider","aria-valuemin":S,"aria-valuemax":b,"aria-valuenow":r,"aria-disabled":x,"aria-label":wt(N,o),"aria-labelledby":wt(M,o),"aria-required":wt(I,o),"aria-valuetext":(X=wt(P,o))===null||X===void 0?void 0:X(r),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:R,onTouchStart:R,onFocus:j,onMouseEnter:k,onKeyDown:H,onKeyUp:A}}var ie=l.createElement("div",pe({ref:e,className:G(C,Z(Z(Z({},"".concat(C,"-").concat(o+1),o!==null&&E),"".concat(C,"-dragging"),d),"".concat(C,"-dragging-delete"),u),$.handle),style:Ee(Ee(Ee({},Q),i),_.handle)},ee,g));return c&&(ie=c(ie,{index:o,prefixCls:n,value:r,dragging:d,draggingDelete:u})),ie}),Ws=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Vs=l.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.onStartMove,a=t.onOffsetChange,s=t.values,i=t.handleRender,c=t.activeHandleRender,d=t.draggingIndex,u=t.draggingDelete,f=t.onFocus,p=kt(t,Ws),h=l.useRef({}),m=l.useState(!1),g=oe(m,2),v=g[0],S=g[1],b=l.useState(-1),y=oe(b,2),x=y[0],O=y[1],E=function(P){O(P),S(!0)},D=function(P,_){E(_),f==null||f(P)},N=function(P,_){E(_)};l.useImperativeHandle(e,function(){return{focus:function(P){var _;(_=h.current[P])===null||_===void 0||_.focus()},hideHelp:function(){Za.flushSync(function(){S(!1)})}}});var M=Ee({prefixCls:n,onStartMove:o,onOffsetChange:a,render:i,onFocus:D,onMouseEnter:N},p);return l.createElement(l.Fragment,null,s.map(function(I,P){var _=d===P;return l.createElement(Mr,pe({ref:function(C){C?h.current[P]=C:delete h.current[P]},dragging:_,draggingDelete:_&&u,style:wt(r,P),key:P,value:I,valueIndex:P},M))}),c&&v&&l.createElement(Mr,pe({key:"a11y"},M,{value:s[x],valueIndex:null,dragging:d!==-1,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),qs=function(e){var n=e.prefixCls,r=e.style,o=e.children,a=e.value,s=e.onClick,i=l.useContext(Mt),c=i.min,d=i.max,u=i.direction,f=i.includedStart,p=i.includedEnd,h=i.included,m="".concat(n,"-text"),g=nr(u,a,c,d);return l.createElement("span",{className:G(m,Z({},"".concat(m,"-active"),h&&f<=a&&a<=p)),style:Ee(Ee({},g),r),onMouseDown:function(S){S.stopPropagation()},onClick:function(){s(a)}},o)},Us=function(e){var n=e.prefixCls,r=e.marks,o=e.onClick,a="".concat(n,"-mark");return r.length?l.createElement("div",{className:a},r.map(function(s){var i=s.value,c=s.style,d=s.label;return l.createElement(qs,{key:i,prefixCls:a,style:c,value:i,onClick:o},d)})):null},Gs=function(e){var n=e.prefixCls,r=e.value,o=e.style,a=e.activeStyle,s=l.useContext(Mt),i=s.min,c=s.max,d=s.direction,u=s.included,f=s.includedStart,p=s.includedEnd,h="".concat(n,"-dot"),m=u&&f<=r&&r<=p,g=Ee(Ee({},nr(d,r,i,c)),typeof o=="function"?o(r):o);return m&&(g=Ee(Ee({},g),typeof a=="function"?a(r):a)),l.createElement("span",{className:G(h,Z({},"".concat(h,"-active"),m)),style:g})},Xs=function(e){var n=e.prefixCls,r=e.marks,o=e.dots,a=e.style,s=e.activeStyle,i=l.useContext(Mt),c=i.min,d=i.max,u=i.step,f=l.useMemo(function(){var p=new Set;if(r.forEach(function(m){p.add(m.value)}),o&&u!==null)for(var h=c;h<=d;)p.add(h),h+=u;return Array.from(p)},[c,d,u,o,r]);return l.createElement("div",{className:"".concat(n,"-step")},f.map(function(p){return l.createElement(Gs,{prefixCls:n,key:p,value:p,style:a,activeStyle:s})}))},Pr=function(e){var n=e.prefixCls,r=e.style,o=e.start,a=e.end,s=e.index,i=e.onStartMove,c=e.replaceCls,d=l.useContext(Mt),u=d.direction,f=d.min,p=d.max,h=d.disabled,m=d.range,g=d.classNames,v="".concat(n,"-track"),S=Bn(o,f,p),b=Bn(a,f,p),y=function(D){!h&&i&&i(D,-1)},x={};switch(u){case"rtl":x.right="".concat(S*100,"%"),x.width="".concat(b*100-S*100,"%");break;case"btt":x.bottom="".concat(S*100,"%"),x.height="".concat(b*100-S*100,"%");break;case"ttb":x.top="".concat(S*100,"%"),x.height="".concat(b*100-S*100,"%");break;default:x.left="".concat(S*100,"%"),x.width="".concat(b*100-S*100,"%")}var O=c||G(v,Z(Z({},"".concat(v,"-").concat(s+1),s!==null&&m),"".concat(n,"-track-draggable"),i),g.track);return l.createElement("div",{className:O,style:Ee(Ee({},x),r),onMouseDown:y,onTouchStart:y})},Ys=function(e){var n=e.prefixCls,r=e.style,o=e.values,a=e.startPoint,s=e.onStartMove,i=l.useContext(Mt),c=i.included,d=i.range,u=i.min,f=i.styles,p=i.classNames,h=l.useMemo(function(){if(!d){if(o.length===0)return[];var g=a??u,v=o[0];return[{start:Math.min(g,v),end:Math.max(g,v)}]}for(var S=[],b=0;b<o.length-1;b+=1)S.push({start:o[b],end:o[b+1]});return S},[o,d,a,u]);if(!c)return null;var m=h!=null&&h.length&&(p.tracks||f.tracks)?l.createElement(Pr,{index:null,prefixCls:n,start:h[0].start,end:h[h.length-1].end,replaceCls:G(p.tracks,"".concat(n,"-tracks")),style:f.tracks}):null;return l.createElement(l.Fragment,null,m,h.map(function(g,v){var S=g.start,b=g.end;return l.createElement(Pr,{index:v,prefixCls:n,style:Ee(Ee({},wt(r,v)),f.track),start:S,end:b,key:v,onStartMove:s})}))},Ks=130;function jr(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function Qs(t,e,n,r,o,a,s,i,c,d,u){var f=l.useState(null),p=oe(f,2),h=p[0],m=p[1],g=l.useState(-1),v=oe(g,2),S=v[0],b=v[1],y=l.useState(!1),x=oe(y,2),O=x[0],E=x[1],D=l.useState(n),N=oe(D,2),M=N[0],I=N[1],P=l.useState(n),_=oe(P,2),$=_[0],C=_[1],R=l.useRef(null),j=l.useRef(null),k=l.useRef(null),H=l.useContext(ko),A=H.onDragStart,Q=H.onDragChange;qt(function(){S===-1&&I(n)},[n,S]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",j.current),k.current&&(k.current.removeEventListener("touchmove",R.current),k.current.removeEventListener("touchend",j.current))}},[]);var ee=function(z,J,V){J!==void 0&&m(J),I(z);var ae=z;V&&(ae=z.filter(function(ce,U){return U!==S})),s(ae),Q&&Q({rawValues:z,deleteIndex:V?S:-1,draggingIndex:S,draggingValue:J})},X=nt(function(te,z,J){if(te===-1){var V=$[0],ae=$[$.length-1],ce=r-V,U=o-ae,re=z*(o-r);re=Math.max(re,ce),re=Math.min(re,U);var fe=a(V+re);re=fe-V;var ye=$.map(function(Ne){return Ne+re});ee(ye)}else{var he=(o-r)*z,be=Ae(M);be[te]=$[te];var Se=c(be,he,te,"dist");ee(Se.values,Se.value,J)}}),ie=function(z,J,V){z.stopPropagation();var ae=V||n,ce=ae[J];b(J),m(ce),C(ae),I(ae),E(!1);var U=jr(z),re=U.pageX,fe=U.pageY,ye=!1;A&&A({rawValues:ae,draggingIndex:J,draggingValue:ce});var he=function(Ne){Ne.preventDefault();var me=jr(Ne),Ce=me.pageX,Te=me.pageY,Fe=Ce-re,Re=Te-fe,Me=t.current.getBoundingClientRect(),Pe=Me.width,Be=Me.height,He,ke;switch(e){case"btt":He=-Re/Be,ke=Fe;break;case"ttb":He=Re/Be,ke=Fe;break;case"rtl":He=-Fe/Pe,ke=Re;break;default:He=Fe/Pe,ke=Re}ye=d?Math.abs(ke)>Ks&&u<M.length:!1,E(ye),X(J,He,ye)},be=function Se(Ne){Ne.preventDefault(),document.removeEventListener("mouseup",Se),document.removeEventListener("mousemove",he),k.current&&(k.current.removeEventListener("touchmove",R.current),k.current.removeEventListener("touchend",j.current)),R.current=null,j.current=null,k.current=null,i(ye),b(-1),E(!1)};document.addEventListener("mouseup",be),document.addEventListener("mousemove",he),z.currentTarget.addEventListener("touchend",be),z.currentTarget.addEventListener("touchmove",he),R.current=he,j.current=be,k.current=z.currentTarget},se=l.useMemo(function(){var te=Ae(n).sort(function(ce,U){return ce-U}),z=Ae(M).sort(function(ce,U){return ce-U}),J={};z.forEach(function(ce){J[ce]=(J[ce]||0)+1}),te.forEach(function(ce){J[ce]=(J[ce]||0)-1});var V=d?1:0,ae=Object.values(J).reduce(function(ce,U){return ce+Math.abs(U)},0);return ae<=V?M:n},[n,M,d]);return[S,h,O,se,ie]}function Js(t,e,n,r,o,a){var s=l.useCallback(function(h){return Math.max(t,Math.min(e,h))},[t,e]),i=l.useCallback(function(h){if(n!==null){var m=t+Math.round((s(h)-t)/n)*n,g=function(y){return(String(y).split(".")[1]||"").length},v=Math.max(g(n),g(e),g(t)),S=Number(m.toFixed(v));return t<=S&&S<=e?S:null}return null},[n,t,e,s]),c=l.useCallback(function(h){var m=s(h),g=r.map(function(b){return b.value});n!==null&&g.push(i(h)),g.push(t,e);var v=g[0],S=e-t;return g.forEach(function(b){var y=Math.abs(m-b);y<=S&&(v=b,S=y)}),v},[t,e,r,n,s,i]),d=function h(m,g,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var b,y=m[v],x=y+g,O=[];r.forEach(function(I){O.push(I.value)}),O.push(t,e),O.push(i(y));var E=g>0?1:-1;S==="unit"?O.push(i(y+E*n)):O.push(i(x)),O=O.filter(function(I){return I!==null}).filter(function(I){return g<0?I<=y:I>=y}),S==="unit"&&(O=O.filter(function(I){return I!==y}));var D=S==="unit"?y:x;b=O[0];var N=Math.abs(b-D);if(O.forEach(function(I){var P=Math.abs(I-D);P<N&&(b=I,N=P)}),b===void 0)return g<0?t:e;if(S==="dist")return b;if(Math.abs(g)>1){var M=Ae(m);return M[v]=b,h(M,g-E,v,S)}return b}else{if(g==="min")return t;if(g==="max")return e}},u=function(m,g,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=m[v],y=d(m,g,v,S);return{value:y,changed:y!==b}},f=function(m){return a===null&&m===0||typeof a=="number"&&m<a},p=function(m,g,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=m.map(c),y=b[v],x=d(b,g,v,S);if(b[v]=x,o===!1){var O=a||0;v>0&&b[v-1]!==y&&(b[v]=Math.max(b[v],b[v-1]+O)),v<b.length-1&&b[v+1]!==y&&(b[v]=Math.min(b[v],b[v+1]-O))}else if(typeof a=="number"||a===null){for(var E=v+1;E<b.length;E+=1)for(var D=!0;f(b[E]-b[E-1])&&D;){var N=u(b,1,E);b[E]=N.value,D=N.changed}for(var M=v;M>0;M-=1)for(var I=!0;f(b[M]-b[M-1])&&I;){var P=u(b,-1,M-1);b[M-1]=P.value,I=P.changed}for(var _=b.length-1;_>0;_-=1)for(var $=!0;f(b[_]-b[_-1])&&$;){var C=u(b,-1,_-1);b[_-1]=C.value,$=C.changed}for(var R=0;R<b.length-1;R+=1)for(var j=!0;f(b[R+1]-b[R])&&j;){var k=u(b,1,R+1);b[R+1]=k.value,j=k.changed}}return{value:b[v],values:b}};return[c,p]}function Zs(t){return l.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,o=t.maxCount;return[!0,e,!e&&n,r||0,o]},[t])}var el=l.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,o=t.className,a=t.style,s=t.classNames,i=t.styles,c=t.id,d=t.disabled,u=d===void 0?!1:d,f=t.keyboard,p=f===void 0?!0:f,h=t.autoFocus,m=t.onFocus,g=t.onBlur,v=t.min,S=v===void 0?0:v,b=t.max,y=b===void 0?100:b,x=t.step,O=x===void 0?1:x,E=t.value,D=t.defaultValue,N=t.range,M=t.count,I=t.onChange,P=t.onBeforeChange,_=t.onAfterChange,$=t.onChangeComplete,C=t.allowCross,R=C===void 0?!0:C,j=t.pushable,k=j===void 0?!1:j,H=t.reverse,A=t.vertical,Q=t.included,ee=Q===void 0?!0:Q,X=t.startPoint,ie=t.trackStyle,se=t.handleStyle,te=t.railStyle,z=t.dotStyle,J=t.activeDotStyle,V=t.marks,ae=t.dots,ce=t.handleRender,U=t.activeHandleRender,re=t.track,fe=t.tabIndex,ye=fe===void 0?0:fe,he=t.ariaLabelForHandle,be=t.ariaLabelledByForHandle,Se=t.ariaRequired,Ne=t.ariaValueTextFormatterForHandle,me=l.useRef(null),Ce=l.useRef(null),Te=l.useMemo(function(){return A?H?"ttb":"btt":H?"rtl":"ltr"},[H,A]),Fe=Zs(N),Re=oe(Fe,5),Me=Re[0],Pe=Re[1],Be=Re[2],He=Re[3],ke=Re[4],xe=l.useMemo(function(){return isFinite(S)?S:0},[S]),je=l.useMemo(function(){return isFinite(y)?y:100},[y]),de=l.useMemo(function(){return O!==null&&O<=0?1:O},[O]),_e=l.useMemo(function(){return typeof k=="boolean"?k?de:!1:k>=0?k:!1},[k,de]),Ve=l.useMemo(function(){return Object.keys(V||{}).map(function(le){var W=V[le],ue={value:Number(le)};return W&&cn(W)==="object"&&!l.isValidElement(W)&&("label"in W||"style"in W)?(ue.style=W.style,ue.label=W.label):ue.label=W,ue}).filter(function(le){var W=le.label;return W||typeof W=="number"}).sort(function(le,W){return le.value-W.value})},[V]),dt=Js(xe,je,de,Ve,R,_e),qe=oe(dt,2),ge=qe[0],De=qe[1],Ue=rt(D,{value:E}),$e=oe(Ue,2),we=$e[0],_t=$e[1],F=l.useMemo(function(){var le=we==null?[]:Array.isArray(we)?we:[we],W=oe(le,1),ue=W[0],ve=ue===void 0?xe:ue,Ie=we===null?[]:[ve];if(Me){if(Ie=Ae(le),M||we===void 0){var gt=M>=0?M+1:2;for(Ie=Ie.slice(0,gt);Ie.length<gt;){var it;Ie.push((it=Ie[Ie.length-1])!==null&&it!==void 0?it:xe)}}Ie.sort(function(st,lt){return st-lt})}return Ie.forEach(function(st,lt){Ie[lt]=ge(st)}),Ie},[we,Me,xe,M,ge]),B=function(W){return Me?W:W[0]},ne=nt(function(le){var W=Ae(le).sort(function(ue,ve){return ue-ve});I&&!ei(W,F,!0)&&I(B(W)),_t(W)}),Y=nt(function(le){le&&me.current.hideHelp();var W=B(F);_==null||_(W),_n(!_,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(W)}),Ge=function(W){if(!(u||!Pe||F.length<=He)){var ue=Ae(F);ue.splice(W,1),P==null||P(B(ue)),ne(ue);var ve=Math.max(0,W-1);me.current.hideHelp(),me.current.focus(ve)}},St=Qs(Ce,Te,F,xe,je,ge,ne,Y,De,Pe,He),at=oe(St,5),dr=at[0],ma=at[1],va=at[2],yn=at[3],gr=at[4],fr=function(W,ue){if(!u){var ve=Ae(F),Ie=0,gt=0,it=je-xe;F.forEach(function(ft,Gt){var yr=Math.abs(W-ft);yr<=it&&(it=yr,Ie=Gt),ft<W&&(gt=Gt)});var st=Ie;Pe&&it!==0&&(!ke||F.length<ke)?(ve.splice(gt+1,0,W),st=gt+1):ve[Ie]=W,Me&&!F.length&&M===void 0&&ve.push(W);var lt=B(ve);if(P==null||P(lt),ne(ve),ue){var Ct,Pt;(Ct=document.activeElement)===null||Ct===void 0||(Pt=Ct.blur)===null||Pt===void 0||Pt.call(Ct),me.current.focus(st),gr(ue,st,ve)}else _==null||_(lt),_n(!_,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(lt)}},pa=function(W){W.preventDefault();var ue=Ce.current.getBoundingClientRect(),ve=ue.width,Ie=ue.height,gt=ue.left,it=ue.top,st=ue.bottom,lt=ue.right,Ct=W.clientX,Pt=W.clientY,ft;switch(Te){case"btt":ft=(st-Pt)/Ie;break;case"ttb":ft=(Pt-it)/Ie;break;case"rtl":ft=(lt-Ct)/ve;break;default:ft=(Ct-gt)/ve}var Gt=xe+ft*(je-xe);fr(ge(Gt),W)},ba=l.useState(null),hr=oe(ba,2),xn=hr[0],mr=hr[1],Sa=function(W,ue){if(!u){var ve=De(F,W,ue);P==null||P(B(F)),ne(ve.values),mr(ve.value)}};l.useEffect(function(){if(xn!==null){var le=F.indexOf(xn);le>=0&&me.current.focus(le)}mr(null)},[xn]);var Ca=l.useMemo(function(){return Be&&de===null?!1:Be},[Be,de]),vr=nt(function(le,W){gr(le,W),P==null||P(B(F))}),pr=dr!==-1;l.useEffect(function(){if(!pr){var le=F.lastIndexOf(ma);me.current.focus(le)}},[pr]);var At=l.useMemo(function(){return Ae(yn).sort(function(le,W){return le-W})},[yn]),ya=l.useMemo(function(){return Me?[At[0],At[At.length-1]]:[xe,At[0]]},[At,Me,xe]),br=oe(ya,2),Sr=br[0],Cr=br[1];l.useImperativeHandle(e,function(){return{focus:function(){me.current.focus(0)},blur:function(){var W,ue=document,ve=ue.activeElement;(W=Ce.current)!==null&&W!==void 0&&W.contains(ve)&&(ve==null||ve.blur())}}}),l.useEffect(function(){h&&me.current.focus(0)},[]);var xa=l.useMemo(function(){return{min:xe,max:je,direction:Te,disabled:u,keyboard:p,step:de,included:ee,includedStart:Sr,includedEnd:Cr,range:Me,tabIndex:ye,ariaLabelForHandle:he,ariaLabelledByForHandle:be,ariaRequired:Se,ariaValueTextFormatterForHandle:Ne,styles:i||{},classNames:s||{}}},[xe,je,Te,u,p,de,ee,Sr,Cr,Me,ye,he,be,Se,Ne,i,s]);return l.createElement(Mt.Provider,{value:xa},l.createElement("div",{ref:Ce,className:G(r,o,Z(Z(Z(Z({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),A),"".concat(r,"-horizontal"),!A),"".concat(r,"-with-marks"),Ve.length)),style:a,onMouseDown:pa,id:c},l.createElement("div",{className:G("".concat(r,"-rail"),s==null?void 0:s.rail),style:Ee(Ee({},te),i==null?void 0:i.rail)}),re!==!1&&l.createElement(Ys,{prefixCls:r,style:ie,values:F,startPoint:X,onStartMove:Ca?vr:void 0}),l.createElement(Xs,{prefixCls:r,marks:Ve,dots:ae,style:z,activeStyle:J}),l.createElement(Vs,{ref:me,prefixCls:r,style:se,values:yn,draggingIndex:dr,draggingDelete:va,onStartMove:vr,onOffsetChange:Sa,onFocus:m,onBlur:g,handleRender:ce,activeHandleRender:U,onChangeComplete:Y,onDelete:Pe?Ge:void 0}),l.createElement(Us,{prefixCls:r,marks:Ve,onClick:fr})))});const Ho=l.createContext({}),kr=l.forwardRef((t,e)=>{const{open:n,draggingDelete:r}=t,o=l.useRef(null),a=n&&!r,s=l.useRef(null);function i(){ut.cancel(s.current),s.current=null}function c(){s.current=ut(()=>{var d;(d=o.current)===null||d===void 0||d.forceAlign(),s.current=null})}return l.useEffect(()=>(a?c():i(),i),[a,t.title]),l.createElement($t,Object.assign({ref:ln(o,e)},t,{open:a}))}),tl=t=>{const{componentCls:e,antCls:n,controlSize:r,dotSize:o,marginFull:a,marginPart:s,colorFillContentHover:i,handleColorDisabled:c,calc:d,handleSize:u,handleSizeHover:f,handleActiveColor:p,handleActiveOutlineColor:h,handleLineWidth:m,handleLineWidthHover:g,motionDurationMid:v}=t;return{[e]:Object.assign(Object.assign({},mt(t)),{position:"relative",height:r,margin:`${L(s)} ${L(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${L(a)} ${L(s)}`},[`${e}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${v}`},[`${e}-track,${e}-tracks`]:{position:"absolute",transition:`background-color ${v}`},[`${e}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${e}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${e}-rail`]:{backgroundColor:t.railHoverBg},[`${e}-track`]:{backgroundColor:t.trackHoverBg},[`${e}-dot`]:{borderColor:i},[`${e}-handle::after`]:{boxShadow:`0 0 0 ${L(m)} ${t.colorPrimaryBorderHover}`},[`${e}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${e}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:d(m).mul(-1).equal(),insetBlockStart:d(m).mul(-1).equal(),width:d(u).add(d(m).mul(2)).equal(),height:d(u).add(d(m).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${L(m)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${v},
            inset-block-start ${v},
            width ${v},
            height ${v},
            box-shadow ${v},
            outline ${v}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:d(f).sub(u).div(2).add(g).mul(-1).equal(),insetBlockStart:d(f).sub(u).div(2).add(g).mul(-1).equal(),width:d(f).add(d(g).mul(2)).equal(),height:d(f).add(d(g).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${L(g)} ${p}`,outline:`6px solid ${h}`,width:f,height:f,insetInlineStart:t.calc(u).sub(f).div(2).equal(),insetBlockStart:t.calc(u).sub(f).div(2).equal()}}},[`&-lock ${e}-handle`]:{"&::before, &::after":{transition:"none"}},[`${e}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${e}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${e}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${e}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:t.colorBgElevated,border:`${L(m)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${e}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${e}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${e}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${L(m)} ${c}`,insetInlineStart:0,insetBlockStart:0},[`
          ${e}-mark-text,
          ${e}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},_o=(t,e)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:a,marginFull:s,calc:i}=t,c=e?"paddingBlock":"paddingInline",d=e?"width":"height",u=e?"height":"width",f=e?"insetBlockStart":"insetInlineStart",p=e?"top":"insetInlineStart",h=i(r).mul(3).sub(o).div(2).equal(),m=i(o).sub(r).div(2).equal(),g=e?{borderWidth:`${L(m)} 0`,transform:`translateY(${L(i(m).mul(-1).equal())})`}:{borderWidth:`0 ${L(m)}`,transform:`translateX(${L(t.calc(m).mul(-1).equal())})`};return{[c]:r,[u]:i(r).mul(3).equal(),[`${n}-rail`]:{[d]:"100%",[u]:r},[`${n}-track,${n}-tracks`]:{[u]:r},[`${n}-track-draggable`]:Object.assign({},g),[`${n}-handle`]:{[f]:h},[`${n}-mark`]:{insetInlineStart:0,top:0,[p]:i(r).mul(3).add(e?0:s).equal(),[d]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[p]:r,[d]:"100%",[u]:r},[`${n}-dot`]:{position:"absolute",[f]:i(r).sub(a).div(2).equal()}}},nl=t=>{const{componentCls:e,marginPartWithMark:n}=t;return{[`${e}-horizontal`]:Object.assign(Object.assign({},_o(t,!0)),{[`&${e}-with-marks`]:{marginBottom:n}})}},rl=t=>{const{componentCls:e}=t;return{[`${e}-vertical`]:Object.assign(Object.assign({},_o(t,!1)),{height:"100%"})}},ol=t=>{const n=t.controlHeightLG/4,r=t.controlHeightSM/2,o=t.lineWidth+1,a=t.lineWidth+1*1.5,s=t.colorPrimary,i=new rn(s).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:s,handleActiveOutlineColor:i,handleColorDisabled:new rn(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},al=Tt("Slider",t=>{const e=Rt(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[tl(e),nl(e),rl(e)]},ol);function Dn(){const[t,e]=l.useState(!1),n=l.useRef(null),r=()=>{ut.cancel(n.current)},o=a=>{r(),a?e(a):n.current=ut(()=>{e(a)})};return l.useEffect(()=>r,[]),[t,o]}var il=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function sl(t,e){return t||t===null?t:e||e===null?e:n=>typeof n=="number"?n.toString():""}const ll=T.forwardRef((t,e)=>{var n,r,o,a,s,i,c,d,u,f;const{prefixCls:p,range:h,className:m,rootClassName:g,style:v,disabled:S,tooltipPrefixCls:b,tipFormatter:y,tooltipVisible:x,getTooltipPopupContainer:O,tooltipPlacement:E,tooltip:D={},onChangeComplete:N,classNames:M,styles:I}=t,P=il(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:_}=t,{direction:$,slider:C,getPrefixCls:R,getPopupContainer:j}=T.useContext(bt),k=T.useContext(dn),H=S??k,{handleRender:A,direction:Q}=T.useContext(Ho),X=(Q||$)==="rtl",[ie,se]=Dn(),[te,z]=Dn(),J=Object.assign({},D),{open:V,placement:ae,getPopupContainer:ce,prefixCls:U,formatter:re}=J,fe=V??x,ye=(ie||te)&&fe!==!1,he=sl(re,y),[be,Se]=Dn(),Ne=de=>{N==null||N(de),Se(!1)},me=(de,_e)=>de||(_e?X?"left":"right":"top"),Ce=R("slider",p),[Te,Fe,Re]=al(Ce),Me=G(m,C==null?void 0:C.className,(n=C==null?void 0:C.classNames)===null||n===void 0?void 0:n.root,M==null?void 0:M.root,g,{[`${Ce}-rtl`]:X,[`${Ce}-lock`]:be},Fe,Re);X&&!P.vertical&&(P.reverse=!P.reverse),T.useEffect(()=>{const de=()=>{ut(()=>{z(!1)},1)};return document.addEventListener("mouseup",de),()=>{document.removeEventListener("mouseup",de)}},[]);const Pe=h&&!fe,Be=A||((de,_e)=>{const{index:Ve}=_e,dt=de.props;function qe($e,we,_t){var F,B,ne,Y;_t&&((B=(F=P)[$e])===null||B===void 0||B.call(F,we)),(Y=(ne=dt)[$e])===null||Y===void 0||Y.call(ne,we)}const ge=Object.assign(Object.assign({},dt),{onMouseEnter:$e=>{se(!0),qe("onMouseEnter",$e)},onMouseLeave:$e=>{se(!1),qe("onMouseLeave",$e)},onMouseDown:$e=>{z(!0),Se(!0),qe("onMouseDown",$e)},onFocus:$e=>{var we;z(!0),(we=P.onFocus)===null||we===void 0||we.call(P,$e),qe("onFocus",$e,!0)},onBlur:$e=>{var we;z(!1),(we=P.onBlur)===null||we===void 0||we.call(P,$e),qe("onBlur",$e,!0)}}),De=T.cloneElement(de,ge),Ue=(!!fe||ye)&&he!==null;return Pe?De:T.createElement(kr,Object.assign({},J,{prefixCls:R("tooltip",U??b),title:he?he(_e.value):"",open:Ue,placement:me(ae??E,_),key:Ve,classNames:{root:`${Ce}-tooltip`},getPopupContainer:ce||O||j}),De)}),He=Pe?(de,_e)=>{const Ve=T.cloneElement(de,{style:Object.assign(Object.assign({},de.props.style),{visibility:"hidden"})});return T.createElement(kr,Object.assign({},J,{prefixCls:R("tooltip",U??b),title:he?he(_e.value):"",open:he!==null&&ye,placement:me(ae??E,_),key:"tooltip",classNames:{root:`${Ce}-tooltip`},getPopupContainer:ce||O||j,draggingDelete:_e.draggingDelete}),Ve)}:void 0,ke=Object.assign(Object.assign(Object.assign(Object.assign({},(r=C==null?void 0:C.styles)===null||r===void 0?void 0:r.root),C==null?void 0:C.style),I==null?void 0:I.root),v),xe=Object.assign(Object.assign({},(o=C==null?void 0:C.styles)===null||o===void 0?void 0:o.tracks),I==null?void 0:I.tracks),je=G((a=C==null?void 0:C.classNames)===null||a===void 0?void 0:a.tracks,M==null?void 0:M.tracks);return Te(T.createElement(el,Object.assign({},P,{classNames:Object.assign({handle:G((s=C==null?void 0:C.classNames)===null||s===void 0?void 0:s.handle,M==null?void 0:M.handle),rail:G((i=C==null?void 0:C.classNames)===null||i===void 0?void 0:i.rail,M==null?void 0:M.rail),track:G((c=C==null?void 0:C.classNames)===null||c===void 0?void 0:c.track,M==null?void 0:M.track)},je?{tracks:je}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},(d=C==null?void 0:C.styles)===null||d===void 0?void 0:d.handle),I==null?void 0:I.handle),rail:Object.assign(Object.assign({},(u=C==null?void 0:C.styles)===null||u===void 0?void 0:u.rail),I==null?void 0:I.rail),track:Object.assign(Object.assign({},(f=C==null?void 0:C.styles)===null||f===void 0?void 0:f.track),I==null?void 0:I.track)},Object.keys(xe).length?{tracks:xe}:{}),step:P.step,range:h,className:Me,style:ke,disabled:H,ref:e,prefixCls:Ce,handleRender:Be,activeHandleRender:He,onChangeComplete:Ne})))});var cl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Ao=t=>{const{prefixCls:e,colors:n,type:r,color:o,range:a=!1,className:s,activeIndex:i,onActive:c,onDragStart:d,onDragChange:u,onKeyDelete:f}=t,p=cl(t,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),h=Object.assign(Object.assign({},p),{track:!1}),m=l.useMemo(()=>`linear-gradient(90deg, ${n.map(E=>`${E.color} ${E.percent}%`).join(", ")})`,[n]),g=l.useMemo(()=>!o||!r?null:r==="alpha"?o.toRgbString():`hsl(${o.toHsb().h}, 100%, 50%)`,[o,r]),v=nt(d),S=nt(u),b=l.useMemo(()=>({onDragStart:v,onDragChange:S}),[]),y=nt((O,E)=>{const{onFocus:D,style:N,className:M,onKeyDown:I}=O.props,P=Object.assign({},N);return r==="gradient"&&(P.background=vo(n,E.value)),l.cloneElement(O,{onFocus:_=>{c==null||c(E.index),D==null||D(_)},style:P,className:G(M,{[`${e}-slider-handle-active`]:i===E.index}),onKeyDown:_=>{(_.key==="Delete"||_.key==="Backspace")&&f&&f(E.index),I==null||I(_)}})}),x=l.useMemo(()=>({direction:"ltr",handleRender:y}),[]);return l.createElement(Ho.Provider,{value:x},l.createElement(ko.Provider,{value:b},l.createElement(ll,Object.assign({},h,{className:G(s,`${e}-slider`),tooltip:{open:!1},range:{editable:a,minCount:2},styles:{rail:{background:m},handle:g?{background:g}:{}},classNames:{rail:`${e}-slider-rail`,handle:`${e}-slider-handle`}}))))},ul=t=>{const{value:e,onChange:n,onChangeComplete:r}=t,o=s=>n(s[0]),a=s=>r(s[0]);return l.createElement(Ao,Object.assign({},t,{value:[e],onChange:o,onChangeComplete:a}))};function Hr(t){return Ae(t).sort((e,n)=>e.percent-n.percent)}const dl=t=>{const{prefixCls:e,mode:n,onChange:r,onChangeComplete:o,onActive:a,activeIndex:s,onGradientDragging:i,colors:c}=t,d=n==="gradient",u=l.useMemo(()=>c.map(S=>({percent:S.percent,color:S.color.toRgbString()})),[c]),f=l.useMemo(()=>u.map(S=>S.percent),[u]),p=l.useRef(u),h=S=>{let{rawValues:b,draggingIndex:y,draggingValue:x}=S;if(b.length>u.length){const O=vo(u,x),E=Ae(u);E.splice(y,0,{percent:x,color:O}),p.current=E}else p.current=u;i(!0),r(new tt(Hr(p.current)),!0)},m=S=>{let{deleteIndex:b,draggingIndex:y,draggingValue:x}=S,O=Ae(p.current);b!==-1?O.splice(b,1):(O[y]=Object.assign(Object.assign({},O[y]),{percent:x}),O=Hr(O)),r(new tt(O),!0)},g=S=>{const b=Ae(u);b.splice(S,1);const y=new tt(b);r(y),o(y)},v=S=>{o(new tt(u)),s>=S.length&&a(S.length-1),i(!1)};return d?l.createElement(Ao,{min:0,max:100,prefixCls:e,className:`${e}-gradient-slider`,colors:u,color:null,value:f,range:!0,onChangeComplete:v,disabled:!1,type:"gradient",activeIndex:s,onActive:a,onDragStart:h,onDragChange:m,onKeyDelete:g}):null},gl=l.memo(dl);var fl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const hl={slider:ul},_r=()=>{const t=l.useContext(No),{mode:e,onModeChange:n,modeOptions:r,prefixCls:o,allowClear:a,value:s,disabledAlpha:i,onChange:c,onClear:d,onChangeComplete:u,activeIndex:f,gradientDragging:p}=t,h=fl(t,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),m=T.useMemo(()=>s.cleared?[{percent:0,color:new tt("")},{percent:100,color:new tt("")}]:s.getColors(),[s]),g=!s.isGradient(),[v,S]=T.useState(s);qt(()=>{var C;g||S((C=m[f])===null||C===void 0?void 0:C.color)},[p,f]);const b=T.useMemo(()=>{var C;return g?s:p?v:(C=m[f])===null||C===void 0?void 0:C.color},[s,f,g,v,p]),[y,x]=T.useState(b),[O,E]=T.useState(0),D=y!=null&&y.equals(b)?b:y;qt(()=>{x(b)},[O,b==null?void 0:b.toHexString()]);const N=(C,R)=>{let j=Qe(C);if(s.cleared){const H=j.toRgb();if(!H.r&&!H.g&&!H.b&&R){const{type:A,value:Q=0}=R;j=new tt({h:A==="hue"?Q:0,s:1,b:1,a:A==="alpha"?Q/100:1})}else j=Kt(j)}if(e==="single")return j;const k=Ae(m);return k[f]=Object.assign(Object.assign({},k[f]),{color:j}),new tt(k)},M=(C,R,j)=>{const k=N(C,j);x(k.isGradient()?k.getColors()[f].color:k),c(k,R)},I=(C,R)=>{u(N(C,R)),E(j=>j+1)},P=C=>{c(N(C))};let _=null;const $=r.length>1;return(a||$)&&(_=T.createElement("div",{className:`${o}-operation`},$&&T.createElement(ds,{size:"small",options:r,value:e,onChange:n}),T.createElement(Ro,Object.assign({prefixCls:o,value:s,onChange:C=>{c(C),d==null||d()}},h)))),T.createElement(T.Fragment,null,_,T.createElement(gl,Object.assign({},t,{colors:m})),T.createElement(Li,{prefixCls:o,value:D==null?void 0:D.toHsb(),disabledAlpha:i,onChange:(C,R)=>{M(C,!0,R)},onChangeComplete:(C,R)=>{I(C,R)},components:hl}),T.createElement(Bs,Object.assign({value:b,onChange:P,prefixCls:o,disabledAlpha:i},h)))},Ar=()=>{const{prefixCls:t,value:e,presets:n,onChange:r}=l.useContext(To);return Array.isArray(n)?T.createElement(ti,{value:e,presets:n,prefixCls:t,onChange:r}):null},ml=t=>{const{prefixCls:e,presets:n,panelRender:r,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:c,mode:d,onModeChange:u,modeOptions:f,onChangeComplete:p,activeIndex:h,onActive:m,format:g,onFormatChange:v,gradientDragging:S,onGradientDragging:b,disabledFormat:y}=t,x=`${e}-inner`,O=T.useMemo(()=>({prefixCls:e,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:c,mode:d,onModeChange:u,modeOptions:f,onChangeComplete:p,activeIndex:h,onActive:m,format:g,onFormatChange:v,gradientDragging:S,onGradientDragging:b,disabledFormat:y}),[e,o,a,s,i,c,d,u,f,p,h,m,g,v,S,b,y]),E=T.useMemo(()=>({prefixCls:e,value:o,presets:n,onChange:a}),[e,o,n,a]),D=T.createElement("div",{className:`${x}-content`},T.createElement(_r,null),Array.isArray(n)&&T.createElement(Io,null),T.createElement(Ar,null));return T.createElement(No.Provider,{value:O},T.createElement(To.Provider,{value:E},T.createElement("div",{className:x},typeof r=="function"?r(D,{components:{Picker:_r,Presets:Ar}}):D)))};var vl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const pl=l.forwardRef((t,e)=>{const{color:n,prefixCls:r,open:o,disabled:a,format:s,className:i,showText:c,activeIndex:d}=t,u=vl(t,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),f=`${r}-trigger`,p=`${f}-text`,h=`${p}-cell`,[m]=po("ColorPicker"),g=T.useMemo(()=>{if(!c)return"";if(typeof c=="function")return c(n);if(n.cleared)return m.transparent;if(n.isGradient())return n.getColors().map((y,x)=>{const O=d!==-1&&d!==x;return T.createElement("span",{key:x,className:G(h,O&&`${h}-inactive`)},y.color.toRgbString()," ",y.percent,"%")});const S=n.toHexString().toUpperCase(),b=Jn(n);switch(s){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return b<100?`${S.slice(0,7)},${b}%`:S}},[n,s,c,d]),v=l.useMemo(()=>n.cleared?T.createElement(Ro,{prefixCls:r}):T.createElement(ao,{prefixCls:r,color:n.toCssString()}),[n,r]);return T.createElement("div",Object.assign({ref:e,className:G(f,i,{[`${f}-active`]:o,[`${f}-disabled`]:a})},ni(u)),v,c&&T.createElement("div",{className:p},g))});function bl(t,e,n){const[r]=po("ColorPicker"),[o,a]=rt(t,{value:e}),[s,i]=l.useState("single"),[c,d]=l.useMemo(()=>{const g=(Array.isArray(n)?n:[n]).filter(y=>y);g.length||g.push("single");const v=new Set(g),S=[],b=(y,x)=>{v.has(y)&&S.push({label:x,value:y})};return b("single",r.singleColor),b("gradient",r.gradientColor),[S,v]},[n]),[u,f]=l.useState(null),p=nt(g=>{f(g),a(g)}),h=l.useMemo(()=>{const g=Qe(o||"");return g.equals(u)?u:g},[o,u]),m=l.useMemo(()=>{var g;return d.has(s)?s:(g=c[0])===null||g===void 0?void 0:g.value},[d,s,c]);return l.useEffect(()=>{i(h.isGradient()?"gradient":"single")},[h]),[h,p,m,i,c]}const Lo=(t,e)=>({backgroundImage:`conic-gradient(${e} 0 25%, transparent 0 50%, ${e} 0 75%, transparent 0)`,backgroundSize:`${t} ${t}`}),Lr=(t,e)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:o,lineWidth:a,colorFillSecondary:s}=t;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:e,height:e,boxShadow:o,flex:"none"},Lo("50%",t.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${L(a)} ${s}`,borderRadius:"inherit"}})}},Sl=t=>{const{componentCls:e,antCls:n,fontSizeSM:r,lineHeightSM:o,colorPickerAlphaInputWidth:a,marginXXS:s,paddingXXS:i,controlHeightSM:c,marginXS:d,fontSizeIcon:u,paddingXS:f,colorTextPlaceholder:p,colorPickerInputNumberHandleWidth:h,lineWidth:m}=t;return{[`${e}-input-container`]:{display:"flex",[`${e}-steppers${n}-input-number`]:{fontSize:r,lineHeight:o,[`${n}-input-number-input`]:{paddingInlineStart:i,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:h}},[`${e}-steppers${e}-alpha-input`]:{flex:`0 0 ${L(a)}`,marginInlineStart:s},[`${e}-format-select${n}-select`]:{marginInlineEnd:d,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:t.calc(u).add(s).equal(),fontSize:r,lineHeight:L(c)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:o},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${e}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${e}-hsb-input,${e}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${e}-steppers`]:{flex:1},[`${e}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${L(f)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:L(t.calc(c).sub(t.calc(m).mul(2)).equal())},[`${n}-input-prefix`]:{color:p}}}}}},Cl=t=>{const{componentCls:e,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:o,marginSM:a,colorBgElevated:s,colorFillSecondary:i,lineWidthBold:c,colorPickerHandlerSize:d}=t;return{userSelect:"none",[`${e}-select`]:{[`${e}-palette`]:{minHeight:t.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${e}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:a},[`${e}-handler`]:{width:d,height:d,border:`${L(c)} solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${i}`}}},yl=t=>{const{componentCls:e,antCls:n,colorTextQuaternary:r,paddingXXS:o,colorPickerPresetColorSize:a,fontSizeSM:s,colorText:i,lineHeightSM:c,lineWidth:d,borderRadius:u,colorFill:f,colorWhite:p,marginXXS:h,paddingXS:m,fontHeightSM:g}=t;return{[`${e}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:g,color:r,paddingInlineEnd:o}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${L(m)} 0`},"&-label":{fontSize:s,color:i,lineHeight:c},"&-items":{display:"flex",flexWrap:"wrap",gap:t.calc(h).mul(1.5).equal(),[`${e}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:t.calc(a).add(t.calc(d).mul(4)).equal(),height:t.calc(a).add(t.calc(d).mul(4)).equal(),position:"absolute",top:t.calc(d).mul(-2).equal(),insetInlineStart:t.calc(d).mul(-2).equal(),borderRadius:u,border:`${L(d)} solid transparent`,transition:`border-color ${t.motionDurationMid} ${t.motionEaseInBack}`},"&:hover::before":{borderColor:f},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:t.calc(a).div(13).mul(5).equal(),height:t.calc(a).div(13).mul(8).equal(),border:`${L(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`},[`&${e}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:p,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`},[`&${e}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:r}}}},xl=t=>{const{componentCls:e,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:o,lineWidthBold:a,colorPickerHandlerSizeSM:s,colorPickerSliderHeight:i,marginSM:c,marginXS:d}=t,u=t.calc(s).sub(t.calc(a).mul(2).equal()).equal(),f=t.calc(s).add(t.calc(a).mul(2).equal()).equal(),p={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${t.colorPrimaryActive}`}};return{[`${e}-slider`]:[Lo(L(i),t.colorFillSecondary),{margin:0,padding:0,height:i,borderRadius:t.calc(i).div(2).equal(),"&-rail":{height:i,borderRadius:t.calc(i).div(2).equal(),boxShadow:n},[`& ${e}-slider-handle`]:{width:u,height:u,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:f,height:f,borderRadius:"100%"},"&:after":{width:s,height:s,border:`${L(a)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${o}`,outline:"none",insetInlineStart:t.calc(a).mul(-1).equal(),top:t.calc(a).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":p}}],[`${e}-slider-container`]:{display:"flex",gap:c,marginBottom:c,[`${e}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${e}-gradient-slider`]:{marginBottom:d,[`& ${e}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":p}}}},zn=(t,e,n)=>({borderInlineEndWidth:t.lineWidth,borderColor:e,boxShadow:`0 0 0 ${L(t.controlOutlineWidth)} ${n}`,outline:0}),wl=t=>{const{componentCls:e}=t;return{"&-rtl":{[`${e}-presets-color`]:{"&::after":{direction:"ltr"}},[`${e}-clear`]:{"&::after":{direction:"ltr"}}}}},Fr=(t,e,n)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:a,colorSplit:s,colorBorder:i,red6:c}=t;return{[`${r}-clear`]:Object.assign(Object.assign({width:e,height:e,borderRadius:o,border:`${L(a)} solid ${s}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${t.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:t.calc(a).mul(-1).equal(),top:t.calc(a).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:c},"&:hover":{borderColor:i}})}},Ol=t=>{const{componentCls:e,colorError:n,colorWarning:r,colorErrorHover:o,colorWarningHover:a,colorErrorOutline:s,colorWarningOutline:i}=t;return{[`&${e}-status-error`]:{borderColor:n,"&:hover":{borderColor:o},[`&${e}-trigger-active`]:Object.assign({},zn(t,n,s))},[`&${e}-status-warning`]:{borderColor:r,"&:hover":{borderColor:a},[`&${e}-trigger-active`]:Object.assign({},zn(t,r,i))}}},El=t=>{const{componentCls:e,controlHeightLG:n,controlHeightSM:r,controlHeight:o,controlHeightXS:a,borderRadius:s,borderRadiusSM:i,borderRadiusXS:c,borderRadiusLG:d,fontSizeLG:u}=t;return{[`&${e}-lg`]:{minWidth:n,minHeight:n,borderRadius:d,[`${e}-color-block, ${e}-clear`]:{width:o,height:o,borderRadius:s},[`${e}-trigger-text`]:{fontSize:u}},[`&${e}-sm`]:{minWidth:r,minHeight:r,borderRadius:i,[`${e}-color-block, ${e}-clear`]:{width:a,height:a,borderRadius:c},[`${e}-trigger-text`]:{lineHeight:L(a)}}}},Dl=t=>{const{antCls:e,componentCls:n,colorPickerWidth:r,colorPrimary:o,motionDurationMid:a,colorBgElevated:s,colorTextDisabled:i,colorText:c,colorBgContainerDisabled:d,borderRadius:u,marginXS:f,marginSM:p,controlHeight:h,controlHeightSM:m,colorBgTextActive:g,colorPickerPresetColorSize:v,colorPickerPreviewSize:S,lineWidth:b,colorBorder:y,paddingXXS:x,fontSize:O,colorPrimaryHover:E,controlOutline:D}=t;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${e}-divider`]:{margin:`${L(p)} 0 ${L(f)}`}},[`${n}-panel`]:Object.assign({},Cl(t))},xl(t)),Lr(t,S)),Sl(t)),yl(t)),Fr(t,v,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:f}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:h,minHeight:h,borderRadius:u,border:`${L(b)} solid ${y}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${a}`,background:s,padding:t.calc(x).sub(b).equal(),[`${n}-trigger-text`]:{marginInlineStart:f,marginInlineEnd:t.calc(f).sub(t.calc(x).sub(b)).equal(),fontSize:O,color:c,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:i}}},"&:hover":{borderColor:E},[`&${n}-trigger-active`]:Object.assign({},zn(t,o,D)),"&-disabled":{color:i,background:d,cursor:"not-allowed","&:hover":{borderColor:g},[`${n}-trigger-text`]:{color:i}}},Fr(t,m)),Lr(t,m)),Ol(t)),El(t))},wl(t))},co(t,{focusElCls:`${n}-trigger-active`})]},$l=Tt("ColorPicker",t=>{const{colorTextQuaternary:e,marginSM:n}=t,r=8,o=Rt(t,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${e}`,colorPickerSliderHeight:r,colorPickerPreviewSize:t.calc(r).mul(2).add(n).equal()});return[Dl(o)]});var Il=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const rr=t=>{const{mode:e,value:n,defaultValue:r,format:o,defaultFormat:a,allowClear:s=!1,presets:i,children:c,trigger:d="click",open:u,disabled:f,placement:p="bottomLeft",arrow:h=!0,panelRender:m,showText:g,style:v,className:S,size:b,rootClassName:y,prefixCls:x,styles:O,disabledAlpha:E=!1,onFormatChange:D,onChange:N,onClear:M,onOpenChange:I,onChangeComplete:P,getPopupContainer:_,autoAdjustOverflow:$=!0,destroyTooltipOnHide:C,disabledFormat:R}=t,j=Il(t,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:k,direction:H,colorPicker:A}=l.useContext(bt),Q=l.useContext(dn),ee=f??Q,[X,ie]=rt(!1,{value:u,postState:ge=>!ee&&ge,onChange:I}),[se,te]=rt(o,{value:o,defaultValue:a,onChange:D}),z=k("color-picker",x),[J,V,ae,ce,U]=bl(r,n,e),re=l.useMemo(()=>Jn(J)<100,[J]),[fe,ye]=T.useState(null),he=ge=>{if(P){let De=Qe(ge);E&&re&&(De=Kt(ge)),P(De)}},be=(ge,De)=>{let Ue=Qe(ge);E&&re&&(Ue=Kt(Ue)),V(Ue),ye(null),N&&N(Ue,Ue.toCssString()),De||he(Ue)},[Se,Ne]=T.useState(0),[me,Ce]=T.useState(!1),Te=ge=>{if(ce(ge),ge==="single"&&J.isGradient())Ne(0),be(new tt(J.getColors()[0].color)),ye(J);else if(ge==="gradient"&&!J.isGradient()){const De=re?Kt(J):J;be(new tt(fe||[{percent:0,color:De},{percent:100,color:De}]))}},{status:Fe}=T.useContext(ho),{compactSize:Re,compactItemClassnames:Me}=fo(z,H),Pe=un(ge=>{var De;return(De=b??Re)!==null&&De!==void 0?De:ge}),Be=go(z),[He,ke,xe]=$l(z,Be),je={[`${z}-rtl`]:H},de=G(y,xe,Be,je),_e=G(Ln(z,Fe),{[`${z}-sm`]:Pe==="small",[`${z}-lg`]:Pe==="large"},Me,A==null?void 0:A.className,de,S,ke),Ve=G(z,de),dt={open:X,trigger:d,placement:p,arrow:h,rootClassName:y,getPopupContainer:_,autoAdjustOverflow:$,destroyTooltipOnHide:C},qe=Object.assign(Object.assign({},A==null?void 0:A.style),v);return He(T.createElement($o,Object.assign({style:O==null?void 0:O.popup,styles:{body:O==null?void 0:O.popupOverlayInner},onOpenChange:ge=>{(!ge||!ee)&&ie(ge)},content:T.createElement(An,{form:!0},T.createElement(ml,{mode:ae,onModeChange:Te,modeOptions:U,prefixCls:z,value:J,allowClear:s,disabled:ee,disabledAlpha:E,presets:i,panelRender:m,format:se,onFormatChange:te,onChange:be,onChangeComplete:he,onClear:M,activeIndex:Se,onActive:Ne,gradientDragging:me,onGradientDragging:Ce,disabledFormat:R})),classNames:{root:Ve}},dt),c||T.createElement(pl,Object.assign({activeIndex:X?Se:-1,open:X,className:_e,style:qe,prefixCls:z,disabled:ee,showText:g,format:se},j,{color:J}))))},Nl=Co(rr,void 0,t=>Object.assign(Object.assign({},t),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",t=>t);rr._InternalPanelDoNotUseOrYouWillBeFired=Nl;var Tl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"},Rl=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Tl}))},Ml=l.forwardRef(Rl),Pl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},jl=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Pl}))},kl=l.forwardRef(jl),Hl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},_l=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Hl}))},mn=l.forwardRef(_l),Al={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},Ll=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Al}))},Fl=l.forwardRef(Ll),Bl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},zl=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Bl}))},Wl=l.forwardRef(zl),Vl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},ql=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Vl}))},Ul=l.forwardRef(ql),Gl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},Xl=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Gl}))},Yl=l.forwardRef(Xl),Kl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},Ql=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Kl}))},Jl=l.forwardRef(Ql),Zl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},ec=function(e,n){return l.createElement(ot,pe({},e,{ref:n,icon:Zl}))},tc=l.forwardRef(ec),nc=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Fo=l.forwardRef(function(t,e){var n,r=t.prefixCls,o=r===void 0?"rc-switch":r,a=t.className,s=t.checked,i=t.defaultChecked,c=t.disabled,d=t.loadingIcon,u=t.checkedChildren,f=t.unCheckedChildren,p=t.onClick,h=t.onChange,m=t.onKeyDown,g=kt(t,nc),v=rt(!1,{value:s,defaultValue:i}),S=oe(v,2),b=S[0],y=S[1];function x(N,M){var I=b;return c||(I=N,y(I),h==null||h(I,M)),I}function O(N){N.which===Oe.LEFT?x(!1,N):N.which===Oe.RIGHT&&x(!0,N),m==null||m(N)}function E(N){var M=x(!b,N);p==null||p(M,N)}var D=G(o,a,(n={},Z(n,"".concat(o,"-checked"),b),Z(n,"".concat(o,"-disabled"),c),n));return l.createElement("button",pe({},g,{type:"button",role:"switch","aria-checked":b,disabled:c,className:D,ref:e,onKeyDown:O,onClick:E}),d,l.createElement("span",{className:"".concat(o,"-inner")},l.createElement("span",{className:"".concat(o,"-inner-checked")},u),l.createElement("span",{className:"".concat(o,"-inner-unchecked")},f)))});Fo.displayName="Switch";const rc=t=>{const{componentCls:e,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:a,innerMaxMarginSM:s,handleSizeSM:i,calc:c}=t,d=`${e}-inner`,u=L(c(i).add(c(r).mul(2)).equal()),f=L(c(s).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:o,height:n,lineHeight:L(n),[`${e}-inner`]:{paddingInlineStart:s,paddingInlineEnd:a,[`${d}-checked, ${d}-unchecked`]:{minHeight:n},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${f})`,marginInlineEnd:`calc(100% - ${u} + ${f})`},[`${d}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:i,height:i},[`${e}-loading-icon`]:{top:c(c(i).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:a,paddingInlineEnd:s,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${f})`,marginInlineEnd:`calc(-100% + ${u} - ${f})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${L(c(i).add(r).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:c(t.marginXXS).div(2).equal(),marginInlineEnd:c(t.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:c(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:c(t.marginXXS).div(2).equal()}}}}}}},oc=t=>{const{componentCls:e,handleSize:n,calc:r}=t;return{[e]:{[`${e}-loading-icon${t.iconCls}`]:{position:"relative",top:r(r(n).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:t.switchColor}}}},ac=t=>{const{componentCls:e,trackPadding:n,handleBg:r,handleShadow:o,handleSize:a,calc:s}=t,i=`${e}-handle`;return{[e]:{[i]:{position:"absolute",top:n,insetInlineStart:n,width:a,height:a,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(a).div(2).equal(),boxShadow:o,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${i}`]:{insetInlineStart:`calc(100% - ${L(s(a).add(n).equal())})`},[`&:not(${e}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},ic=t=>{const{componentCls:e,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:a,handleSize:s,calc:i}=t,c=`${e}-inner`,d=L(i(s).add(i(r).mul(2)).equal()),u=L(i(a).mul(2).equal());return{[e]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:a,paddingInlineEnd:o,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${c}-checked, ${c}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${u})`,marginInlineEnd:`calc(100% - ${d} + ${u})`},[`${c}-unchecked`]:{marginTop:i(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${c}`]:{paddingInlineStart:o,paddingInlineEnd:a,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${u})`,marginInlineEnd:`calc(-100% + ${d} - ${u})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:i(r).mul(2).equal(),marginInlineEnd:i(r).mul(-1).mul(2).equal()}},[`&${e}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:i(r).mul(-1).mul(2).equal(),marginInlineEnd:i(r).mul(2).equal()}}}}}},sc=t=>{const{componentCls:e,trackHeight:n,trackMinWidth:r}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:L(n),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:t.colorTextTertiary}}),io(t)),{[`&${e}-checked`]:{background:t.switchColor,[`&:hover:not(${e}-disabled)`]:{background:t.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},lc=t=>{const{fontSize:e,lineHeight:n,controlHeight:r,colorWhite:o}=t,a=e*n,s=r/2,i=2,c=a-i*2,d=s-i*2;return{trackHeight:a,trackHeightSM:s,trackMinWidth:c*2+i*4,trackMinWidthSM:d*2+i*2,trackPadding:i,handleBg:o,handleSize:c,handleSizeSM:d,handleShadow:`0 2px 4px 0 ${new rn("#00230b").setA(.2).toRgbString()}`,innerMinMargin:c/2,innerMaxMargin:c+i+i*2,innerMinMarginSM:d/2,innerMaxMarginSM:d+i+i*2}},cc=Tt("Switch",t=>{const e=Rt(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[sc(e),ic(e),ac(e),oc(e),rc(e)]},lc);var uc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const dc=l.forwardRef((t,e)=>{const{prefixCls:n,size:r,disabled:o,loading:a,className:s,rootClassName:i,style:c,checked:d,value:u,defaultChecked:f,defaultValue:p,onChange:h}=t,m=uc(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[g,v]=rt(!1,{value:d??u,defaultValue:f??p}),{getPrefixCls:S,direction:b,switch:y}=l.useContext(bt),x=l.useContext(dn),O=(o??x)||a,E=S("switch",n),D=l.createElement("div",{className:`${E}-handle`},a&&l.createElement(oi,{className:`${E}-loading-icon`})),[N,M,I]=cc(E),P=un(r),_=G(y==null?void 0:y.className,{[`${E}-small`]:P==="small",[`${E}-loading`]:a,[`${E}-rtl`]:b==="rtl"},s,i,M,I),$=Object.assign(Object.assign({},y==null?void 0:y.style),c),C=function(){v(arguments.length<=0?void 0:arguments[0]),h==null||h.apply(void 0,arguments)};return N(l.createElement(ri,{component:"Switch"},l.createElement(Fo,Object.assign({},m,{checked:g,onChange:C,prefixCls:E,className:_,style:$,disabled:O,ref:e,loadingIcon:D}))))}),Bo=dc;Bo.__ANT_SWITCH=!0;var gc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const{TimePicker:fc,RangePicker:hc}=yi,mc=l.forwardRef((t,e)=>l.createElement(hc,Object.assign({},t,{picker:"time",mode:void 0,ref:e}))),Ut=l.forwardRef((t,e)=>{var{addon:n,renderExtraFooter:r,variant:o,bordered:a}=t,s=gc(t,["addon","renderExtraFooter","variant","bordered"]);const[i]=mo("timePicker",o,a),c=l.useMemo(()=>{if(r)return r;if(n)return n},[n,r]);return l.createElement(fc,Object.assign({},s,{mode:void 0,ref:e,renderExtraFooter:c,variant:i}))}),zo=Co(Ut,"popupAlign",void 0,"picker");Ut._InternalPanelDoNotUseOrYouWillBeFired=zo;Ut.RangePicker=mc;Ut._InternalPanelDoNotUseOrYouWillBeFired=zo;var Le=(t=>(t.INPUT="input",t.TEXTAREA="textarea",t.RADIO="radio",t.CHECKBOX="checkbox",t))(Le||{});const Wn="exists",vc={fields:[],title:"",description:"",timer:"",tags:[]},pc=t=>{const{value:e,name:n,placeholder:r,onChange:o,children:a,size:s,id:i=t.name,errors:c}=t,[d,u]=l.useState(!1),f=l.useRef(null),p=g=>{o({name:n,value:g.target.value})},h=()=>{u(!0)},m=g=>{c[n]||g.target.value.trim()===""||u(!1)};return l.useEffect(()=>{e===""&&u(!0),f.current&&f.current.focus()},[e]),w.jsx(w.Fragment,{children:d?w.jsx(fn,{autoFocus:e===""?void 0:!0,value:e,id:i,onChange:p,onBlur:m,className:"w-full",status:c[n]?"error":void 0,placeholder:r,size:s,ref:f,suffix:c[n]?w.jsx($t,{title:c[i],children:w.jsx(mn,{className:"text-red-500"})}):null}):w.jsx("div",{onClick:h,className:"cursor-pointer",children:a})})},bc=t=>{const{value:e,name:n,placeholder:r,onChange:o,children:a,errors:s}=t,[i,c]=l.useState(!1),d=l.useRef(null),u=h=>{o({name:n,value:h.target.value})},f=()=>{c(!0)},p=h=>{s[n]||h.target.value.trim()===""||c(!1)};return l.useEffect(()=>{e===""&&c(!0),d.current&&d.current.focus()},[e]),w.jsx(w.Fragment,{children:i?w.jsx(ai,{autoFocus:e===""?void 0:!0,value:e,onChange:u,onBlur:p,className:"w-full",status:s[n]?"error":void 0,placeholder:r,ref:d,rows:3}):w.jsx("div",{onClick:f,className:"cursor-pointer",children:a})})},Sc=t=>{const{constructor:e,onChangeForm:n,errors:r}=t;return w.jsxs(gn,{className:"flex flex-col gap-2 p-4",children:[w.jsx(pc,{value:e.title,name:"title",placeholder:"Название",onChange:n,errors:r,size:"large",children:w.jsx("div",{className:"text-start pt-[7px] pb-[6px] px-[11px] border border-transparent hover:border-primary rounded",children:w.jsx(on.Title,{level:4,style:{fontSize:"1.125rem",fontWeight:500,margin:0},children:e.title})})}),w.jsx(bc,{value:e.description,name:"description",placeholder:"Описание",onChange:n,errors:r,children:w.jsx("div",{className:"text-start p-[3px] px-[11px] border border-transparent hover:border-primary rounded",children:w.jsx(on.Text,{type:"secondary",style:{fontSize:"0.875rem"},children:e.description})})})]})},Wo=l.createContext({dragDropManager:void 0});function Xe(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Br=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$n=function(){return Math.random().toString(36).substring(7).split("").join(".")},zr={INIT:"@@redux/INIT"+$n(),REPLACE:"@@redux/REPLACE"+$n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$n()}};function Cc(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Vo(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(Vo)(t,e)}if(typeof t!="function")throw new Error(Xe(2));var o=t,a=e,s=[],i=s,c=!1;function d(){i===s&&(i=s.slice())}function u(){if(c)throw new Error(Xe(3));return a}function f(g){if(typeof g!="function")throw new Error(Xe(4));if(c)throw new Error(Xe(5));var v=!0;return d(),i.push(g),function(){if(v){if(c)throw new Error(Xe(6));v=!1,d();var b=i.indexOf(g);i.splice(b,1),s=null}}}function p(g){if(!Cc(g))throw new Error(Xe(7));if(typeof g.type>"u")throw new Error(Xe(8));if(c)throw new Error(Xe(9));try{c=!0,a=o(a,g)}finally{c=!1}for(var v=s=i,S=0;S<v.length;S++){var b=v[S];b()}return g}function h(g){if(typeof g!="function")throw new Error(Xe(10));o=g,p({type:zr.REPLACE})}function m(){var g,v=f;return g={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Xe(11));function y(){b.next&&b.next(u())}y();var x=v(y);return{unsubscribe:x}}},g[Br]=function(){return this},g}return p({type:zr.INIT}),r={dispatch:p,subscribe:f,getState:u,replaceReducer:h},r[Br]=m,r}function K(t,e,...n){if(yc()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function yc(){return typeof process<"u"&&!0}function xc(t,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,t)}function wc(t,e){return t.filter(n=>n!==e)}function qo(t){return typeof t=="object"}function Oc(t,e){const n=new Map,r=a=>{n.set(a,n.has(a)?n.get(a)+1:1)};t.forEach(r),e.forEach(r);const o=[];return n.forEach((a,s)=>{a===1&&o.push(s)}),o}function Ec(t,e){return t.filter(n=>e.indexOf(n)>-1)}const or="dnd-core/INIT_COORDS",vn="dnd-core/BEGIN_DRAG",ar="dnd-core/PUBLISH_DRAG_SOURCE",pn="dnd-core/HOVER",bn="dnd-core/DROP",Sn="dnd-core/END_DRAG";function Wr(t,e){return{type:or,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Dc={type:or,payload:{clientOffset:null,sourceClientOffset:null}};function $c(t){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:a,getSourceClientOffset:s}=r,i=t.getMonitor(),c=t.getRegistry();t.dispatch(Wr(a)),Ic(n,i,c);const d=Rc(n,i);if(d==null){t.dispatch(Dc);return}let u=null;if(a){if(!s)throw new Error("getSourceClientOffset must be defined");Nc(s),u=s(d)}t.dispatch(Wr(a,u));const p=c.getSource(d).beginDrag(i,d);if(p==null)return;Tc(p),c.pinSource(d);const h=c.getSourceType(d);return{type:vn,payload:{itemType:h,item:p,sourceId:d,clientOffset:a||null,sourceClientOffset:u||null,isSourcePublic:!!o}}}}function Ic(t,e,n){K(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){K(n.getSource(r),"Expected sourceIds to be registered.")})}function Nc(t){K(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Tc(t){K(qo(t),"Item must be an object.")}function Rc(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function Mc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Mc(t,o,n[o])})}return t}function jc(t){return function(n={}){const r=t.getMonitor(),o=t.getRegistry();kc(r),Ac(r).forEach((s,i)=>{const c=Hc(s,i,o,r),d={type:bn,payload:{dropResult:Pc({},n,c)}};t.dispatch(d)})}}function kc(t){K(t.isDragging(),"Cannot call drop while not dragging."),K(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Hc(t,e,n,r){const o=n.getTarget(t);let a=o?o.drop(r,t):void 0;return _c(a),typeof a>"u"&&(a=e===0?{}:r.getDropResult()),a}function _c(t){K(typeof t>"u"||qo(t),"Drop result must either be an object or undefined.")}function Ac(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Lc(t){return function(){const n=t.getMonitor(),r=t.getRegistry();Fc(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:Sn}}}function Fc(t){K(t.isDragging(),"Cannot call endDrag while not dragging.")}function Vn(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Bc(t){return function(n,{clientOffset:r}={}){zc(n);const o=n.slice(0),a=t.getMonitor(),s=t.getRegistry(),i=a.getItemType();return Vc(o,s,i),Wc(o,a,s),qc(o,a,s),{type:pn,payload:{targetIds:o,clientOffset:r||null}}}}function zc(t){K(Array.isArray(t),"Expected targetIds to be an array.")}function Wc(t,e,n){K(e.isDragging(),"Cannot call hover while not dragging."),K(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const o=t[r];K(t.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const a=n.getTarget(o);K(a,"Expected targetIds to be registered.")}}function Vc(t,e,n){for(let r=t.length-1;r>=0;r--){const o=t[r],a=e.getTargetType(o);Vn(a,n)||t.splice(r,1)}}function qc(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function Uc(t){return function(){if(t.getMonitor().isDragging())return{type:ar}}}function Gc(t){return{beginDrag:$c(t),publishDragSource:Uc(t),hover:Bc(t),drop:jc(t),endDrag:Lc(t)}}class Xc{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(a){return(...s)=>{const i=a.apply(e,s);typeof i<"u"&&n(i)}}const o=Gc(this);return Object.keys(o).reduce((a,s)=>{const i=o[s];return a[s]=r(i),a},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Yc(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Uo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kc(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:Uo(Yc(e,r),n)}function Qc(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:Uo(e,n)}const Wt=[],ir=[];Wt.__IS_NONE__=!0;ir.__IS_ALL__=!0;function Jc(t,e){return t===Wt?!1:t===ir||typeof e>"u"?!0:Ec(e,t).length>0}class Zc{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;K(typeof e=="function","listener must be a function."),K(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const a=()=>{const s=this.store.getState(),i=s.stateId;try{i===o||i===o+1&&!Jc(s.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(a)}subscribeToOffsetChange(e){K(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return K(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(K(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return Vn(r,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(K(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),a=this.getItemType();if(a&&!Vn(o,a))return!1;const s=this.getTargetIds();if(!s.length)return!1;const i=s.indexOf(e);return r?i===s.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Kc(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Qc(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Vr=typeof global<"u"?global:self,Go=Vr.MutationObserver||Vr.WebKitMutationObserver;function Xo(t){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),t()}}}function eu(t){let e=1;const n=new Go(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const tu=typeof Go=="function"?eu:Xo;class nu{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=tu(this.flush),this.requestErrorThrow=Xo(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class ru{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class ou{create(e){const n=this.freeTasks,r=n.length?n.pop():new ru(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const Yo=new nu,au=new ou(Yo.registerPendingError);function iu(t){Yo.enqueueTask(au.create(t))}const sr="dnd-core/ADD_SOURCE",lr="dnd-core/ADD_TARGET",cr="dnd-core/REMOVE_SOURCE",Cn="dnd-core/REMOVE_TARGET";function su(t){return{type:sr,payload:{sourceId:t}}}function lu(t){return{type:lr,payload:{targetId:t}}}function cu(t){return{type:cr,payload:{sourceId:t}}}function uu(t){return{type:Cn,payload:{targetId:t}}}function du(t){K(typeof t.canDrag=="function","Expected canDrag to be a function."),K(typeof t.beginDrag=="function","Expected beginDrag to be a function."),K(typeof t.endDrag=="function","Expected endDrag to be a function.")}function gu(t){K(typeof t.canDrop=="function","Expected canDrop to be a function."),K(typeof t.hover=="function","Expected hover to be a function."),K(typeof t.drop=="function","Expected beginDrag to be a function.")}function qn(t,e){if(e&&Array.isArray(t)){t.forEach(n=>qn(n,!1));return}K(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ke;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ke||(Ke={}));let fu=0;function hu(){return fu++}function mu(t){const e=hu().toString();switch(t){case Ke.SOURCE:return`S${e}`;case Ke.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function qr(t){switch(t[0]){case"S":return Ke.SOURCE;case"T":return Ke.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ur(t,e){const n=t.entries();let r=!1;do{const{done:o,value:[,a]}=n.next();if(a===e)return!0;r=!!o}while(!r);return!1}class vu{addSource(e,n){qn(e),du(n);const r=this.addHandler(Ke.SOURCE,e,n);return this.store.dispatch(su(r)),r}addTarget(e,n){qn(e,!0),gu(n);const r=this.addHandler(Ke.TARGET,e,n);return this.store.dispatch(lu(r)),r}containsHandler(e){return Ur(this.dragSources,e)||Ur(this.dropTargets,e)}getSource(e,n=!1){return K(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return K(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return K(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return K(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return qr(e)===Ke.SOURCE}isTargetId(e){return qr(e)===Ke.TARGET}removeSource(e){K(this.getSource(e),"Expected an existing source."),this.store.dispatch(cu(e)),iu(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){K(this.getTarget(e),"Expected an existing target."),this.store.dispatch(uu(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);K(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){K(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=mu(e);return this.types.set(o,n),e===Ke.SOURCE?this.dragSources.set(o,r):e===Ke.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const pu=(t,e)=>t===e;function bu(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Su(t,e,n=pu){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Cu(t=Wt,e){switch(e.type){case pn:break;case sr:case lr:case Cn:case cr:return Wt;case vn:case ar:case Sn:case bn:default:return ir}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=Oc(n,r);if(!(o.length>0||!Su(n,r)))return Wt;const s=r[r.length-1],i=n[n.length-1];return s!==i&&(s&&o.push(s),i&&o.push(i)),o}function yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){yu(t,o,n[o])})}return t}const Gr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function wu(t=Gr,e){const{payload:n}=e;switch(e.type){case or:case vn:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case pn:return bu(t.clientOffset,n.clientOffset)?t:xu({},t,{clientOffset:n.clientOffset});case Sn:case bn:return Gr;default:return t}}function Ou(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Ou(t,o,n[o])})}return t}const Eu={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Du(t=Eu,e){const{payload:n}=e;switch(e.type){case vn:return jt({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case ar:return jt({},t,{isSourcePublic:!0});case pn:return jt({},t,{targetIds:n.targetIds});case Cn:return t.targetIds.indexOf(n.targetId)===-1?t:jt({},t,{targetIds:wc(t.targetIds,n.targetId)});case bn:return jt({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Sn:return jt({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function $u(t=0,e){switch(e.type){case sr:case lr:return t+1;case cr:case Cn:return t-1;default:return t}}function Iu(t=0){return t+1}function Nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Nu(t,o,n[o])})}return t}function Ru(t={},e){return{dirtyHandlerIds:Cu(t.dirtyHandlerIds,{type:e.type,payload:Tu({},e.payload,{prevTargetIds:xc(t,"dragOperation.targetIds",[])})}),dragOffset:wu(t.dragOffset,e),refCount:$u(t.refCount,e),dragOperation:Du(t.dragOperation,e),stateId:Iu(t.stateId)}}function Mu(t,e=void 0,n={},r=!1){const o=Pu(r),a=new Zc(o,new vu(o)),s=new Xc(o,a),i=t(s,e,n);return s.receiveBackend(i),s}function Pu(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vo(Ru,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ju(t,e){if(t==null)return{};var n=ku(t,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ku(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let Xr=0;const Jt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Hu=l.memo(function(e){var{children:n}=e,r=ju(e,["children"]);const[o,a]=_u(r);return l.useEffect(()=>{if(a){const s=Ko();return++Xr,()=>{--Xr===0&&(s[Jt]=null)}}},[]),w.jsx(Wo.Provider,{value:o,children:n})});function _u(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Au(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Au(t,e=Ko(),n,r){const o=e;return o[Jt]||(o[Jt]={dragDropManager:Mu(t,e,n,r)}),o[Jt]}function Ko(){return typeof global<"u"?global:window}var In,Yr;function Lu(){return Yr||(Yr=1,In=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;o--!==0;){var s=a[o];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),In}var Fu=Lu();const Bu=ii(Fu),Nt=typeof window<"u"?l.useLayoutEffect:l.useEffect;function zu(t,e,n){const[r,o]=l.useState(()=>e(t)),a=l.useCallback(()=>{const s=e(t);Bu(r,s)||(o(s),n&&n())},[r,t,n]);return Nt(a),[r,a]}function Wu(t,e,n){const[r,o]=zu(t,e,n);return Nt(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(o,{handlerIds:[s]})},[t,o]),r}function Qo(t,e,n){return Wu(e,t||(()=>({})),()=>n.reconnect())}function Jo(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),l.useMemo(()=>typeof t=="function"?t():t,n)}function Vu(t){return l.useMemo(()=>t.hooks.dragSource(),[t])}function qu(t){return l.useMemo(()=>t.hooks.dragPreview(),[t])}let Nn=!1,Tn=!1;class Uu{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){K(!Nn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Nn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Nn=!1}}isDragging(){if(!this.sourceId)return!1;K(!Tn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Tn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Tn=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Rn=!1;class Gu{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;K(!Rn,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Rn=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Rn=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Xu(t,e,n){const r=n.getRegistry(),o=r.addTarget(t,e);return[o,()=>r.removeTarget(o)]}function Yu(t,e,n){const r=n.getRegistry(),o=r.addSource(t,e);return[o,()=>r.removeSource(o)]}function Un(t,e,n,r){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),s=Object.keys(e);if(a.length!==s.length)return!1;const i=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<a.length;c++){const d=a[c];if(!i(d))return!1;const u=t[d],f=e[d];if(o=void 0,o===!1||o===void 0&&u!==f)return!1}return!0}function Gn(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ku(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Qu(t){return(e=null,n=null)=>{if(!l.isValidElement(e)){const a=e;return t(a,n),a}const r=e;return Ku(r),Ju(r,n?a=>t(a,n):t)}}function Zo(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const o=Qu(r);e[n]=()=>o}}),e}function Kr(t,e){typeof t=="function"?t(e):t.current=e}function Ju(t,e){const n=t.ref;return K(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?l.cloneElement(t,{ref:r=>{Kr(n,r),Kr(e,r)}}):l.cloneElement(t,{ref:e})}class Zu{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Un(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Un(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Zo({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Gn(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Gn(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ed{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Un(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Zo({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Gn(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Ht(){const{dragDropManager:t}=l.useContext(Wo);return K(t!=null,"Expected drag drop context"),t}function td(t,e){const n=Ht(),r=l.useMemo(()=>new Zu(n.getBackend()),[n]);return Nt(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Nt(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function nd(){const t=Ht();return l.useMemo(()=>new Uu(t),[t])}class rd{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:a}=r;return a?a(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function od(t,e,n){const r=l.useMemo(()=>new rd(t,e,n),[e,n]);return l.useEffect(()=>{r.spec=t},[t]),r}function ad(t){return l.useMemo(()=>{const e=t.type;return K(e!=null,"spec.type must be defined"),e},[t])}function id(t,e,n){const r=Ht(),o=od(t,e,n),a=ad(t);Nt(function(){if(a!=null){const[i,c]=Yu(a,o,r);return e.receiveHandlerId(i),n.receiveHandlerId(i),c}},[r,e,n,o,a])}function ea(t,e){const n=Jo(t,e);K(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=nd(),o=td(n.options,n.previewOptions);return id(n,r,o),[Qo(n.collect,r,o),Vu(o),qu(o)]}function sd(t){return l.useMemo(()=>t.hooks.dropTarget(),[t])}function ld(t){const e=Ht(),n=l.useMemo(()=>new ed(e.getBackend()),[e]);return Nt(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function cd(){const t=Ht();return l.useMemo(()=>new Gu(t),[t])}function ud(t){const{accept:e}=t;return l.useMemo(()=>(K(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class dd{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function gd(t,e){const n=l.useMemo(()=>new dd(t,e),[e]);return l.useEffect(()=>{n.spec=t},[t]),n}function fd(t,e,n){const r=Ht(),o=gd(t,e),a=ud(t);Nt(function(){const[i,c]=Xu(a,o,r);return e.receiveHandlerId(i),n.receiveHandlerId(i),c},[r,e,o,n,a.map(s=>s.toString()).join("|")])}function ta(t,e){const n=Jo(t,e),r=cd(),o=ld(n.options);return fd(n,r,o),[Qo(n.collect,r,o),sd(o)]}const ur=()=>({items:{[Le.INPUT]:{label:"Однострочный ответ",jsxIcon:w.jsx(Fl,{})},[Le.TEXTAREA]:{label:"Многострочный ответ",jsxIcon:w.jsx(Ml,{})},[Le.RADIO]:{label:"Список одиночного выбора",jsxIcon:w.jsx(kl,{})},[Le.CHECKBOX]:{label:"Список множественного выбора",jsxIcon:w.jsx(xi,{})}}}),hd=t=>{const{field:e,children:n,dragRef:r,onRemoveField:o,onUpdateField:a,className:s="",onCopyField:i,errors:c}=t,d=l.useRef(null),{items:u}=ur(),f=[{key:1,label:"Создать копию снизу",icon:w.jsx(En,{}),onClick:()=>i(e.id,"next",It())},{key:2,label:"Создать копию в конце",icon:w.jsx(En,{}),onClick:()=>i(e.id,"last",It())}],p=m=>{a(e.id,{question:m.target.value})},h=()=>{o(e.id)};return l.useEffect(()=>{d.current&&d.current.focus()},[e.question]),w.jsxs("div",{className:`relative w-full flex ${s}`,children:[w.jsxs("div",{className:"w-full flex flex-col",children:[w.jsxs("div",{className:"w-full px-4 py-2 flex flex-col gap-2 items-start",children:[w.jsx("div",{className:"w-full flex gap-2 items-center",children:w.jsx(fn,{id:e.id,status:c[e.id]?"error":void 0,value:e.question,placeholder:"Вопрос",onChange:p,ref:d,suffix:c[e.id]?w.jsx($t,{title:c[e.id],children:w.jsx(mn,{className:"text-red-500"})}):null})}),n]}),w.jsxs("div",{className:"px-4 border-t flex justify-between dark:border-border-dark",children:[w.jsxs("div",{className:"flex gap-2 items-center text-sm px-1 text-gray-500",children:[u[e.type].jsxIcon,u[e.type].label]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx(So,{menu:{items:f},placement:"top",arrow:{pointAtCenter:!0},children:w.jsx(Ze,{type:"text",icon:w.jsx(En,{className:"cursor-pointer transition"})})}),w.jsx($t,{title:"Обязательное поле",children:w.jsx(Bo,{size:"small",value:e.require,onChange:m=>a(e.id,{require:m})})}),w.jsx(Ze,{type:"text",danger:!0,icon:w.jsx(si,{}),onClick:h})]})]})]}),w.jsx("div",{className:"border-l dark:border-border-dark",children:w.jsx("button",{ref:r,className:"h-full cursor-move text-gray-500 hover:text-orange-500",children:w.jsx(wi,{})})})]})},md=t=>{const{field:e,onUpdateField:n,errors:r}=t,o=e.options||[],[a,s]=l.useState(null),[i,c]=l.useState(""),d=g=>{n(e.id,{type:g})},u=()=>{const g={id:It(),label:""};n(e.id,{options:[...o,g]}),s(g.id)},f=g=>{const v=o.filter(S=>S.id!==g);n(e.id,{options:v})},p=g=>{const v=o.map(S=>S.id===g.target.id?{...S,label:g.target.value}:S);n(e.id,{options:v})},h=g=>{var v;g&&a===((v=g.input)==null?void 0:v.id)&&(g.focus({cursor:"start"}),s(null))},m=g=>{c(g),setTimeout(()=>{f(g),c("")},300)};return w.jsxs(w.Fragment,{children:[o.map((g,v)=>w.jsxs("div",{className:`w-full flex gap-2 items-center ${i===g.id?"animate-scaleDown":"animate-scaleUp"}`,children:[e.type==="radio"?w.jsx(xr,{className:"m-0",disabled:!0}):w.jsx(wr,{disabled:!0}),w.jsx(fn,{id:g.id,status:r[g.id]&&"error",value:g.label,placeholder:`Вариант ${v+1}`,onChange:p,ref:h,suffix:r[g.id]?w.jsx($t,{title:r[g.id],children:w.jsx(mn,{className:"text-red-500"})}):null}),o.length>1&&w.jsx(Ze,{type:"text",danger:!0,icon:w.jsx(Ul,{}),onClick:()=>m(g.id)})]},g.id)),w.jsxs("div",{className:"flex gap-2 w-full justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[e.type==="radio"?w.jsx(xr,{className:"m-0",disabled:!0}):w.jsx(wr,{disabled:!0}),w.jsx(Ze,{color:"default",variant:"filled",onClick:u,children:"Добавить"})]}),w.jsx(Zn,{defaultValue:e.type,className:"w-[300px]",onChange:d,options:[{value:"radio",label:"Одиночный выбор"},{value:"checkbox",label:"Множественный выбор"}]})]})]})},na=l.memo(t=>{const{field:e,index:n,onMoveField:r,onRemoveField:o,onUpdateField:a,isOutsideWorkspace:s,onCopyField:i,errors:c,copyFieldsId:d,copiedFields:u,sourceFieldId:f,sourceFields:p}=t,h=l.useRef(null),m=l.useRef(null),[g,v]=l.useState(!1),[S,b]=l.useState(!1),y=e.id===d,x=u.has(e.id),O=e.id===f,E=p.has(e.id),D=R=>{b(!0),setTimeout(()=>{o(R)},300)},[{isDragging:N},M,I]=ea({type:Wn,item:{index:n,id:e.id},collect:R=>({isDragging:R.isDragging()}),end:(R,j)=>{const k=j.getDropResult(),{x:H,y:A}=j.getClientOffset()||{x:0,y:0};!k&&s(H,A)&&D(e.id)}}),[,P]=ta({accept:Wn,hover(R,j){if(!h.current)return;const k=R.index,H=n;if(k===H)return;const A=h.current.getBoundingClientRect(),Q=(A.bottom-A.top)/2,ee=j.getClientOffset(),X=((ee==null?void 0:ee.y)||0)-A.top;k<H&&X<Q||k>H&&X>Q||(r(k,H),R.index=H)}});l.useEffect(()=>{if(!N)return;const R=j=>{const k=s(j.clientX,j.clientY);v(k)};return document.addEventListener("mousemove",R),()=>document.removeEventListener("mousemove",R)},[N,s]),I(P(h)),M(m);const _={dragRef:m,field:e,onUpdateField:a,onRemoveField:D,errors:c,onCopyField:i,index:n},$=()=>{switch(e.type){case Le.INPUT:return;case Le.TEXTAREA:return;case Le.RADIO:case Le.CHECKBOX:return w.jsx(md,{field:e,onUpdateField:a,errors:c});default:return null}};let C="";return O?C="animate-fadeUpGray":y?C="animate-scaleUpGreen":!x&&!E&&(C="animate-scaleUp"),w.jsx(gn,{ref:h,className:"relative group w-full flex"+(g?" border-red-500":"")+(N?" border-dashed border-gray-500 opacity-100":"")+(S?" animate-scaleDown":"")+(C?` ${C}`:""),"data-field-id":e.id,children:w.jsx(hd,{..._,children:$()})})});na.displayName="ConstructorDraggableField";const Mn=t=>{const{onDropField:e,children:n,className:r="",index:o}=t,[{isOverNewItem:a},s]=ta(()=>({accept:[...Object.values(Le),Wn],drop:(i,c)=>{c.isOver({shallow:!0})&&i.isNew&&e(i.type)},hover:(i,c)=>{c.isOver({shallow:!0})&&i.isNew},collect:i=>{var c;return{isOverNewItem:i.isOver({shallow:!0})&&((c=i.getItem())==null?void 0:c.isNew)}}}),[e,o]);return w.jsxs("div",{ref:s,className:`relative w-full group transition-all duration-200 ${r} ${a?"py-5":"py-3"}`,"data-index":o,children:[w.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${a?"animate-scaleUp":"opacity-0"}`,children:w.jsx("div",{className:"w-full border-2 border-primary rounded-xl"})}),!a&&n]})},vd=t=>{const{constructor:e,onDropField:n,onMoveField:r,onRemoveField:o,onUpdateField:a,onCopyField:s,errors:i}=t,c=l.useRef(null),[d,u]=l.useState(null),[f,p]=l.useState(new Set),[h,m]=l.useState(null),[g,v]=l.useState(new Set),{items:S}=ur(),b=Object.entries(S).map(([O,{label:E,jsxIcon:D}])=>({key:O,label:E,icon:D,onClick:()=>{const N=It();n(O,e.fields.length,N),u(N),p(M=>new Set(M).add(N)),setTimeout(()=>u==null?void 0:u(null),5e3)}})),y=(O,E)=>{if(!c.current)return!1;const D=c.current.getBoundingClientRect();return O<D.left||O>D.right||E<D.top||E>D.bottom},x=(O,E,D)=>{s(O,E,D),u(D),m(O),p(N=>new Set(N).add(D)),v(N=>new Set(N).add(O))};return l.useEffect(()=>{if(d&&c.current){const O=c.current.querySelector(`[data-field-id="${d}"]`);O&&O.scrollIntoView({behavior:"smooth",block:"center"})}},[d]),l.useEffect(()=>{const O=setTimeout(()=>{(g||f)&&(u==null||u(null),m(null))},5e3);return()=>clearTimeout(O)},[g,f]),l.useEffect(()=>{e.fields.forEach(O=>{p(E=>new Set(E).add(O.id))})},[]),w.jsx(gn,{ref:c,className:"flex flex-col border border-dashed rounded-2xl border-primary dark:border-border-dark px-5 w-full",style:i.fields?{border:"1px solid red"}:{},children:e.fields.length===0?w.jsx(Mn,{onDropField:O=>n(O,0),index:0,className:"h-full flex items-center justify-center min-h-64",children:i.fields&&w.jsxs("div",{className:"flex gap-2",children:[w.jsx(mn,{className:"text-red-500"}),w.jsx("span",{className:"text-red-500 opacity-50",children:i.fields})]})}):w.jsxs(w.Fragment,{children:[w.jsx(Mn,{onDropField:O=>n(O,0),index:0}),e.fields.map((O,E)=>w.jsxs(l.Fragment,{children:[w.jsx(na,{field:O,index:E,errors:i,onMoveField:r,onRemoveField:o,onUpdateField:a,onCopyField:x,isOutsideWorkspace:y,copyFieldsId:d,copiedFields:f,sourceFieldId:h,sourceFields:g}),w.jsx(Mn,{onDropField:D=>n(D,E+1),index:E+1})]},O.id)),w.jsx("div",{className:"w-full pb-2 flex justify-center",children:w.jsx(So,{menu:{items:b},placement:"top",arrow:{pointAtCenter:!0},children:w.jsx(Ze,{type:"text",icon:w.jsx(Yl,{className:"cursor-pointer transition"})})})})]})})},pd=t=>{const{type:e,children:n}=t,[,r]=ea(()=>({type:e,item:{type:e,isNew:!0},collect:o=>({isDragging:o.isDragging()})}));return w.jsx("div",{ref:r,className:"flex gap-2 ",children:w.jsx(Ze,{className:"w-full text-left justify-start",type:"text",children:n})})},bd=()=>{const{items:t}=ur();return w.jsxs("div",{children:[w.jsx("h3",{className:"text-base font-medium mb-4",children:"Элементы формы"}),w.jsx("div",{className:"flex flex-col gap-2 items-center",children:Object.entries(t).map(([e,{label:n,jsxIcon:r}])=>w.jsxs(pd,{type:e,children:[r," ",n]},e))})]})},Sd=t=>{const{isDeleting:e,onRemoveConstructor:n}=t,[r,o]=l.useState(!1),a=()=>{o(!0)},s=()=>{n()},i=()=>{o(!1)};return w.jsxs(w.Fragment,{children:[w.jsx(Ze,{color:"danger",variant:"filled",className:"w-full",icon:w.jsx(Di,{}),onClick:a,children:"Удалить форму"}),w.jsx($i,{title:"Удаление",open:r,onOk:s,confirmLoading:e,onCancel:i,footer:[w.jsx(Ze,{onClick:i,children:"Отмена"},"back"),w.jsx(Ze,{color:"danger",variant:"filled",loading:e,onClick:s,children:"Удалить"},"submit")],children:w.jsx("p",{children:"Вы действительно хотите удалить форму?"})})]})},Qr=20,Pn="#fa9145",Cd=({constructor:t,onChangeForm:e})=>{const[n,r]=l.useState(null),o=u=>u.length>Qr?`${u.slice(0,Qr)}...`:u,a=u=>{const f={id:It(),label:u,color:Pn};e({value:[...t.tags,f],name:"tags"})},s=u=>{const f=t.tags.filter(p=>u.includes(p.id));e({value:f,name:"tags"})},i=(u,f)=>{const p=t.tags.map(h=>h.id===u?{...h,color:f}:h);e({value:p,name:"tags"})},c=u=>{r(f=>f===u?null:u)},d=({label:u,value:f,closable:p,onClose:h})=>{const m=t.tags.find(S=>S.id===f),g=n===f,v=S=>{S.preventDefault(),S.stopPropagation()};return w.jsxs("div",{className:"flex items-center m-[2px]",children:[g&&w.jsx(rr,{value:(m==null?void 0:m.color)??Pn,onChange:S=>i(f,S.toHexString()),size:"small",className:"border-none p-1"}),w.jsx(Ii,{color:(m==null?void 0:m.color)??Pn,onMouseDown:v,closable:p,onClose:h,onClick:()=>c(f),className:"mr-0",children:w.jsx($t,{title:u,children:typeof u=="string"?o(u):u})})]})};return w.jsxs("div",{className:"flex gap-2 flex-col",children:[w.jsx("p",{className:"text-sm text-start",children:"Теги:"}),w.jsx(Zn,{mode:"tags",tagRender:d,value:t.tags.map(u=>u.id),options:t.tags.map(u=>({value:u.id,label:u.label,color:u.color})),onSelect:a,onChange:s,placeholder:"Введите тег",showSearch:!1,open:!1,suffixIcon:null,className:"w-full"})]})},yd=({constructor:t,onChangeForm:e})=>{const n=t.timer?li(t.timer,"HH:mm:ss"):void 0,r=o=>{const a=o?o.format("HH:mm:ss"):"";e({name:"timer",value:a})};return w.jsx("div",{className:"flex flex-col gap-2",children:w.jsxs("div",{className:"flex gap-2 items-center justify-between",children:[w.jsx("span",{children:"Лимит:"}),w.jsx(Ut,{className:"w-full",placeholder:"Время",needConfirm:!0,hourStep:1,minuteStep:1,secondStep:15,value:n,onChange:r})]})})},xd=({constructor:t,onChangeForm:e})=>w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h3",{className:"text-base font-medium mb-4",children:"Настройки"}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx(yd,{onChangeForm:e,constructor:t}),w.jsx(Cd,{onChangeForm:e,constructor:t})]})]}),wd=t=>{const{constructor:e,isCreating:n,isUpdating:r,isDeleting:o,isError:a,isNew:s,onSaveConstructor:i,onRemoveConstructor:c,onChangeForm:d}=t,[u,f]=l.useState(!1),p=bo(),h=[{key:"constructor",label:w.jsxs("span",{children:[w.jsx(Wl,{})," Конструктор"]}),children:w.jsx(bd,{})},{key:"settings",label:w.jsxs("span",{children:[w.jsx(tc,{})," Настройки"]}),children:w.jsx(xd,{constructor:e,onChangeForm:d})}];return l.useEffect(()=>{const m=()=>{const g=window.scrollY;f(g>=-10)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),w.jsxs(gn,{className:`w-full max-w-72 px-5 pb-5 self-start ${u?"sticky top-24":""}`,style:{zIndex:10},children:[w.jsx(Oi,{defaultActiveKey:"constructor",items:h}),w.jsx(Io,{className:"my-4"}),w.jsxs("div",{children:[w.jsx(on.Text,{style:{fontSize:"1rem",fontWeight:500,marginBottom:"1rem",display:"block"},children:"Действия"}),w.jsxs("div",{className:"flex flex-col gap-2",children:[!s&&w.jsx(Ze,{variant:"filled",className:"w-full",loading:o,onClick:()=>p(`/forms/${e.id}`),children:"Просмотр"}),w.jsx(Ze,{color:"default",variant:"solid",className:"w-full",icon:w.jsx(Jl,{}),loading:r||n,disabled:o||a,onClick:i,children:"updatedAt"in e&&(e!=null&&e.updatedAt)?"Обновить форму":"Сохранить форму"}),!s&&w.jsx(Sd,{isDeleting:o,onRemoveConstructor:c})]})]})]})};function ra(t){let e=null;return()=>(e==null&&(e=t()),e)}function Od(t,e){return t.filter(n=>n!==e)}function Ed(t,e){const n=new Set,r=a=>n.add(a);t.forEach(r),e.forEach(r);const o=[];return n.forEach(a=>o.push(a)),o}class Dd{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=Ed(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=Od(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class $d{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const oa="__NATIVE_FILE__",aa="__NATIVE_URL__",ia="__NATIVE_TEXT__",sa="__NATIVE_HTML__",Jr=Object.freeze(Object.defineProperty({__proto__:null,FILE:oa,HTML:sa,TEXT:ia,URL:aa},Symbol.toStringTag,{value:"Module"}));function jn(t,e,n){const r=e.reduce((o,a)=>o||t.getData(a),"");return r??n}const Xn={[oa]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[sa]:{exposeProperties:{html:(t,e)=>jn(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[aa]:{exposeProperties:{urls:(t,e)=>jn(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[ia]:{exposeProperties:{text:(t,e)=>jn(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Id(t,e){const n=Xn[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new $d(n);return r.loadDataTransfer(e),r}function kn(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Xn).filter(n=>{const r=Xn[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const Nd=ra(()=>/firefox/i.test(navigator.userAgent)),la=ra(()=>!!window.safari);class Zr{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:a,c3s:s}=this;let i=n.length-1;if(e===n[i])return r[i];let c=0,d=s.length-1,u;for(;c<=d;){u=Math.floor(.5*(c+d));const h=n[u];if(h<e)c=u+1;else if(h>e)d=u-1;else return r[u]}i=Math.max(0,d);const f=e-n[i],p=f*f;return r[i]+o[i]*f+a[i]*p+s[i]*f*p}constructor(e,n){const{length:r}=e,o=[];for(let h=0;h<r;h++)o.push(h);o.sort((h,m)=>e[h]<e[m]?-1:1);const a=[],s=[];let i,c;for(let h=0;h<r-1;h++)i=e[h+1]-e[h],c=n[h+1]-n[h],a.push(i),s.push(c/i);const d=[s[0]];for(let h=0;h<a.length-1;h++){const m=s[h],g=s[h+1];if(m*g<=0)d.push(0);else{i=a[h];const v=a[h+1],S=i+v;d.push(3*S/((S+v)/m+(S+i)/g))}}d.push(s[s.length-1]);const u=[],f=[];let p;for(let h=0;h<d.length-1;h++){p=s[h];const m=d[h],g=1/a[h],v=m+d[h+1]-p-p;u.push((p-m-v)*g),f.push(v*g*g)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=u,this.c3s=f}}const Td=1;function ca(t){const e=t.nodeType===Td?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Yt(t){return{x:t.clientX,y:t.clientY}}function Rd(t){var e;return t.nodeName==="IMG"&&(Nd()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Md(t,e,n,r){let o=t?e.width:n,a=t?e.height:r;return la()&&t&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}function Pd(t,e,n,r,o){const a=Rd(e),i=ca(a?t:e),c={x:n.x-i.x,y:n.y-i.y},{offsetWidth:d,offsetHeight:u}=t,{anchorX:f,anchorY:p}=r,{dragPreviewWidth:h,dragPreviewHeight:m}=Md(a,e,d,u),g=()=>{let E=new Zr([0,.5,1],[c.y,c.y/u*m,c.y+m-u]).interpolate(p);return la()&&a&&(E+=(window.devicePixelRatio-1)*m),E},v=()=>new Zr([0,.5,1],[c.x,c.x/d*h,c.x+h-d]).interpolate(f),{offsetX:S,offsetY:b}=o,y=S===0||S,x=b===0||b;return{x:y?S:v(),y:x?b:g()}}let jd=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}};function kd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){kd(t,o,n[o])})}return t}class Hd{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=s=>this.handleDragStart(s,e),a=s=>this.handleSelectStart(s);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",a),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=s=>this.handleDragEnter(s,e),o=s=>this.handleDragOver(s,e),a=s=>this.handleDrop(s,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",a),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return eo({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return eo({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Jr).some(n=>Jr[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Id(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&ca(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const s=Yt(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:i}=o,c=kn(i);if(this.monitor.isDragging()){if(i&&typeof i.setDragImage=="function"){const u=this.monitor.getSourceId(),f=this.sourceNodes.get(u),p=this.sourcePreviewNodes.get(u)||f;if(p){const{anchorX:h,anchorY:m,offsetX:g,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),y=Pd(f,p,s,{anchorX:h,anchorY:m},{offsetX:g,offsetY:v});i.setDragImage(p,y.x,y.y)}}try{i==null||i.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(i&&!i.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:i}=o,c=kn(i);c&&this.beginDragNativeItem(c,i)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Yt(o)}),a.some(i=>this.monitor.canDropOnTarget(i))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Yt(o),this.scheduleHover(a),(a||[]).some(i=>this.monitor.canDropOnTarget(i))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;o.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else kn(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Yt(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))},this.options=new jd(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Dd(this.isNodeInDocument)}}const _d=function(e,n,r){return new Hd(e,n,r)};var pt;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(pt||(pt={}));class Ad{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,n,r,o;return(o=(r=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,n,r,o;return(o=(r=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&o!==void 0?o:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,n){this.args=e,this.context=n}}function Ld(t,e,n,r){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function Fd(t,e,n,r,o){if(!o)return!1;const a=Math.atan2(r-e,n-t)*180/Math.PI+180;for(let s=0;s<o.length;++s){const i=o[s];if(i&&(i.start==null||a>=i.start)&&(i.end==null||a<=i.end))return!0}return!1}const Bd={Left:1,Right:2,Center:4},zd={Left:0,Center:1,Right:2};function Hn(t){return t.button===void 0||t.button===zd.Left}function Wd(t){return t.buttons===void 0||(t.buttons&Bd.Left)===0}function ua(t){return!!t.targetTouches}const Vd=1;function qd(t){const e=t.nodeType===Vd?t:t.parentElement;if(!e)return;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Ud(t,e){if(t.targetTouches.length===1)return sn(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return sn(t.touches[0])}function sn(t,e){return ua(t)?Ud(t,e):{x:t.clientX,y:t.clientY}}const to=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Ft={[pt.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[pt.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[pt.keyboard]:{keydown:"keydown"}};class Vt{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(K(!Vt.isSetUp,"Cannot have two Touch backends at the same time."),Vt.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Vt.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,n,r,o=!1){const a=to?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(s){const i=Ft[s][n];i&&e.addEventListener(i,r,a)})}removeEventListener(e,n,r,o=!1){const a=to?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(s){const i=Ft[s][n];i&&e.removeEventListener(i,r,a)})}connectDragSource(e,n){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(n,"start",r)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const o=a=>{if(!this.document||!r||!this.monitor.isDragging())return;let s;switch(a.type){case Ft.mouse.move:s={x:a.clientX,y:a.clientY};break;case Ft.touch.move:var i,c;s={x:((i=a.touches[0])===null||i===void 0?void 0:i.clientX)||0,y:((c=a.touches[0])===null||c===void 0?void 0:c.clientY)||0};break}const d=s!=null?this.document.elementFromPoint(s.x,s.y):void 0,u=d&&n.contains(d);if(d===n||u)return this.handleMove(a,e)};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,n),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,n,r){this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&qd(a)},this.handleTopMoveStartCapture=o=>{Hn(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Hn(o))return;const a=sn(o);a&&(ua(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Hn(o))return;const a=o.type===Ft.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:s}=this,i=this.options.enableHoverOutsideTarget,c=sn(o,this.lastTargetTouchFallback);if(!c)return;if(this._isScrolling||!this.monitor.isDragging()&&Fd(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&Ld(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const d=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(d),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const u=(s||[]).map(m=>this.targetNodes.get(m)).filter(m=>!!m),f=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(c.x,c.y,u):this.document.elementsFromPoint(c.x,c.y),p=[];for(const m in f){if(!f.hasOwnProperty(m))continue;let g=f[m];for(g!=null&&p.push(g);g;)g=g.parentElement,g&&p.indexOf(g)===-1&&p.push(g)}const h=p.filter(m=>u.indexOf(m)>-1).map(m=>this._getDropTargetId(m)).filter(m=>!!m).filter((m,g,v)=>v.indexOf(m)===g);if(i)for(const m in this.targetNodes){const g=this.targetNodes.get(m);if(d&&g&&g.contains(d)&&h.indexOf(m)===-1){h.unshift(m);break}}h.reverse(),this.actions.hover(h,{clientOffset:c})},this._getDropTargetId=o=>{const a=this.targetNodes.keys();let s=a.next();for(;s.done===!1;){const i=s.value;if(o===this.targetNodes.get(i))return i;s=a.next()}},this.handleTopMoveEndCapture=o=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Wd(o)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Ad(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(pt.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(pt.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(pt.keyboard)}}const Gd=function(e,n={},r={}){return new Vt(e,n,r)};var da=t=>{throw TypeError(t)},ga=(t,e,n)=>e.has(t)||da("Cannot "+n),q=(t,e,n)=>(ga(t,e,"read from private field"),n?n.call(t):e.get(t)),Ye=(t,e,n)=>e.has(t)?da("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(ga(t,e,"write to private field"),e.set(t,n),n),ht,Xd=class{constructor(){Ye(this,ht),this.register=t=>{q(this,ht).push(t)},this.unregister=t=>{for(;q(this,ht).indexOf(t)!==-1;)q(this,ht).splice(q(this,ht).indexOf(t),1)},this.backendChanged=t=>{for(let e of q(this,ht))e.backendChanged(t)},yt(this,ht,[])}};ht=new WeakMap;var ze,Bt,We,ct,xt,Yn,Kn,Qn,Zt,en,zt,fa=class tn{constructor(e,n,r){if(Ye(this,ze),Ye(this,Bt),Ye(this,We),Ye(this,ct),Ye(this,xt),Ye(this,Yn,(o,a,s)=>{if(!s.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(s)}`);let i=s.backend(o,a,s.options),c=s.id,d=!s.id&&i&&i.constructor;if(d&&(c=i.constructor.name),!c)throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(s)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(d&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`),q(this,We)[c])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(s)} (conflicts with: ${JSON.stringify(q(this,We)[c])})`);return{id:c,instance:i,preview:s.preview??!1,transition:s.transition,skipDispatchOnTransition:s.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(tn.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");tn.isSetUp=!0,q(this,Kn).call(this,window),q(this,We)[q(this,ze)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(tn.isSetUp=!1,q(this,Qn).call(this,window),q(this,We)[q(this,ze)].instance.teardown())},this.connectDragSource=(o,a,s)=>q(this,zt).call(this,"connectDragSource",o,a,s),this.connectDragPreview=(o,a,s)=>q(this,zt).call(this,"connectDragPreview",o,a,s),this.connectDropTarget=(o,a,s)=>q(this,zt).call(this,"connectDropTarget",o,a,s),this.profile=()=>q(this,We)[q(this,ze)].instance.profile(),this.previewEnabled=()=>q(this,We)[q(this,ze)].preview,this.previewsList=()=>q(this,Bt),this.backendsList=()=>q(this,ct),Ye(this,Kn,o=>{for(let a of q(this,ct))a.transition&&o.addEventListener(a.transition.event,q(this,Zt))}),Ye(this,Qn,o=>{for(let a of q(this,ct))a.transition&&o.removeEventListener(a.transition.event,q(this,Zt))}),Ye(this,Zt,o=>{var s;let a=q(this,ze);if(q(this,ct).some(i=>i.id!==q(this,ze)&&i.transition&&i.transition.check(o)?(yt(this,ze,i.id),!0):!1),q(this,ze)!==a){q(this,We)[a].instance.teardown();for(let[u,f]of Object.entries(q(this,xt)))f.unsubscribe(),f.unsubscribe=q(this,en).call(this,f.func,...f.args);q(this,Bt).backendChanged(this);let i=q(this,We)[q(this,ze)];if(i.instance.setup(),i.skipDispatchOnTransition)return;let c=o.constructor,d=new c(o.type,o);(s=o.target)==null||s.dispatchEvent(d)}}),Ye(this,en,(o,a,s,i)=>q(this,We)[q(this,ze)].instance[o](a,s,i)),Ye(this,zt,(o,a,s,i)=>{let c=`${o}_${a}`,d=q(this,en).call(this,o,a,s,i);return q(this,xt)[c]={func:o,args:[a,s,i],unsubscribe:d},()=>{q(this,xt)[c].unsubscribe(),delete q(this,xt)[c]}}),!r||!r.backends||r.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);yt(this,Bt,new Xd),yt(this,We,{}),yt(this,ct,[]);for(let o of r.backends){let a=q(this,Yn).call(this,e,n,o);q(this,We)[a.id]=a,q(this,ct).push(a)}yt(this,ze,q(this,ct)[0].id),yt(this,xt,{})}};ze=new WeakMap,Bt=new WeakMap,We=new WeakMap,ct=new WeakMap,xt=new WeakMap,Yn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,Zt=new WeakMap,en=new WeakMap,zt=new WeakMap,fa.isSetUp=!1;var Yd=fa,Kd=(t,e,n)=>new Yd(t,e,n),ha=(t,e)=>({event:t,check:e}),Qd=ha("touchstart",t=>{let e=t;return e.touches!==null&&e.touches!==void 0}),Jd=ha("pointerdown",t=>t.pointerType==="mouse"),Zd={backends:[{id:"html5",backend:_d,transition:Jd},{id:"touch",backend:Gd,options:{enableMouseEvents:!0},preview:!0,transition:Qd}]};const vg=()=>{var _;const{formId:t}=ci(),e=ui(),n=bo(),o=(_=di().state)==null?void 0:_.id,[a,s]=l.useState(null),{data:i,isLoading:c}=gi(t||"",{skip:!t}),[d,{isLoading:u}]=fi(),[f,{isLoading:p}]=hi(),[h,{isLoading:m}]=mi(),g=vi($=>$.user.user),[v,S]=l.useState({}),b=($,C,R)=>{s(j=>{if(!j)return j;const{fields:k}=j,A=$===Le.RADIO||$===Le.CHECKBOX?{options:[{id:It(),label:""}]}:{},Q={id:R||It(),type:$,question:"",require:!1,...A},ee=[...k];return C!==void 0?ee.splice(C,0,Q):ee.push(Q),I("fields","delete"),{...j,fields:ee}})},y=($,C)=>{s(R=>{if(!R)return R;const{fields:j}=R,k=[...j],[H]=k.splice($,1);return k.splice(C,0,H),{...R,fields:k}})},x=l.useCallback(($,C)=>{s(R=>{if(!R)return R;const{fields:j}=R,k=j.map(H=>H.id===$?(C.question&&I($,"delete"),H.options&&H.options.forEach(A=>I(A.id,"delete")),{...H,...C}):H);return{...R,fields:k}})},[]),O=$=>{s(C=>{if(!C)return C;const{fields:R}=C,j=R.filter(k=>(I($,"delete"),k.id!==$));return{...C,fields:j}})},E=($,C,R)=>{s(j=>{if(!j)return j;const{fields:k}=j,H=[...k],A=k.find(ee=>ee.id===$);if(!A)return j;const Q={...A,id:R};return C==="next"?H.splice(H.indexOf(A)+1,0,Q):H.push(Q),{...j,fields:H}})},D=async()=>{if(!a)return;const $=P();if(S($),!(Object.keys($).length>0))try{if("createdAt"in a){await f(a).unwrap();const C={...a,responseCount:0,createdAt:a.createdAt?new Date(a.createdAt).getTime():new Date().getTime(),updatedAt:a.updatedAt?new Date(a.updatedAt).getTime():new Date().getTime()};e(bi(C)),Lt.success({message:"Форма успешно обновлена"})}else{await d(a).unwrap();const C={...a,responseCount:0,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};e(Si(C)),Lt.success({message:"Форма успешно сохранена"})}}catch(C){console.log("Error",C),Lt.error({message:"Ошибка"})}},N=async()=>{try{t&&(await h(t).unwrap(),e(Ci(t)),Lt.info({message:"Форма успешно удалена"}),n("/"))}catch($){console.log("Error",$),Lt.error({message:"Ошибка"})}},M=({value:$,name:C})=>{s(R=>R&&(I(C,"delete"),{...R,[C]:$}))},I=($,C)=>{S(R=>{const j={...R};return C.trim()===""?j[$]=["Поле не может быть пустым."]:delete j[$],j})},P=()=>{var C,R,j,k;const $={};return a&&(a.fields&&Array.isArray(a.fields)&&(a.fields.length===0?$.fields=["Добавьте как минимум 1 вопрос."]:$.fields&&delete $.fields,a.fields.forEach(H=>{var A,Q,ee;((A=H.question)==null?void 0:A.trim())===""?$[H.id]=["Поле не может быть пустым."]:$[H.id]&&((Q=H.question)==null?void 0:Q.trim())!==""&&delete $[H.id],(H.type===Le.RADIO||H.type===Le.CHECKBOX)&&((ee=H.options)==null||ee.forEach(X=>{X.label.trim()===""?$[X.id]=["Поле не может быть пустым."]:$[X.id]&&X.label.trim()!==""&&delete $[X.id]}))})),((C=a.title)==null?void 0:C.trim())===""?$.title=["Поле не может быть пустым."]:$.title&&((R=a.title)==null?void 0:R.trim())!==""&&delete $.title,((j=a.description)==null?void 0:j.trim())===""?$.description=["Поле не может быть пустым."]:$.description&&((k=a.description)==null?void 0:k.trim())!==""&&delete $.description),$};return l.useLayoutEffect(()=>{if(i){if("settings"in i){let $={...i};const C=i.settings;$={...i,tags:C.tags||[],timer:C.timer||""},delete $.settings,s(()=>$);return}s(()=>i)}else o&&s(()=>({id:o,userId:(g==null?void 0:g.uid)||"",...vc}))},[i]),Ni(i!=null&&i.title?`Изменение формы | ${i.title}`:"Изменение формы"),c?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx(pi,{size:"large"})}):!i&&!o?w.jsx(Ti,{}):a?w.jsxs(w.Fragment,{children:[w.jsx(Ri,{}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx(on.Text,{className:"!text-xl font-medium xl:px-0 md:!text-2xl self-start",children:"createdAt"in a?"Изменение формы":"Создание формы"}),w.jsx(Hu,{backend:Kd,options:Zd,children:w.jsxs("div",{className:"flex gap-4 w-full",children:[w.jsx(wd,{constructor:a,isCreating:u,isUpdating:p,isDeleting:m,isError:Object.keys(v).length>0,isNew:!("createdAt"in a),onSaveConstructor:D,onRemoveConstructor:N,onChangeForm:M}),w.jsxs("div",{className:"flex flex-col w-full relative gap-4",children:[w.jsx(Sc,{constructor:a,onChangeForm:M,errors:v}),w.jsx(vd,{constructor:a,errors:v,onDropField:b,onMoveField:y,onRemoveField:O,onUpdateField:x,onCopyField:E})]})]})})]})]}):w.jsx("div",{children:"Ошибка при создании конструктора."})};export{vg as FormsEdit};
