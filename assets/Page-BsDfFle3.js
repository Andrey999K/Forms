import{j as s,E as k,b as l,c6 as M,h as L,J as T,bE as m,S as A,bC as d,c5 as x}from"./index-SlQ-HNSk.js";import{L as R,C as V,A as B,a as I}from"./AuthTextLink-CRGIu-an.js";import{u as O,U as r,a as t}from"./UserFormInput-B7kzbMax.js";import{k as U,d as u,h as D,i as h,j as p}from"./index-CfdvychM.js";import{R as f}from"./index-rm0zq_gw.js";import{F as j}from"./index-DMJIi2kB.js";import"./index-XgaCDfq1.js";import"./SearchOutlined-DY1cfyXX.js";import"./row-NPrRHqDa.js";import"./ExclamationCircleFilled-BtXBN8ed.js";const G=({reset:e})=>s.jsx(j.Item,{className:"flex justify-end ml-1 mb-0",children:s.jsx(k,{onClick:()=>e(),className:"rounded-lg text-[#4a4b4d] bg-[#EFF2F6] hover:!bg-[#E8ECF2] hover:!text-[#444547] text-xs h-[39.82px] !border-none focus:!outline-none active:!outline-none active:!shadow-none active:!ring-0",children:"Очистить форму"})}),$=()=>{const[e,w]=l.useState(!1),[i,y]=l.useState(!1),{control:a,handleSubmit:g,watch:b,reset:v}=O({mode:"onChange"}),[N,{isLoading:n}]=M(),c=L(),F=T(),P=()=>w(o=>!o),C=()=>y(o=>!o),E=b("password"),z=async o=>{c(x(!0));try{await N(o).unwrap(),F(d.HOME)}catch(S){console.error("Ошибка авторизации:",S)}finally{c(x(!1))}};return l.useEffect(()=>{document.title="Регистрация"},[]),s.jsx(R,{className:"min-h-screen bg-authImg bg-cover bg-center overflow-hidden",children:s.jsx(V,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(U,{size:30,color:"#808897"})})}),s.jsx(m.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Регистрация"}),s.jsx(m.Title,{level:5,style:{margin:"0"},children:"Зарегистрироваться с помощью почты"})]}),s.jsxs(j,{onFinish:g(z),autoComplete:"off",children:[s.jsx(r,{control:a,name:"name",placeholder:"Имя",rules:t.name,prefix:s.jsx(u,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(r,{control:a,name:"surname",placeholder:"Фамилия",rules:t.surname,prefix:s.jsx(u,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(r,{control:a,name:"email",placeholder:"Email",rules:t.email,prefix:s.jsx(D,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(r,{control:a,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:t.password,prefix:s.jsx(f,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:P,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(h,{size:20}):s.jsx(p,{size:20})})}),s.jsx(r,{control:a,name:"copyPassword",type:i?"text":"password",placeholder:"Пароль",rules:t.copyPassword(E),prefix:s.jsx(f,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:C,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":i?"hidePassword":"showPassword",children:i?s.jsx(h,{size:20}):s.jsx(p,{size:20})})}),s.jsx(B,{disabled:n,children:n?s.jsx(A,{size:"small"}):"Зарегистрироваться"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(G,{reset:v}),s.jsx(I,{text:"Есть аккаунт?",linkText:"Войти",linkTo:d.LOGIN})]})]})]})})})};export{$ as Signup};
