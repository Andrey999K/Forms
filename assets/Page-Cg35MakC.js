import{b as w,c4 as y,h as b,ak as v,j as s,bD as l,S as k,c5 as i,c6 as n}from"./index-CCXR-vyt.js";import{L as F,C as L,A as N,a as c}from"./AuthTextLink-BMO4mV8d.js";import{u as S,U as m,a as d}from"./UserFormInput-D5kqbGg3.js";import{G as T,h as E,i as P,j as R}from"./index-Cy1b87vf.js";import{R as M}from"./index-fECsUZ2O.js";import{P as z}from"./PageTitle-BvvFnL1z.js";import{F as C}from"./index-DFD4Phnl.js";import"./index-Dx6CR9Xb.js";import"./SearchOutlined-D7i5EhoQ.js";import"./row-Cl5wUIqP.js";function O(e){return T({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}const _=()=>{const[e,x]=w.useState(!1),{control:a,handleSubmit:h}=S({mode:"onBlur"}),[u,{isLoading:o}]=y(),r=b(),p=v(),f=()=>x(t=>!t),j=async t=>{r(n(!0));try{await u(t).unwrap(),p(i.HOME)}catch(g){console.error("Ошибка авторизации:",g)}finally{r(n(!1))}};return s.jsxs(s.Fragment,{children:[s.jsx(z,{title:"Авторизация"}),s.jsx(F,{className:"min-h-screen auth-bg-gradient overflow-hidden",children:s.jsx(L,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(O,{size:30,color:"#808897"})})}),s.jsx(l.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(l.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(C,{onFinish:h(j),autoComplete:"off",children:[s.jsx(m,{control:a,name:"email",placeholder:"Email",rules:d.email,prefix:s.jsx(E,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(m,{control:a,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:d.password,prefix:s.jsx(M,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:f,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(P,{size:20}):s.jsx(R,{size:20})})}),s.jsx(N,{disabled:o,children:o?s.jsx(k,{size:"small"}):"Войти"}),s.jsx(c,{text:"Забыли пароль?",linkText:"Сбросить пароль",linkTo:i.RECOVERY_PASSWORD}),s.jsx(c,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})]})};export{_ as Login};
