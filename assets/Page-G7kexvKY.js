import{b as g,c0 as w,f as b,aq as N,j as s,c1 as S,ao as T,c2 as v,by as l,R as i,c3 as n}from"./index-DKiSfYVU.js";import{C as P,A as R,a as m}from"./AuthTextLink-D4s1Etcd.js";import{u as F,U as c,a as d}from"./UserFormInput-CLTDEnOt.js";import{g as k,h as E,i as L}from"./index-BayaFlfS.js";import{R as z}from"./index-DLYSuRfN.js";import{u as M}from"./usePageTitle-C0a4UgZv.js";import{F as C}from"./index-CzRNzGi2.js";import"./index-Ct0aK3ha.js";import"./SearchOutlined-BHK5eFvk.js";import"./row-C91WiqjA.js";const H=()=>{const[e,x]=g.useState(!1),{control:r,handleSubmit:p}=F({mode:"onBlur"}),[u,{isLoading:t}]=w(),o=b(),h=N(),f=()=>x(a=>!a),j=async a=>{o(n(!0));try{await u(a).unwrap(),h(i.HOME)}catch(y){console.error("Ошибка авторизации:",y)}finally{o(n(!1))}};return M("Авторизация"),s.jsx(S,{children:s.jsx(P,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs(T,{className:"px-8 py-8 rounded-2xl max-w-sm w-full",style:{zIndex:10},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-bgPrimary rounded-2xl shadow-lg",children:s.jsx(v,{size:30})})}),s.jsx(l.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(l.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(C,{onFinish:p(j),autoComplete:"off",children:[s.jsx(c,{control:r,name:"email",placeholder:"Email",rules:d.email,prefix:s.jsx(k,{size:20,className:"mr-1"})}),s.jsx(c,{control:r,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:d.password,prefix:s.jsx(z,{size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:f,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(E,{size:20}):s.jsx(L,{size:20})})}),s.jsx(R,{disabled:t,loading:t,children:"Войти"}),s.jsx(m,{text:"Забыли пароль?",linkText:"Сбросить",linkTo:i.RECOVERY_PASSWORD}),s.jsx(m,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})};export{H as Login};
