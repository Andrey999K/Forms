import{b as l,c4 as y,h as b,J as v,j as s,bE as n,S as k,bC as i,c5 as c}from"./index-SlQ-HNSk.js";import{L as E,C as L,A as N,a as m}from"./AuthTextLink-CRGIu-an.js";import{u as S,U as d,a as h}from"./UserFormInput-B7kzbMax.js";import{G as F,h as T,i as C,j as R}from"./index-CfdvychM.js";import{R as M}from"./index-rm0zq_gw.js";import{F as P}from"./index-DMJIi2kB.js";import"./index-XgaCDfq1.js";import"./SearchOutlined-DY1cfyXX.js";import"./row-NPrRHqDa.js";import"./ExclamationCircleFilled-BtXBN8ed.js";function z(e){return F({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}const J=()=>{const[e,x]=l.useState(!1),{control:o,handleSubmit:u}=S({mode:"onChange"}),[p,{isLoading:a}]=y(),r=b(),f=v(),g=()=>x(t=>!t),j=async t=>{r(c(!0));try{await p(t).unwrap(),f(i.HOME)}catch(w){console.error("Ошибка авторизации:",w)}finally{r(c(!1))}};return l.useEffect(()=>{document.title="Вход"},[]),s.jsx(E,{className:"min-h-screen bg-authImg bg-cover bg-center overflow-hidden",children:s.jsx(L,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(z,{size:30,color:"#808897"})})}),s.jsx(n.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(n.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(P,{onFinish:u(j),autoComplete:"off",children:[s.jsx(d,{control:o,name:"email",placeholder:"Email",rules:h.email,prefix:s.jsx(T,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(d,{control:o,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:h.password,prefix:s.jsx(M,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:g,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(C,{size:20}):s.jsx(R,{size:20})})}),s.jsx(N,{disabled:a,children:a?s.jsx(k,{size:"small"}):"Войти"}),s.jsx(m,{text:"Забыли пароль?",linkText:"Сбросить пароль",linkTo:i.RECOVERY_PASSWORD}),s.jsx(m,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})};export{J as Login};
