import{g as mt,r as jt,u as pe,b as i,C as Ae,c as V,v as ir,e as ft,w as Lr,x as Tr,y as Pt,z as sr,A as Dr,D as lr,E as kr,_ as kt,F as zr,H as Ar,I as Ot,J as Rt,M as Mt,N as ee,P as Fr,O as te,Q as yt,S as ge,U as _r,V as Br,W as De,X as Ee,Y as fe,Z as Pe,$ as Me,a0 as ot,a1 as ke,m as at,a2 as Le,a3 as Ur,a4 as Lt,a5 as Xr,a6 as cr,a7 as ur,a8 as it,a9 as Ct,aa as Hr,ab as xt,ac as dr,K as St,ad as mr,ae as Wr,af as Vr,ag as Be,ah as ye,ai as fr,aj as be,ak as pr,al as zt,am as Yr,an as Gr,ao as qr,d as At,ap as $t,B as Ze,aq as Zr,ar as Kr,as as Ft,at as gr,j as C,au as je,s as He,av as Jr,aw as Qr,ax as en,T as vr,h as tn,k as rn,ay as nn,az as on,p as an,G as _t,aA as sn}from"./index-BYKL3bWx.js";import{D as ln,g as cn,i as hr}from"./index-D_nz6Y6Y.js";import{u as un}from"./useForceUpdate-BHSsOOSS.js";import{R as dn}from"./DeleteOutlined-C5q89rO0.js";import{a as Ue,R as mn,b as fn}from"./DownloadOutlined-BTS2IsdF.js";import{R as br}from"./index-xj1Atjqo.js";import{R as pn}from"./PlusOutlined-lCByVyZ2.js";import{c as gn,d as Bt,e as Ut,f as Xt,g as Ht,h as wr,i as Wt,j as Vt}from"./index-DPiEM2yP.js";import{U as st,a as lt,u as yr,C as vn}from"./UserFormInput-smjNU5aN.js";import{R as Yt}from"./index-C4cYO-kc.js";import{F as nt}from"./index-D3fqhS_Z.js";import{B as hn}from"./index-DQUjy-4H.js";import{u as bn}from"./usePageTitle-Ck99zROq.js";import"./index-DrNduDvd.js";import"./row-fxP-bkvu.js";import"./responsiveObserver-cwpleFN7.js";const Qe=(e,t,r,n,o)=>({background:e,border:`${pe(n.lineWidth)} ${n.lineType} ${t}`,[`${o}-icon`]:{color:r}}),wn=e=>{const{componentCls:t,motionDurationSlow:r,marginXS:n,marginSM:o,fontSize:s,fontSizeLG:l,lineHeight:a,borderRadiusLG:c,motionEaseInOutCirc:u,withDescriptionIconSize:m,colorText:d,colorTextHeading:g,withDescriptionPadding:v,defaultPadding:p}=e;return{[t]:Object.assign(Object.assign({},jt(e)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:a},"&-message":{color:g},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${u}, opacity ${r} ${u},
        padding-top ${r} ${u}, padding-bottom ${r} ${u},
        margin-bottom ${r} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:v,[`${t}-icon`]:{marginInlineEnd:o,fontSize:m,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:n,color:g,fontSize:l},[`${t}-description`]:{display:"block",color:d}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},yn=e=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:n,colorSuccessBg:o,colorWarning:s,colorWarningBorder:l,colorWarningBg:a,colorError:c,colorErrorBorder:u,colorErrorBg:m,colorInfo:d,colorInfoBorder:g,colorInfoBg:v}=e;return{[t]:{"&-success":Qe(o,n,r,e,t),"&-info":Qe(v,g,d,e,t),"&-warning":Qe(a,l,s,e,t),"&-error":Object.assign(Object.assign({},Qe(m,u,c,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Cn=e=>{const{componentCls:t,iconCls:r,motionDurationMid:n,marginXS:o,fontSizeIcon:s,colorIcon:l,colorIconHover:a}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:s,lineHeight:pe(s),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:l,transition:`color ${n}`,"&:hover":{color:a}}},"&-close-text":{color:l,transition:`color ${n}`,"&:hover":{color:a}}}}},xn=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),Sn=mt("Alert",e=>[wn(e),yn(e),Cn(e)],xn);var Gt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const $n={success:sr,info:Dr,error:lr,warning:kr},In=e=>{const{icon:t,prefixCls:r,type:n}=e,o=$n[n]||null;return t?Tr(t,i.createElement("span",{className:`${r}-icon`},t),()=>({className:V(`${r}-icon`,t.props.className)})):i.createElement(o,{className:`${r}-icon`})},En=e=>{const{isClosable:t,prefixCls:r,closeIcon:n,handleClose:o,ariaProps:s}=e,l=n===!0||n===void 0?i.createElement(Pt,null):n;return t?i.createElement("button",Object.assign({type:"button",onClick:o,className:`${r}-close-icon`,tabIndex:0},s),l):null},Cr=i.forwardRef((e,t)=>{const{description:r,prefixCls:n,message:o,banner:s,className:l,rootClassName:a,style:c,onMouseEnter:u,onMouseLeave:m,onClick:d,afterClose:g,showIcon:v,closable:p,closeText:b,closeIcon:w,action:h,id:I}=e,P=Gt(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[N,f]=i.useState(!1),E=i.useRef(null);i.useImperativeHandle(t,()=>({nativeElement:E.current}));const{getPrefixCls:S,direction:$,alert:y}=i.useContext(Ae),x=S("alert",n),[O,D,A]=Sn(x),k=R=>{var j;f(!0),(j=e.onClose)===null||j===void 0||j.call(e,R)},H=i.useMemo(()=>e.type!==void 0?e.type:s?"warning":"info",[e.type,s]),F=i.useMemo(()=>typeof p=="object"&&p.closeIcon||b?!0:typeof p=="boolean"?p:w!==!1&&w!==null&&w!==void 0?!0:!!(y!=null&&y.closable),[b,w,p,y==null?void 0:y.closable]),L=s&&v===void 0?!0:v,K=V(x,`${x}-${H}`,{[`${x}-with-description`]:!!r,[`${x}-no-icon`]:!L,[`${x}-banner`]:!!s,[`${x}-rtl`]:$==="rtl"},y==null?void 0:y.className,l,a,A,D),Y=ir(P,{aria:!0,data:!0}),B=i.useMemo(()=>{var R,j;return typeof p=="object"&&p.closeIcon?p.closeIcon:b||(w!==void 0?w:typeof(y==null?void 0:y.closable)=="object"&&(!((R=y==null?void 0:y.closable)===null||R===void 0)&&R.closeIcon)?(j=y==null?void 0:y.closable)===null||j===void 0?void 0:j.closeIcon:y==null?void 0:y.closeIcon)},[w,p,b,y==null?void 0:y.closeIcon]),U=i.useMemo(()=>{const R=p??(y==null?void 0:y.closable);return typeof R=="object"?Gt(R,["closeIcon"]):{}},[p,y==null?void 0:y.closable]);return O(i.createElement(ft,{visible:!N,motionName:`${x}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:R=>({maxHeight:R.offsetHeight}),onLeaveEnd:g},(R,j)=>{let{className:T,style:G}=R;return i.createElement("div",Object.assign({id:I,ref:Lr(E,j),"data-show":!N,className:V(K,T),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),c),G),onMouseEnter:u,onMouseLeave:m,onClick:d,role:"alert"},Y),L?i.createElement(In,{description:r,icon:e.icon,prefixCls:x,type:H}):null,i.createElement("div",{className:`${x}-content`},o?i.createElement("div",{className:`${x}-message`},o):null,r?i.createElement("div",{className:`${x}-description`},r):null),h?i.createElement("div",{className:`${x}-action`},h):null,i.createElement(En,{isClosable:F,prefixCls:x,closeIcon:B,handleClose:k,ariaProps:U}))}))});function Nn(e,t,r){return t=kt(t),zr(e,Ar()?Reflect.construct(t,r||[],kt(e).constructor):t.apply(e,r))}let jn=function(e){function t(){var r;return Mt(this,t),r=Nn(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return Ot(t,e),Rt(t,[{key:"componentDidCatch",value:function(n,o){this.setState({error:n,info:o})}},{key:"render",value:function(){const{message:n,description:o,id:s,children:l}=this.props,{error:a,info:c}=this.state,u=(c==null?void 0:c.componentStack)||null,m=typeof n>"u"?(a||"").toString():n,d=typeof o>"u"?u:o;return a?i.createElement(Cr,{id:s,type:"error",message:m,description:i.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},d)}):l}}])}(i.Component);const xr=Cr;xr.ErrorBoundary=jn;function Sr(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function Pn(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{left:t.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var Ke=i.createContext(null),On=function(t){var r=t.visible,n=t.maskTransitionName,o=t.getContainer,s=t.prefixCls,l=t.rootClassName,a=t.icons,c=t.countRender,u=t.showSwitch,m=t.showProgress,d=t.current,g=t.transform,v=t.count,p=t.scale,b=t.minScale,w=t.maxScale,h=t.closeIcon,I=t.onActive,P=t.onClose,N=t.onZoomIn,f=t.onZoomOut,E=t.onRotateRight,S=t.onRotateLeft,$=t.onFlipX,y=t.onFlipY,x=t.onReset,O=t.toolbarRender,D=t.zIndex,A=t.image,k=i.useContext(Ke),H=a.rotateLeft,F=a.rotateRight,L=a.zoomIn,K=a.zoomOut,Y=a.close,B=a.left,U=a.right,R=a.flipX,j=a.flipY,T="".concat(s,"-operations-operation");i.useEffect(function(){var le=function(ce){ce.keyCode===yt.ESC&&P()};return r&&window.addEventListener("keydown",le),function(){window.removeEventListener("keydown",le)}},[r]);var G=function(ae,ce){ae.preventDefault(),ae.stopPropagation(),I(ce)},z=i.useCallback(function(le){var ae=le.type,ce=le.disabled,ve=le.onClick,me=le.icon;return i.createElement("div",{key:ae,className:V(T,"".concat(s,"-operations-operation-").concat(ae),ee({},"".concat(s,"-operations-operation-disabled"),!!ce)),onClick:ve},me)},[T,s]),ne=u?z({icon:B,onClick:function(ae){return G(ae,-1)},type:"prev",disabled:d===0}):void 0,re=u?z({icon:U,onClick:function(ae){return G(ae,1)},type:"next",disabled:d===v-1}):void 0,ie=z({icon:j,onClick:y,type:"flipY"}),q=z({icon:R,onClick:$,type:"flipX"}),ue=z({icon:H,onClick:S,type:"rotateLeft"}),se=z({icon:F,onClick:E,type:"rotateRight"}),X=z({icon:K,onClick:f,type:"zoomOut",disabled:p<=b}),W=z({icon:L,onClick:N,type:"zoomIn",disabled:p===w}),de=i.createElement("div",{className:"".concat(s,"-operations")},ie,q,ue,se,X,W);return i.createElement(ft,{visible:r,motionName:n},function(le){var ae=le.className,ce=le.style;return i.createElement(Fr,{open:!0,getContainer:o??document.body},i.createElement("div",{className:V("".concat(s,"-operations-wrapper"),ae,l),style:te(te({},ce),{},{zIndex:D})},h===null?null:i.createElement("button",{className:"".concat(s,"-close"),onClick:P},h||Y),u&&i.createElement(i.Fragment,null,i.createElement("div",{className:V("".concat(s,"-switch-left"),ee({},"".concat(s,"-switch-left-disabled"),d===0)),onClick:function(me){return G(me,-1)}},B),i.createElement("div",{className:V("".concat(s,"-switch-right"),ee({},"".concat(s,"-switch-right-disabled"),d===v-1)),onClick:function(me){return G(me,1)}},U)),i.createElement("div",{className:"".concat(s,"-footer")},m&&i.createElement("div",{className:"".concat(s,"-progress")},c?c(d+1,v):"".concat(d+1," / ").concat(v)),O?O(de,te(te({icons:{prevIcon:ne,nextIcon:re,flipYIcon:ie,flipXIcon:q,rotateLeftIcon:ue,rotateRightIcon:se,zoomOutIcon:X,zoomInIcon:W},actions:{onActive:I,onFlipY:y,onFlipX:$,onRotateLeft:S,onRotateRight:E,onZoomOut:f,onZoomIn:N,onReset:x,onClose:P},transform:g},k?{current:d,total:v}:{}),{},{image:A})):de)))})},et={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Rn(e,t,r,n){var o=i.useRef(null),s=i.useRef([]),l=i.useState(et),a=ge(l,2),c=a[0],u=a[1],m=function(p){u(et),_r(et,c)||n==null||n({transform:et,action:p})},d=function(p,b){o.current===null&&(s.current=[],o.current=Br(function(){u(function(w){var h=w;return s.current.forEach(function(I){h=te(te({},h),I)}),o.current=null,n==null||n({transform:h,action:b}),h})})),s.current.push(te(te({},c),p))},g=function(p,b,w,h,I){var P=e.current,N=P.width,f=P.height,E=P.offsetWidth,S=P.offsetHeight,$=P.offsetLeft,y=P.offsetTop,x=p,O=c.scale*p;O>r?(O=r,x=r/c.scale):O<t&&(O=I?O:t,x=O/c.scale);var D=w??innerWidth/2,A=h??innerHeight/2,k=x-1,H=k*N*.5,F=k*f*.5,L=k*(D-c.x-$),K=k*(A-c.y-y),Y=c.x-(L-H),B=c.y-(K-F);if(p<1&&O===1){var U=E*O,R=S*O,j=Sr(),T=j.width,G=j.height;U<=T&&R<=G&&(Y=0,B=0)}d({x:Y,y:B,scale:O},b)};return{transform:c,resetTransform:m,updateTransform:d,dispatchZoomChange:g}}function qt(e,t,r,n){var o=t+r,s=(r-n)/2;if(r>n){if(t>0)return ee({},e,s);if(t<0&&o<n)return ee({},e,-s)}else if(t<0||o>n)return ee({},e,t<0?s:-s);return{}}function $r(e,t,r,n){var o=Sr(),s=o.width,l=o.height,a=null;return e<=s&&t<=l?a={x:0,y:0}:(e>s||t>l)&&(a=te(te({},qt("x",r,e,s)),qt("y",n,t,l))),a}var Xe=1,Mn=1;function Ln(e,t,r,n,o,s,l){var a=o.rotate,c=o.scale,u=o.x,m=o.y,d=i.useState(!1),g=ge(d,2),v=g[0],p=g[1],b=i.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),w=function(f){!t||f.button!==0||(f.preventDefault(),f.stopPropagation(),b.current={diffX:f.pageX-u,diffY:f.pageY-m,transformX:u,transformY:m},p(!0))},h=function(f){r&&v&&s({x:f.pageX-b.current.diffX,y:f.pageY-b.current.diffY},"move")},I=function(){if(r&&v){p(!1);var f=b.current,E=f.transformX,S=f.transformY,$=u!==E&&m!==S;if(!$)return;var y=e.current.offsetWidth*c,x=e.current.offsetHeight*c,O=e.current.getBoundingClientRect(),D=O.left,A=O.top,k=a%180!==0,H=$r(k?x:y,k?y:x,D,A);H&&s(te({},H),"dragRebound")}},P=function(f){if(!(!r||f.deltaY==0)){var E=Math.abs(f.deltaY/100),S=Math.min(E,Mn),$=Xe+S*n;f.deltaY>0&&($=Xe/$),l($,"wheel",f.clientX,f.clientY)}};return i.useEffect(function(){var N,f,E,S;if(t){E=Ue(window,"mouseup",I,!1),S=Ue(window,"mousemove",h,!1);try{window.top!==window.self&&(N=Ue(window.top,"mouseup",I,!1),f=Ue(window.top,"mousemove",h,!1))}catch{}}return function(){var $,y,x,O;($=E)===null||$===void 0||$.remove(),(y=S)===null||y===void 0||y.remove(),(x=N)===null||x===void 0||x.remove(),(O=f)===null||O===void 0||O.remove()}},[r,v,u,m,a,t]),{isMoving:v,onMouseDown:w,onMouseMove:h,onMouseUp:I,onWheel:P}}function Tn(e){return new Promise(function(t){var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function Ir(e){var t=e.src,r=e.isCustomPlaceholder,n=e.fallback,o=i.useState(r?"loading":"normal"),s=ge(o,2),l=s[0],a=s[1],c=i.useRef(!1),u=l==="error";i.useEffect(function(){var v=!0;return Tn(t).then(function(p){!p&&v&&a("error")}),function(){v=!1}},[t]),i.useEffect(function(){r&&!c.current?a("loading"):u&&a("normal")},[t]);var m=function(){a("normal")},d=function(p){c.current=!1,l==="loading"&&p!==null&&p!==void 0&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(c.current=!0,m())},g=u&&n?{src:n}:{onLoad:m,src:t};return[d,g,l]}function ct(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.hypot(r,n)}function Dn(e,t,r,n){var o=ct(e,r),s=ct(t,n);if(o===0&&s===0)return[e.x,e.y];var l=o/(o+s),a=e.x+l*(t.x-e.x),c=e.y+l*(t.y-e.y);return[a,c]}function kn(e,t,r,n,o,s,l){var a=o.rotate,c=o.scale,u=o.x,m=o.y,d=i.useState(!1),g=ge(d,2),v=g[0],p=g[1],b=i.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),w=function(f){b.current=te(te({},b.current),f)},h=function(f){if(t){f.stopPropagation(),p(!0);var E=f.touches,S=E===void 0?[]:E;S.length>1?w({point1:{x:S[0].clientX,y:S[0].clientY},point2:{x:S[1].clientX,y:S[1].clientY},eventType:"touchZoom"}):w({point1:{x:S[0].clientX-u,y:S[0].clientY-m},eventType:"move"})}},I=function(f){var E=f.touches,S=E===void 0?[]:E,$=b.current,y=$.point1,x=$.point2,O=$.eventType;if(S.length>1&&O==="touchZoom"){var D={x:S[0].clientX,y:S[0].clientY},A={x:S[1].clientX,y:S[1].clientY},k=Dn(y,x,D,A),H=ge(k,2),F=H[0],L=H[1],K=ct(D,A)/ct(y,x);l(K,"touchZoom",F,L,!0),w({point1:D,point2:A,eventType:"touchZoom"})}else O==="move"&&(s({x:S[0].clientX-y.x,y:S[0].clientY-y.y},"move"),w({eventType:"move"}))},P=function(){if(r){if(v&&p(!1),w({eventType:"none"}),n>c)return s({x:0,y:0,scale:n},"touchZoom");var f=e.current.offsetWidth*c,E=e.current.offsetHeight*c,S=e.current.getBoundingClientRect(),$=S.left,y=S.top,x=a%180!==0,O=$r(x?E:f,x?f:E,$,y);O&&s(te({},O),"dragRebound")}};return i.useEffect(function(){var N;return r&&t&&(N=Ue(window,"touchmove",function(f){return f.preventDefault()},{passive:!1})),function(){var f;(f=N)===null||f===void 0||f.remove()}},[r,t]),{isTouching:v,onTouchStart:h,onTouchMove:I,onTouchEnd:P}}var zn=["fallback","src","imgRef"],An=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Fn=function(t){var r=t.fallback,n=t.src,o=t.imgRef,s=De(t,zn),l=Ir({src:n,fallback:r}),a=ge(l,2),c=a[0],u=a[1];return Ee.createElement("img",fe({ref:function(d){o.current=d,c(d)}},s,u))},Er=function(t){var r=t.prefixCls,n=t.src,o=t.alt,s=t.imageInfo,l=t.fallback,a=t.movable,c=a===void 0?!0:a,u=t.onClose,m=t.visible,d=t.icons,g=d===void 0?{}:d,v=t.rootClassName,p=t.closeIcon,b=t.getContainer,w=t.current,h=w===void 0?0:w,I=t.count,P=I===void 0?1:I,N=t.countRender,f=t.scaleStep,E=f===void 0?.5:f,S=t.minScale,$=S===void 0?1:S,y=t.maxScale,x=y===void 0?50:y,O=t.transitionName,D=O===void 0?"zoom":O,A=t.maskTransitionName,k=A===void 0?"fade":A,H=t.imageRender,F=t.imgCommonProps,L=t.toolbarRender,K=t.onTransform,Y=t.onChange,B=De(t,An),U=i.useRef(),R=i.useContext(Ke),j=R&&P>1,T=R&&P>=1,G=i.useState(!0),z=ge(G,2),ne=z[0],re=z[1],ie=Rn(U,$,x,K),q=ie.transform,ue=ie.resetTransform,se=ie.updateTransform,X=ie.dispatchZoomChange,W=Ln(U,c,m,E,q,se,X),de=W.isMoving,le=W.onMouseDown,ae=W.onWheel,ce=kn(U,c,m,$,q,se,X),ve=ce.isTouching,me=ce.onTouchStart,Ce=ce.onTouchMove,Ne=ce.onTouchEnd,xe=q.rotate,Se=q.scale,We=V(ee({},"".concat(r,"-moving"),de));i.useEffect(function(){ne||re(!0)},[ne]);var Ve=function(){ue("close")},Ye=function(){X(Xe+E,"zoomIn")},Ie=function(){X(Xe/(Xe+E),"zoomOut")},we=function(){se({rotate:xe+90},"rotateRight")},Oe=function(){se({rotate:xe-90},"rotateLeft")},Fe=function(){se({flipX:!q.flipX},"flipX")},_e=function(){se({flipY:!q.flipY},"flipY")},Je=function(){ue("reset")},M=function(he){var $e=h+he;!Number.isInteger($e)||$e<0||$e>P-1||(re(!1),ue(he<0?"prev":"next"),Y==null||Y($e,h))},Z=function(he){!m||!j||(he.keyCode===yt.LEFT?M(-1):he.keyCode===yt.RIGHT&&M(1))},oe=function(he){m&&(Se!==1?se({x:0,y:0,scale:1},"doubleClick"):X(Xe+E,"doubleClick",he.clientX,he.clientY))};i.useEffect(function(){var Q=Ue(window,"keydown",Z,!1);return function(){Q.remove()}},[m,j,h]);var _=Ee.createElement(Fn,fe({},F,{width:t.width,height:t.height,imgRef:U,className:"".concat(r,"-img"),alt:o,style:{transform:"translate3d(".concat(q.x,"px, ").concat(q.y,"px, 0) scale3d(").concat(q.flipX?"-":"").concat(Se,", ").concat(q.flipY?"-":"").concat(Se,", 1) rotate(").concat(xe,"deg)"),transitionDuration:(!ne||ve)&&"0s"},fallback:l,src:n,onWheel:ae,onMouseDown:le,onDoubleClick:oe,onTouchStart:me,onTouchMove:Ce,onTouchEnd:Ne,onTouchCancel:Ne})),J=te({url:n,alt:o},s);return Ee.createElement(Ee.Fragment,null,Ee.createElement(ln,fe({transitionName:D,maskTransitionName:k,closable:!1,keyboard:!0,prefixCls:r,onClose:u,visible:m,classNames:{wrapper:We},rootClassName:v,getContainer:b},B,{afterClose:Ve}),Ee.createElement("div",{className:"".concat(r,"-img-wrapper")},H?H(_,te({transform:q,image:J},R?{current:h}:{})):_)),Ee.createElement(On,{visible:m,transform:q,maskTransitionName:k,closeIcon:p,getContainer:b,prefixCls:r,rootClassName:v,icons:g,countRender:N,showSwitch:j,showProgress:T,current:h,count:P,scale:Se,minScale:$,maxScale:x,toolbarRender:L,onActive:M,onZoomIn:Ye,onZoomOut:Ie,onRotateRight:we,onRotateLeft:Oe,onFlipX:Fe,onFlipY:_e,onClose:u,onReset:Je,zIndex:B.zIndex!==void 0?B.zIndex+1:void 0,image:J}))},It=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function _n(e){var t=i.useState({}),r=ge(t,2),n=r[0],o=r[1],s=i.useCallback(function(a,c){return o(function(u){return te(te({},u),{},ee({},a,c))}),function(){o(function(u){var m=te({},u);return delete m[a],m})}},[]),l=i.useMemo(function(){return e?e.map(function(a){if(typeof a=="string")return{data:{src:a}};var c={};return Object.keys(a).forEach(function(u){["src"].concat(Pe(It)).includes(u)&&(c[u]=a[u])}),{data:c}}):Object.keys(n).reduce(function(a,c){var u=n[c],m=u.canPreview,d=u.data;return m&&a.push({data:d,id:c}),a},[])},[e,n]);return[l,s,!!e]}var Bn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Un=["src"],Xn=function(t){var r,n=t.previewPrefixCls,o=n===void 0?"rc-image-preview":n,s=t.children,l=t.icons,a=l===void 0?{}:l,c=t.items,u=t.preview,m=t.fallback,d=Me(u)==="object"?u:{},g=d.visible,v=d.onVisibleChange,p=d.getContainer,b=d.current,w=d.movable,h=d.minScale,I=d.maxScale,P=d.countRender,N=d.closeIcon,f=d.onChange,E=d.onTransform,S=d.toolbarRender,$=d.imageRender,y=De(d,Bn),x=_n(c),O=ge(x,3),D=O[0],A=O[1],k=O[2],H=ot(0,{value:b}),F=ge(H,2),L=F[0],K=F[1],Y=i.useState(!1),B=ge(Y,2),U=B[0],R=B[1],j=((r=D[L])===null||r===void 0?void 0:r.data)||{},T=j.src,G=De(j,Un),z=ot(!!g,{value:g,onChange:function(ve,me){v==null||v(ve,me,L)}}),ne=ge(z,2),re=ne[0],ie=ne[1],q=i.useState(null),ue=ge(q,2),se=ue[0],X=ue[1],W=i.useCallback(function(ce,ve,me,Ce){var Ne=k?D.findIndex(function(xe){return xe.data.src===ve}):D.findIndex(function(xe){return xe.id===ce});K(Ne<0?0:Ne),ie(!0),X({x:me,y:Ce}),R(!0)},[D,k]);i.useEffect(function(){re?U||K(0):R(!1)},[re]);var de=function(ve,me){K(ve),f==null||f(ve,me)},le=function(){ie(!1),X(null)},ae=i.useMemo(function(){return{register:A,onPreview:W}},[A,W]);return i.createElement(Ke.Provider,{value:ae},s,i.createElement(Er,fe({"aria-hidden":!re,movable:w,visible:re,prefixCls:o,closeIcon:N,onClose:le,mousePosition:se,imgCommonProps:G,src:T,fallback:m,icons:a,minScale:h,maxScale:I,getContainer:p,current:L,count:D.length,countRender:P,onTransform:E,toolbarRender:S,imageRender:$,onChange:de},y)))},Zt=0;function Hn(e,t){var r=i.useState(function(){return Zt+=1,String(Zt)}),n=ge(r,1),o=n[0],s=i.useContext(Ke),l={data:t,canPreview:e};return i.useEffect(function(){if(s)return s.register(o,l)},[]),i.useEffect(function(){s&&s.register(o,l)},[e,t]),o}var Wn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Vn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Tt=function(t){var r=t.src,n=t.alt,o=t.onPreviewClose,s=t.prefixCls,l=s===void 0?"rc-image":s,a=t.previewPrefixCls,c=a===void 0?"".concat(l,"-preview"):a,u=t.placeholder,m=t.fallback,d=t.width,g=t.height,v=t.style,p=t.preview,b=p===void 0?!0:p,w=t.className,h=t.onClick,I=t.onError,P=t.wrapperClassName,N=t.wrapperStyle,f=t.rootClassName,E=De(t,Wn),S=u&&u!==!0,$=Me(b)==="object"?b:{},y=$.src,x=$.visible,O=x===void 0?void 0:x,D=$.onVisibleChange,A=D===void 0?o:D,k=$.getContainer,H=k===void 0?void 0:k,F=$.mask,L=$.maskClassName,K=$.movable,Y=$.icons,B=$.scaleStep,U=$.minScale,R=$.maxScale,j=$.imageRender,T=$.toolbarRender,G=De($,Vn),z=y??r,ne=ot(!!O,{value:O,onChange:A}),re=ge(ne,2),ie=re[0],q=re[1],ue=Ir({src:r,isCustomPlaceholder:S,fallback:m}),se=ge(ue,3),X=se[0],W=se[1],de=se[2],le=i.useState(null),ae=ge(le,2),ce=ae[0],ve=ae[1],me=i.useContext(Ke),Ce=!!b,Ne=function(){q(!1),ve(null)},xe=V(l,P,f,ee({},"".concat(l,"-error"),de==="error")),Se=i.useMemo(function(){var Ie={};return It.forEach(function(we){t[we]!==void 0&&(Ie[we]=t[we])}),Ie},It.map(function(Ie){return t[Ie]})),We=i.useMemo(function(){return te(te({},Se),{},{src:z})},[z,Se]),Ve=Hn(Ce,We),Ye=function(we){var Oe=Pn(we.target),Fe=Oe.left,_e=Oe.top;me?me.onPreview(Ve,z,Fe,_e):(ve({x:Fe,y:_e}),q(!0)),h==null||h(we)};return i.createElement(i.Fragment,null,i.createElement("div",fe({},E,{className:xe,onClick:Ce?Ye:h,style:te({width:d,height:g},N)}),i.createElement("img",fe({},Se,{className:V("".concat(l,"-img"),ee({},"".concat(l,"-img-placeholder"),u===!0),w),style:te({height:g},v),ref:X},W,{width:d,height:g,onError:I})),de==="loading"&&i.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},u),F&&Ce&&i.createElement("div",{className:V("".concat(l,"-mask"),L),style:{display:(v==null?void 0:v.display)==="none"?"none":void 0}},F)),!me&&Ce&&i.createElement(Er,fe({"aria-hidden":!ie,visible:ie,prefixCls:c,onClose:Ne,mousePosition:ce,src:z,alt:n,imageInfo:{width:d,height:g},fallback:m,getContainer:H,icons:Y,movable:K,scaleStep:B,minScale:U,maxScale:R,rootClassName:f,imageRender:j,imgCommonProps:Se,toolbarRender:T},G)))};Tt.PreviewGroup=Xn;var Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Gn=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Yn}))},qn=i.forwardRef(Gn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Kn=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Zn}))},Jn=i.forwardRef(Kn),Qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},eo=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Qn}))},Kt=i.forwardRef(eo),to={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ro=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:to}))},no=i.forwardRef(ro),oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ao=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:oo}))},io=i.forwardRef(ao);const Et=e=>({position:e||"absolute",inset:0}),so=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:n,marginXXS:o,prefixCls:s,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Le("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},Lt),{padding:`0 ${pe(n)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},lo=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:n,marginXL:o,margin:s,paddingLG:l,previewOperationColorDisabled:a,previewOperationHoverColor:c,motionDurationSlow:u,iconCls:m,colorTextLightSolid:d}=e,g=new Le(r).setA(.1),v=g.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:s},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:d,backgroundColor:g.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:v.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${pe(l)}`,backgroundColor:g.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:c},"&-disabled":{color:a,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},co=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:n,previewCls:o,zIndexPopup:s,motionDurationSlow:l}=e,a=new Le(t).setA(.1),c=a.clone().setA(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(s).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:a.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:c.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},uo=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:n,componentCls:o}=e;return[{[`${o}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},Et()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Et()),{transition:`transform ${n} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[lo(e),co(e)]}]},mo=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},so(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Et())}}},fo=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Ur(e,"zoom"),"&":hr(e,!0)}},po=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Le(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Le(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Le(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Nr=mt("Image",e=>{const t=`${e.componentCls}-preview`,r=at(e,{previewCls:t,modalMaskBg:new Le("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[mo(r),uo(r),cn(at(r,{componentCls:t})),fo(r)]},po);var go=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const jr={rotateLeft:i.createElement(qn,null),rotateRight:i.createElement(Jn,null),zoomIn:i.createElement(no,null),zoomOut:i.createElement(io,null),close:i.createElement(Pt,null),left:i.createElement(mn,null),right:i.createElement(Xr,null),flipX:i.createElement(Kt,null),flipY:i.createElement(Kt,{rotate:90})},vo=e=>{var{previewPrefixCls:t,preview:r}=e,n=go(e,["previewPrefixCls","preview"]);const{getPrefixCls:o}=i.useContext(Ae),s=o("image",t),l=`${s}-preview`,a=o(),c=cr(s),[u,m,d]=Nr(s,c),[g]=ur("ImagePreview",typeof r=="object"?r.zIndex:void 0),v=i.useMemo(()=>{var p;if(r===!1)return r;const b=typeof r=="object"?r:{},w=V(m,d,c,(p=b.rootClassName)!==null&&p!==void 0?p:"");return Object.assign(Object.assign({},b),{transitionName:it(a,"zoom",b.transitionName),maskTransitionName:it(a,"fade",b.maskTransitionName),rootClassName:w,zIndex:g})},[r]);return u(i.createElement(Tt.PreviewGroup,Object.assign({preview:v,previewPrefixCls:l,icons:jr},n)))};var Jt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Pr=e=>{var t;const{prefixCls:r,preview:n,className:o,rootClassName:s,style:l}=e,a=Jt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:u=Ct,getPopupContainer:m,image:d}=i.useContext(Ae),g=c("image",r),v=c(),p=u.Image||Ct.Image,b=cr(g),[w,h,I]=Nr(g,b),P=V(s,h,I,b),N=V(o,h,d==null?void 0:d.className),[f]=ur("ImagePreview",typeof n=="object"?n.zIndex:void 0),E=i.useMemo(()=>{var $;if(n===!1)return n;const y=typeof n=="object"?n:{},{getContainer:x,closeIcon:O,rootClassName:D}=y,A=Jt(y,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${g}-mask-info`},i.createElement(br,null),p==null?void 0:p.preview),icons:jr},A),{rootClassName:V(P,D),getContainer:x??m,transitionName:it(v,"zoom",y.transitionName),maskTransitionName:it(v,"fade",y.maskTransitionName),zIndex:f,closeIcon:O??(($=d==null?void 0:d.preview)===null||$===void 0?void 0:$.closeIcon)})},[n,p,(t=d==null?void 0:d.preview)===null||t===void 0?void 0:t.closeIcon]),S=Object.assign(Object.assign({},d==null?void 0:d.style),l);return w(i.createElement(Tt,Object.assign({prefixCls:g,preview:E,rootClassName:P,className:N,style:S},a)))};Pr.PreviewGroup=vo;var ho={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},bo=function(){var t=i.useRef([]),r=i.useRef(null);return i.useEffect(function(){var n=Date.now(),o=!1;t.current.forEach(function(s){if(s){o=!0;var l=s.style;l.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(l.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),t.current},Qt=0,wo=Hr();function yo(){var e;return wo?(e=Qt,Qt+=1):e="TEST_OR_SSR",e}const Co=function(e){var t=i.useState(),r=ge(t,2),n=r[0],o=r[1];return i.useEffect(function(){o("rc_progress_".concat(yo()))},[]),e||n};var er=function(t){var r=t.bg,n=t.children;return i.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function tr(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),o="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(o)})}var xo=i.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,o=e.gradientId,s=e.radius,l=e.style,a=e.ptg,c=e.strokeLinecap,u=e.strokeWidth,m=e.size,d=e.gapDegree,g=n&&Me(n)==="object",v=g?"#FFF":void 0,p=m/2,b=i.createElement("circle",{className:"".concat(r,"-circle-path"),r:s,cx:p,cy:p,stroke:v,strokeLinecap:c,strokeWidth:u,opacity:a===0?0:1,style:l,ref:t});if(!g)return b;var w="".concat(o,"-conic"),h=d?"".concat(180+d/2,"deg"):"0deg",I=tr(n,(360-d)/360),P=tr(n,1),N="conic-gradient(from ".concat(h,", ").concat(I.join(", "),")"),f="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(P.join(", "),")");return i.createElement(i.Fragment,null,i.createElement("mask",{id:w},b),i.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:"url(#".concat(w,")")},i.createElement(er,{bg:f},i.createElement(er,{bg:N}))))}),Ge=100,gt=function(t,r,n,o,s,l,a,c,u,m){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,g=n/100*360*((360-l)/360),v=l===0?0:{bottom:0,top:180,left:90,right:-90}[a],p=(100-o)/100*r;u==="round"&&o!==100&&(p+=m/2,p>=r&&(p=r-.01));var b=Ge/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:p+d,transform:"rotate(".concat(s+g+v,"deg)"),transformOrigin:"".concat(b,"px ").concat(b,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},So=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function rr(e){var t=e??[];return Array.isArray(t)?t:[t]}var $o=function(t){var r=te(te({},ho),t),n=r.id,o=r.prefixCls,s=r.steps,l=r.strokeWidth,a=r.trailWidth,c=r.gapDegree,u=c===void 0?0:c,m=r.gapPosition,d=r.trailColor,g=r.strokeLinecap,v=r.style,p=r.className,b=r.strokeColor,w=r.percent,h=De(r,So),I=Ge/2,P=Co(n),N="".concat(P,"-gradient"),f=I-l/2,E=Math.PI*2*f,S=u>0?90+u/2:-90,$=E*((360-u)/360),y=Me(s)==="object"?s:{count:s,gap:2},x=y.count,O=y.gap,D=rr(w),A=rr(b),k=A.find(function(U){return U&&Me(U)==="object"}),H=k&&Me(k)==="object",F=H?"butt":g,L=gt(E,$,0,100,S,u,m,d,F,l),K=bo(),Y=function(){var R=0;return D.map(function(j,T){var G=A[T]||A[A.length-1],z=gt(E,$,R,j,S,u,m,G,F,l);return R+=j,i.createElement(xo,{key:T,color:G,ptg:j,radius:f,prefixCls:o,gradientId:N,style:z,strokeLinecap:F,strokeWidth:l,gapDegree:u,ref:function(re){K[T]=re},size:Ge})}).reverse()},B=function(){var R=Math.round(x*(D[0]/100)),j=100/x,T=0;return new Array(x).fill(null).map(function(G,z){var ne=z<=R-1?A[0]:d,re=ne&&Me(ne)==="object"?"url(#".concat(N,")"):void 0,ie=gt(E,$,T,j,S,u,m,ne,"butt",l,O);return T+=($-ie.strokeDashoffset+O)*100/$,i.createElement("circle",{key:z,className:"".concat(o,"-circle-path"),r:f,cx:I,cy:I,stroke:re,strokeWidth:l,opacity:1,style:ie,ref:function(ue){K[z]=ue}})})};return i.createElement("svg",fe({className:V("".concat(o,"-circle"),p),viewBox:"0 0 ".concat(Ge," ").concat(Ge),style:v,id:n,role:"presentation"},h),!x&&i.createElement("circle",{className:"".concat(o,"-circle-trail"),r:f,cx:I,cy:I,stroke:d,strokeLinecap:F,strokeWidth:a||l,style:L}),x?B():Y())};function Te(e){return!e||e<0?0:e>100?100:e}function ut(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const Io=e=>{let{percent:t,success:r,successPercent:n}=e;const o=Te(ut({success:r,successPercent:n}));return[o,Te(Te(t)-o)]},Eo=e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||xt.green,r||null]},pt=(e,t,r)=>{var n,o,s,l;let a=-1,c=-1;if(t==="step"){const u=r.steps,m=r.strokeWidth;typeof e=="string"||typeof e>"u"?(a=e==="small"?2:14,c=m??8):typeof e=="number"?[a,c]=[e,e]:[a=14,c=8]=Array.isArray(e)?e:[e.width,e.height],a*=u}else if(t==="line"){const u=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?c=u||(e==="small"?6:8):typeof e=="number"?[a,c]=[e,e]:[a=-1,c=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[a,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[a,c]=[e,e]:Array.isArray(e)&&(a=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,c=(l=(s=e[0])!==null&&s!==void 0?s:e[1])!==null&&l!==void 0?l:120));return[a,c]},No=3,jo=e=>No/e*100,Po=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:o,gapDegree:s,width:l=120,type:a,children:c,success:u,size:m=l,steps:d}=e,[g,v]=pt(m,"circle");let{strokeWidth:p}=e;p===void 0&&(p=Math.max(jo(g),6));const b={width:g,height:v,fontSize:g*.15+6},w=i.useMemo(()=>{if(s||s===0)return s;if(a==="dashboard")return 75},[s,a]),h=Io(e),I=o||a==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",N=Eo({success:u,strokeColor:e.strokeColor}),f=V(`${t}-inner`,{[`${t}-circle-gradient`]:P}),E=i.createElement($o,{steps:d,percent:d?h[1]:h,strokeWidth:p,trailWidth:p,strokeColor:d?N[1]:N,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:w,gapPosition:I}),S=g<=20,$=i.createElement("div",{className:f,style:b},E,!S&&c);return S?i.createElement(dr,{title:c},$):$},dt="--progress-line-stroke-color",Or="--progress-percent",nr=e=>{const t=e?"100%":"-100%";return new St(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Oo=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},jt(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${dt})`]},height:"100%",width:`calc(1 / var(${Or}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${pe(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:nr(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:nr(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Ro=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Mo=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Lo=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},To=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Do=mt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=at(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Oo(r),Ro(r),Mo(r),Lo(r)]},To);var ko=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const zo=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(r=>{let{key:n,value:o}=r;return`${o} ${n}%`}).join(", ")},Ao=(e,t)=>{const{from:r=xt.blue,to:n=xt.blue,direction:o=t==="rtl"?"to left":"to right"}=e,s=ko(e,["from","to","direction"]);if(Object.keys(s).length!==0){const a=zo(s),c=`linear-gradient(${o}, ${a})`;return{background:c,[dt]:c}}const l=`linear-gradient(${o}, ${r}, ${n})`;return{background:l,[dt]:l}},Fo=e=>{const{prefixCls:t,direction:r,percent:n,size:o,strokeWidth:s,strokeColor:l,strokeLinecap:a="round",children:c,trailColor:u=null,percentPosition:m,success:d}=e,{align:g,type:v}=m,p=l&&typeof l!="string"?Ao(l,r):{[dt]:l,background:l},b=a==="square"||a==="butt"?0:void 0,w=o??[-1,s||(o==="small"?6:8)],[h,I]=pt(w,"line",{strokeWidth:s}),P={backgroundColor:u||void 0,borderRadius:b},N=Object.assign(Object.assign({width:`${Te(n)}%`,height:I,borderRadius:b},p),{[Or]:Te(n)/100}),f=ut(e),E={width:`${Te(f)}%`,height:I,borderRadius:b,backgroundColor:d==null?void 0:d.strokeColor},S={width:h<0?"100%":h},$=i.createElement("div",{className:`${t}-inner`,style:P},i.createElement("div",{className:V(`${t}-bg`,`${t}-bg-${v}`),style:N},v==="inner"&&c),f!==void 0&&i.createElement("div",{className:`${t}-success-bg`,style:E})),y=v==="outer"&&g==="start",x=v==="outer"&&g==="end";return v==="outer"&&g==="center"?i.createElement("div",{className:`${t}-layout-bottom`},$,c):i.createElement("div",{className:`${t}-outer`,style:S},y&&c,$,x&&c)},_o=e=>{const{size:t,steps:r,percent:n=0,strokeWidth:o=8,strokeColor:s,trailColor:l=null,prefixCls:a,children:c}=e,u=Math.round(r*(n/100)),d=t??[t==="small"?2:14,o],[g,v]=pt(d,"step",{steps:r,strokeWidth:o}),p=g/r,b=new Array(r);for(let w=0;w<r;w++){const h=Array.isArray(s)?s[w]:s;b[w]=i.createElement("div",{key:w,className:V(`${a}-steps-item`,{[`${a}-steps-item-active`]:w<=u-1}),style:{backgroundColor:w<=u-1?h:l,width:p,height:v}})}return i.createElement("div",{className:`${a}-steps-outer`},b,c)};var Bo=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Uo=["normal","exception","active","success"],Xo=i.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:o,steps:s,strokeColor:l,percent:a=0,size:c="default",showInfo:u=!0,type:m="line",status:d,format:g,style:v,percentPosition:p={}}=e,b=Bo(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:w="end",type:h="outer"}=p,I=Array.isArray(l)?l[0]:l,P=typeof l=="string"||Array.isArray(l)?l:void 0,N=i.useMemo(()=>{if(I){const Y=typeof I=="string"?I:Object.values(I)[0];return new Le(Y).isLight()}return!1},[l]),f=i.useMemo(()=>{var Y,B;const U=ut(e);return parseInt(U!==void 0?(Y=U??0)===null||Y===void 0?void 0:Y.toString():(B=a??0)===null||B===void 0?void 0:B.toString(),10)},[a,e.success,e.successPercent]),E=i.useMemo(()=>!Uo.includes(d)&&f>=100?"success":d||"normal",[d,f]),{getPrefixCls:S,direction:$,progress:y}=i.useContext(Ae),x=S("progress",r),[O,D,A]=Do(x),k=m==="line",H=k&&!s,F=i.useMemo(()=>{if(!u)return null;const Y=ut(e);let B;const U=g||(j=>`${j}%`),R=k&&N&&h==="inner";return h==="inner"||g||E!=="exception"&&E!=="success"?B=U(Te(a),Te(Y)):E==="exception"?B=k?i.createElement(lr,null):i.createElement(Pt,null):E==="success"&&(B=k?i.createElement(sr,null):i.createElement(Wr,null)),i.createElement("span",{className:V(`${x}-text`,{[`${x}-text-bright`]:R,[`${x}-text-${w}`]:H,[`${x}-text-${h}`]:H}),title:typeof B=="string"?B:void 0},B)},[u,a,f,E,m,x,g]);let L;m==="line"?L=s?i.createElement(_o,Object.assign({},e,{strokeColor:P,prefixCls:x,steps:typeof s=="object"?s.count:s}),F):i.createElement(Fo,Object.assign({},e,{strokeColor:I,prefixCls:x,direction:$,percentPosition:{align:w,type:h}}),F):(m==="circle"||m==="dashboard")&&(L=i.createElement(Po,Object.assign({},e,{strokeColor:I,prefixCls:x,progressStatus:E}),F));const K=V(x,`${x}-status-${E}`,{[`${x}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${x}-inline-circle`]:m==="circle"&&pt(c,"circle")[0]<=20,[`${x}-line`]:H,[`${x}-line-align-${w}`]:H,[`${x}-line-position-${h}`]:H,[`${x}-steps`]:s,[`${x}-show-info`]:u,[`${x}-${c}`]:typeof c=="string",[`${x}-rtl`]:$==="rtl"},y==null?void 0:y.className,n,o,D,A);return O(i.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},y==null?void 0:y.style),v),className:K,role:"progressbar","aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100},mr(b,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),L))});var Ho={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Wo=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Ho}))},Vo=i.forwardRef(Wo),Yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Go=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Yo}))},qo=i.forwardRef(Go),Zo={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},Ko=function(t,r){return i.createElement(ke,fe({},t,{ref:r,icon:Zo}))},Jo=i.forwardRef(Ko);const vt=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=e.type||"",s=o.replace(/\/.*$/,"");return r.some(function(l){var a=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(a.charAt(0)==="."){var c=n.toLowerCase(),u=a.toLowerCase(),m=[u];return(u===".jpg"||u===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(d){return c.endsWith(d)})}return/\/\*$/.test(a)?s===a.replace(/\/.*$/,""):o===a?!0:/^\w+$/.test(a)?(Vr(!1,"Upload takes an invalidate 'accept' type '".concat(a,"'.Skip for check.")),!0):!1})}return!0};function Qo(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),n=new Error(r);return n.status=t.status,n.method=e.method,n.url=e.action,n}function or(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function ea(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),e.onProgress(s)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var s=e.data[o];if(Array.isArray(s)){s.forEach(function(l){r.append("".concat(o,"[]"),l)});return}r.append(o,s)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(s){e.onError(s)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Qo(e,t),or(t)):e.onSuccess(or(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(o){n[o]!==null&&t.setRequestHeader(o,n[o])}),t.send(r),{abort:function(){t.abort()}}}var ta=function(){var e=Be(ye().mark(function t(r,n){var o,s,l,a,c,u,m,d;return ye().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:u=function(){return u=Be(ye().mark(function b(w){return ye().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",new Promise(function(P){w.file(function(N){n(N)?(w.fullPath&&!N.webkitRelativePath&&(Object.defineProperties(N,{webkitRelativePath:{writable:!0}}),N.webkitRelativePath=w.fullPath.replace(/^\//,""),Object.defineProperties(N,{webkitRelativePath:{writable:!1}})),P(N)):P(null)})}));case 1:case"end":return I.stop()}},b)})),u.apply(this,arguments)},c=function(b){return u.apply(this,arguments)},a=function(){return a=Be(ye().mark(function b(w){var h,I,P,N,f;return ye().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:h=w.createReader(),I=[];case 2:return S.next=5,new Promise(function($){h.readEntries($,function(){return $([])})});case 5:if(P=S.sent,N=P.length,N){S.next=9;break}return S.abrupt("break",12);case 9:for(f=0;f<N;f++)I.push(P[f]);S.next=2;break;case 12:return S.abrupt("return",I);case 13:case"end":return S.stop()}},b)})),a.apply(this,arguments)},l=function(b){return a.apply(this,arguments)},o=[],s=[],r.forEach(function(p){return s.push(p.webkitGetAsEntry())}),m=function(){var p=Be(ye().mark(function b(w,h){var I,P;return ye().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(w){f.next=2;break}return f.abrupt("return");case 2:if(w.path=h||"",!w.isFile){f.next=10;break}return f.next=6,c(w);case 6:I=f.sent,I&&o.push(I),f.next=15;break;case 10:if(!w.isDirectory){f.next=15;break}return f.next=13,l(w);case 13:P=f.sent,s.push.apply(s,Pe(P));case 15:case"end":return f.stop()}},b)}));return function(w,h){return p.apply(this,arguments)}}(),d=0;case 9:if(!(d<s.length)){v.next=15;break}return v.next=12,m(s[d]);case 12:d++,v.next=9;break;case 15:return v.abrupt("return",o);case 16:case"end":return v.stop()}},t)}));return function(r,n){return e.apply(this,arguments)}}(),ra=+new Date,na=0;function ht(){return"rc-upload-".concat(ra,"-").concat(++na)}var oa=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],aa=function(e){Ot(r,e);var t=fr(r);function r(){var n;Mt(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=t.call.apply(t,[this].concat(s)),ee(be(n),"state",{uid:ht()}),ee(be(n),"reqs",{}),ee(be(n),"fileInput",void 0),ee(be(n),"_isMounted",void 0),ee(be(n),"onChange",function(a){var c=n.props,u=c.accept,m=c.directory,d=a.target.files,g=Pe(d).filter(function(v){return!m||vt(v,u)});n.uploadFiles(g),n.reset()}),ee(be(n),"onClick",function(a){var c=n.fileInput;if(c){var u=a.target,m=n.props.onClick;if(u&&u.tagName==="BUTTON"){var d=c.parentNode;d.focus(),u.blur()}c.click(),m&&m(a)}}),ee(be(n),"onKeyDown",function(a){a.key==="Enter"&&n.onClick(a)}),ee(be(n),"onFileDrop",function(){var a=Be(ye().mark(function c(u){var m,d,g;return ye().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(m=n.props.multiple,u.preventDefault(),u.type!=="dragover"){p.next=4;break}return p.abrupt("return");case 4:if(!n.props.directory){p.next=11;break}return p.next=7,ta(Array.prototype.slice.call(u.dataTransfer.items),function(b){return vt(b,n.props.accept)});case 7:d=p.sent,n.uploadFiles(d),p.next=14;break;case 11:g=Pe(u.dataTransfer.files).filter(function(b){return vt(b,n.props.accept)}),m===!1&&(g=g.slice(0,1)),n.uploadFiles(g);case 14:case"end":return p.stop()}},c)}));return function(c){return a.apply(this,arguments)}}()),ee(be(n),"uploadFiles",function(a){var c=Pe(a),u=c.map(function(m){return m.uid=ht(),n.processFile(m,c)});Promise.all(u).then(function(m){var d=n.props.onBatchStart;d==null||d(m.map(function(g){var v=g.origin,p=g.parsedFile;return{file:v,parsedFile:p}})),m.filter(function(g){return g.parsedFile!==null}).forEach(function(g){n.post(g)})})}),ee(be(n),"processFile",function(){var a=Be(ye().mark(function c(u,m){var d,g,v,p,b,w,h,I,P;return ye().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(d=n.props.beforeUpload,g=u,!d){f.next=14;break}return f.prev=3,f.next=6,d(u,m);case 6:g=f.sent,f.next=12;break;case 9:f.prev=9,f.t0=f.catch(3),g=!1;case 12:if(g!==!1){f.next=14;break}return f.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(v=n.props.action,typeof v!="function"){f.next=21;break}return f.next=18,v(u);case 18:p=f.sent,f.next=22;break;case 21:p=v;case 22:if(b=n.props.data,typeof b!="function"){f.next=29;break}return f.next=26,b(u);case 26:w=f.sent,f.next=30;break;case 29:w=b;case 30:return h=(Me(g)==="object"||typeof g=="string")&&g?g:u,h instanceof File?I=h:I=new File([h],u.name,{type:u.type}),P=I,P.uid=u.uid,f.abrupt("return",{origin:u,data:w,parsedFile:P,action:p});case 35:case"end":return f.stop()}},c,null,[[3,9]])}));return function(c,u){return a.apply(this,arguments)}}()),ee(be(n),"saveFileInput",function(a){n.fileInput=a}),n}return Rt(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var s=this,l=o.data,a=o.origin,c=o.action,u=o.parsedFile;if(this._isMounted){var m=this.props,d=m.onStart,g=m.customRequest,v=m.name,p=m.headers,b=m.withCredentials,w=m.method,h=a.uid,I=g||ea,P={action:c,filename:v,data:l,file:u,headers:p,withCredentials:b,method:w||"post",onProgress:function(f){var E=s.props.onProgress;E==null||E(f,u)},onSuccess:function(f,E){var S=s.props.onSuccess;S==null||S(f,u,E),delete s.reqs[h]},onError:function(f,E){var S=s.props.onError;S==null||S(f,E,u),delete s.reqs[h]}};d(a),this.reqs[h]=I(P)}}},{key:"reset",value:function(){this.setState({uid:ht()})}},{key:"abort",value:function(o){var s=this.reqs;if(o){var l=o.uid?o.uid:o;s[l]&&s[l].abort&&s[l].abort(),delete s[l]}else Object.keys(s).forEach(function(a){s[a]&&s[a].abort&&s[a].abort(),delete s[a]})}},{key:"render",value:function(){var o=this.props,s=o.component,l=o.prefixCls,a=o.className,c=o.classNames,u=c===void 0?{}:c,m=o.disabled,d=o.id,g=o.name,v=o.style,p=o.styles,b=p===void 0?{}:p,w=o.multiple,h=o.accept,I=o.capture,P=o.children,N=o.directory,f=o.openFileDialogOnClick,E=o.onMouseEnter,S=o.onMouseLeave,$=o.hasControlInside,y=De(o,oa),x=V(ee(ee(ee({},l,!0),"".concat(l,"-disabled"),m),a,a)),O=N?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},D=m?{}:{onClick:f?this.onClick:function(){},onKeyDown:f?this.onKeyDown:function(){},onMouseEnter:E,onMouseLeave:S,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:$?void 0:"0"};return Ee.createElement(s,fe({},D,{className:x,role:$?void 0:"button",style:v}),Ee.createElement("input",fe({},ir(y,{aria:!0,data:!0}),{id:d,name:g,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(k){return k.stopPropagation()},key:this.state.uid,style:te({display:"none"},b.input),className:u.input,accept:h},O,{multiple:w,onChange:this.onChange},I!=null?{capture:I}:{})),P)}}]),r}(i.Component);function bt(){}var Nt=function(e){Ot(r,e);var t=fr(r);function r(){var n;Mt(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=t.call.apply(t,[this].concat(s)),ee(be(n),"uploader",void 0),ee(be(n),"saveUploader",function(a){n.uploader=a}),n}return Rt(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ee.createElement(aa,fe({},this.props,{ref:this.saveUploader}))}}]),r}(i.Component);ee(Nt,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:bt,onError:bt,onSuccess:bt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const ia=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${pe(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${pe(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${pe(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},sa=e=>{const{componentCls:t,iconCls:r,fontSize:n,lineHeight:o,calc:s}=e,l=`${t}-list-item`,a=`${l}-actions`,c=`${l}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},pr()),{lineHeight:e.lineHeight,[l]:{position:"relative",height:s(e.lineHeight).mul(n).equal(),marginTop:e.marginXS,fontSize:n,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},Lt),{padding:`0 ${pe(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[a]:{whiteSpace:"nowrap",[c]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorTextDescription,fontSize:n},[`${l}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:s(n).add(e.paddingXS).equal(),fontSize:n,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${c}`]:{opacity:1},[`${l}-error`]:{color:e.colorError,[`${l}-name, ${t}-icon ${r}`]:{color:e.colorError},[a]:{[`${r}, ${r}:hover`]:{color:e.colorError},[c]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},la=e=>{const{componentCls:t}=e,r=new St("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new St("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:hr(e)},r,n]},ca=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:o,calc:s}=e,l=`${t}-list`,a=`${l}-item`;return{[`${t}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[a]:{position:"relative",height:s(n).add(s(e.lineWidth).mul(2)).add(s(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${pe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:Object.assign(Object.assign({},Lt),{width:n,height:n,lineHeight:pe(s(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:o,width:`calc(100% - ${pe(s(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:s(n).add(e.paddingXS).equal()}},[`${a}-error`]:{borderColor:e.colorError,[`${a}-thumbnail ${r}`]:{[`svg path[fill='${zt[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${zt.primary}']`]:{fill:e.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:o}}},[`${l}${l}-picture-circle ${a}`]:{[`&, &::before, ${a}-thumbnail`]:{borderRadius:"50%"}}}}},ua=e=>{const{componentCls:t,iconCls:r,fontSizeLG:n,colorTextLightSolid:o,calc:s}=e,l=`${t}-list`,a=`${l}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},pr()),{display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${pe(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${pe(s(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${pe(s(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${pe(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${pe(s(e.paddingXS).mul(2).equal())})`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${pe(s(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},da=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},ma=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},jt(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},fa=e=>({actionsColor:e.colorTextDescription}),pa=mt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:n,controlHeightLG:o,calc:s}=e,l=at(e,{uploadThumbnailSize:s(t).mul(2).equal(),uploadProgressOffset:s(s(r).div(2)).add(n).equal(),uploadPicCardSize:s(o).mul(2.55).equal()});return[ma(l),ia(l),ca(l),ua(l),sa(l),la(l),da(l),Yr(l)]},fa);function tt(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function rt(e,t){const r=Pe(t),n=r.findIndex(o=>{let{uid:s}=o;return s===e.uid});return n===-1?r.push(e):r[n]=e,r}function wt(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(n=>n[r]===e[r])[0]}function ga(e,t){const r=e.uid!==void 0?"uid":"name",n=t.filter(o=>o[r]!==e[r]);return n.length===t.length?null:n}const va=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},Rr=e=>e.indexOf("image/")===0,ha=e=>{if(e.type&&!e.thumbUrl)return Rr(e.type);const t=e.thumbUrl||e.url||"",r=va(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Re=200;function ba(e){return new Promise(t=>{if(!e.type||!Rr(e.type)){t("");return}const r=document.createElement("canvas");r.width=Re,r.height=Re,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Re}px; height: ${Re}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:l}=o;let a=Re,c=Re,u=0,m=0;s>l?(c=l*(Re/s),m=-(c-a)/2):(a=s*(Re/l),u=-(a-c)/2),n.drawImage(o,u,m,a,c);const d=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(d)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&typeof s.result=="string"&&(o.src=s.result)},s.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&t(s.result)},s.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}const wa=i.forwardRef((e,t)=>{let{prefixCls:r,className:n,style:o,locale:s,listType:l,file:a,items:c,progress:u,iconRender:m,actionIconRender:d,itemRender:g,isImgUrl:v,showPreviewIcon:p,showRemoveIcon:b,showDownloadIcon:w,previewIcon:h,removeIcon:I,downloadIcon:P,extra:N,onPreview:f,onDownload:E,onClose:S}=e;var $,y;const{status:x}=a,[O,D]=i.useState(x);i.useEffect(()=>{x!=="removed"&&D(x)},[x]);const[A,k]=i.useState(!1);i.useEffect(()=>{const X=setTimeout(()=>{k(!0)},300);return()=>{clearTimeout(X)}},[]);const H=m(a);let F=i.createElement("div",{className:`${r}-icon`},H);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(O==="uploading"||!a.thumbUrl&&!a.url){const X=V(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:O!=="uploading"});F=i.createElement("div",{className:X},H)}else{const X=v!=null&&v(a)?i.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:`${r}-list-item-image`,crossOrigin:a.crossOrigin}):H,W=V(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:v&&!v(a)});F=i.createElement("a",{className:W,onClick:de=>f(a,de),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},X)}const L=V(`${r}-list-item`,`${r}-list-item-${O}`),K=typeof a.linkProps=="string"?JSON.parse(a.linkProps):a.linkProps,Y=(typeof b=="function"?b(a):b)?d((typeof I=="function"?I(a):I)||i.createElement(dn,null),()=>S(a),r,s.removeFile,!0):null,B=(typeof w=="function"?w(a):w)&&O==="done"?d((typeof P=="function"?P(a):P)||i.createElement(fn,null),()=>E(a),r,s.downloadFile):null,U=l!=="picture-card"&&l!=="picture-circle"&&i.createElement("span",{key:"download-delete",className:V(`${r}-list-item-actions`,{picture:l==="picture"})},B,Y),R=typeof N=="function"?N(a):N,j=R&&i.createElement("span",{className:`${r}-list-item-extra`},R),T=V(`${r}-list-item-name`),G=a.url?i.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:T,title:a.name},K,{href:a.url,onClick:X=>f(a,X)}),a.name,j):i.createElement("span",{key:"view",className:T,onClick:X=>f(a,X),title:a.name},a.name,j),z=(typeof p=="function"?p(a):p)&&(a.url||a.thumbUrl)?i.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:X=>f(a,X),title:s.previewFile},typeof h=="function"?h(a):h||i.createElement(br,null)):null,ne=(l==="picture-card"||l==="picture-circle")&&O!=="uploading"&&i.createElement("span",{className:`${r}-list-item-actions`},z,O==="done"&&B,Y),{getPrefixCls:re}=i.useContext(Ae),ie=re(),q=i.createElement("div",{className:L},F,G,U,ne,A&&i.createElement(ft,{motionName:`${ie}-fade`,visible:O==="uploading",motionDeadline:2e3},X=>{let{className:W}=X;const de="percent"in a?i.createElement(Xo,Object.assign({},u,{type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]})):null;return i.createElement("div",{className:V(`${r}-list-item-progress`,W)},de)})),ue=a.response&&typeof a.response=="string"?a.response:(($=a.error)===null||$===void 0?void 0:$.statusText)||((y=a.error)===null||y===void 0?void 0:y.message)||s.uploadError,se=O==="error"?i.createElement(dr,{title:ue,getPopupContainer:X=>X.parentNode},q):q;return i.createElement("div",{className:V(`${r}-list-item-container`,n),style:o,ref:t},g?g(se,a,c,{download:E.bind(null,a),preview:f.bind(null,a),remove:S.bind(null,a)}):se)}),ya=(e,t)=>{const{listType:r="text",previewFile:n=ba,onPreview:o,onDownload:s,onRemove:l,locale:a,iconRender:c,isImageUrl:u=ha,prefixCls:m,items:d=[],showPreviewIcon:g=!0,showRemoveIcon:v=!0,showDownloadIcon:p=!1,removeIcon:b,previewIcon:w,downloadIcon:h,extra:I,progress:P={size:[-1,2],showInfo:!1},appendAction:N,appendActionVisible:f=!0,itemRender:E,disabled:S}=e,$=un(),[y,x]=i.useState(!1),O=["picture-card","picture-circle"].includes(r);i.useEffect(()=>{r.startsWith("picture")&&(d||[]).forEach(j=>{!(j.originFileObj instanceof File||j.originFileObj instanceof Blob)||j.thumbUrl!==void 0||(j.thumbUrl="",n==null||n(j.originFileObj).then(T=>{j.thumbUrl=T||"",$()}))})},[r,d,n]),i.useEffect(()=>{x(!0)},[]);const D=(j,T)=>{if(o)return T==null||T.preventDefault(),o(j)},A=j=>{typeof s=="function"?s(j):j.url&&window.open(j.url)},k=j=>{l==null||l(j)},H=j=>{if(c)return c(j,r);const T=j.status==="uploading";if(r.startsWith("picture")){const G=r==="picture"?i.createElement($t,null):a.uploading,z=u!=null&&u(j)?i.createElement(Jo,null):i.createElement(Vo,null);return T?G:z}return T?i.createElement($t,null):i.createElement(qo,null)},F=(j,T,G,z,ne)=>{const re={type:"text",size:"small",title:z,onClick:ie=>{var q,ue;T(),i.isValidElement(j)&&((ue=(q=j.props).onClick)===null||ue===void 0||ue.call(q,ie))},className:`${G}-list-item-action`};return ne&&(re.disabled=S),i.isValidElement(j)?i.createElement(Ze,Object.assign({},re,{icon:At(j,Object.assign(Object.assign({},j.props),{onClick:()=>{}}))})):i.createElement(Ze,Object.assign({},re),i.createElement("span",null,j))};i.useImperativeHandle(t,()=>({handlePreview:D,handleDownload:A}));const{getPrefixCls:L}=i.useContext(Ae),K=L("upload",m),Y=L(),B=V(`${K}-list`,`${K}-list-${r}`),U=i.useMemo(()=>mr(Gr(Y),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[Y]),R=Object.assign(Object.assign({},O?{}:U),{motionDeadline:2e3,motionName:`${K}-${O?"animate-inline":"animate"}`,keys:Pe(d.map(j=>({key:j.uid,file:j}))),motionAppear:y});return i.createElement("div",{className:B},i.createElement(qr,Object.assign({},R,{component:!1}),j=>{let{key:T,file:G,className:z,style:ne}=j;return i.createElement(wa,{key:T,locale:a,prefixCls:K,className:z,style:ne,file:G,items:d,progress:P,listType:r,isImgUrl:u,showPreviewIcon:g,showRemoveIcon:v,showDownloadIcon:p,removeIcon:b,previewIcon:w,downloadIcon:h,extra:I,iconRender:H,actionIconRender:F,itemRender:E,onPreview:D,onDownload:A,onClose:k})}),N&&i.createElement(ft,Object.assign({},R,{visible:f,forceRender:!0}),j=>{let{className:T,style:G}=j;return At(N,z=>({className:V(z.className,T),style:Object.assign(Object.assign(Object.assign({},G),{pointerEvents:T?"none":void 0}),z.style)}))}))},Ca=i.forwardRef(ya);var xa=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function a(m){try{u(n.next(m))}catch(d){l(d)}}function c(m){try{u(n.throw(m))}catch(d){l(d)}}function u(m){m.done?s(m.value):o(m.value).then(a,c)}u((n=n.apply(e,[])).next())})};const qe=`__LIST_IGNORE_${Date.now()}__`,Sa=(e,t)=>{const{fileList:r,defaultFileList:n,onRemove:o,showUploadList:s=!0,listType:l="text",onPreview:a,onDownload:c,onChange:u,onDrop:m,previewFile:d,disabled:g,locale:v,iconRender:p,isImageUrl:b,progress:w,prefixCls:h,className:I,type:P="select",children:N,style:f,itemRender:E,maxCount:S,data:$={},multiple:y=!1,hasControlInside:x=!0,action:O="",accept:D="",supportServerRender:A=!0,rootClassName:k}=e,H=i.useContext(Zr),F=g??H,[L,K]=ot(n||[],{value:r,postState:M=>M??[]}),[Y,B]=i.useState("drop"),U=i.useRef(null),R=i.useRef(null);i.useMemo(()=>{const M=Date.now();(r||[]).forEach((Z,oe)=>{!Z.uid&&!Object.isFrozen(Z)&&(Z.uid=`__AUTO__${M}_${oe}__`)})},[r]);const j=(M,Z,oe)=>{let _=Pe(Z),J=!1;S===1?_=_.slice(-1):S&&(J=_.length>S,_=_.slice(0,S)),Ft.flushSync(()=>{K(_)});const Q={file:M,fileList:_};oe&&(Q.event=oe),(!J||M.status==="removed"||_.some(he=>he.uid===M.uid))&&Ft.flushSync(()=>{u==null||u(Q)})},T=(M,Z)=>xa(void 0,void 0,void 0,function*(){const{beforeUpload:oe,transformFile:_}=e;let J=M;if(oe){const Q=yield oe(M,Z);if(Q===!1)return!1;if(delete M[qe],Q===qe)return Object.defineProperty(M,qe,{value:!0,configurable:!0}),!1;typeof Q=="object"&&Q&&(J=Q)}return _&&(J=yield _(J)),J}),G=M=>{const Z=M.filter(J=>!J.file[qe]);if(!Z.length)return;const oe=Z.map(J=>tt(J.file));let _=Pe(L);oe.forEach(J=>{_=rt(J,_)}),oe.forEach((J,Q)=>{let he=J;if(Z[Q].parsedFile)J.status="uploading";else{const{originFileObj:$e}=J;let ze;try{ze=new File([$e],$e.name,{type:$e.type})}catch{ze=new Blob([$e],{type:$e.type}),ze.name=$e.name,ze.lastModifiedDate=new Date,ze.lastModified=new Date().getTime()}ze.uid=J.uid,he=ze}j(he,_)})},z=(M,Z,oe)=>{try{typeof M=="string"&&(M=JSON.parse(M))}catch{}if(!wt(Z,L))return;const _=tt(Z);_.status="done",_.percent=100,_.response=M,_.xhr=oe;const J=rt(_,L);j(_,J)},ne=(M,Z)=>{if(!wt(Z,L))return;const oe=tt(Z);oe.status="uploading",oe.percent=M.percent;const _=rt(oe,L);j(oe,_,M)},re=(M,Z,oe)=>{if(!wt(oe,L))return;const _=tt(oe);_.error=M,_.response=Z,_.status="error";const J=rt(_,L);j(_,J)},ie=M=>{let Z;Promise.resolve(typeof o=="function"?o(M):o).then(oe=>{var _;if(oe===!1)return;const J=ga(M,L);J&&(Z=Object.assign(Object.assign({},M),{status:"removed"}),L==null||L.forEach(Q=>{const he=Z.uid!==void 0?"uid":"name";Q[he]===Z[he]&&!Object.isFrozen(Q)&&(Q.status="removed")}),(_=U.current)===null||_===void 0||_.abort(Z),j(Z,J))})},q=M=>{B(M.type),M.type==="drop"&&(m==null||m(M))};i.useImperativeHandle(t,()=>({onBatchStart:G,onSuccess:z,onProgress:ne,onError:re,fileList:L,upload:U.current,nativeElement:R.current}));const{getPrefixCls:ue,direction:se,upload:X}=i.useContext(Ae),W=ue("upload",h),de=Object.assign(Object.assign({onBatchStart:G,onError:re,onProgress:ne,onSuccess:z},e),{data:$,multiple:y,action:O,accept:D,supportServerRender:A,prefixCls:W,disabled:F,beforeUpload:T,onChange:void 0,hasControlInside:x});delete de.className,delete de.style,(!N||F)&&delete de.id;const le=`${W}-wrapper`,[ae,ce,ve]=pa(W,le),[me]=Kr("Upload",Ct.Upload),{showRemoveIcon:Ce,showPreviewIcon:Ne,showDownloadIcon:xe,removeIcon:Se,previewIcon:We,downloadIcon:Ve,extra:Ye}=typeof s=="boolean"?{}:s,Ie=typeof Ce>"u"?!F:Ce,we=(M,Z)=>s?i.createElement(Ca,{prefixCls:W,listType:l,items:L,previewFile:d,onPreview:a,onDownload:c,onRemove:ie,showRemoveIcon:Ie,showPreviewIcon:Ne,showDownloadIcon:xe,removeIcon:Se,previewIcon:We,downloadIcon:Ve,iconRender:p,extra:Ye,locale:Object.assign(Object.assign({},me),v),isImageUrl:b,progress:w,appendAction:M,appendActionVisible:Z,itemRender:E,disabled:F}):M,Oe=V(le,I,k,ce,ve,X==null?void 0:X.className,{[`${W}-rtl`]:se==="rtl",[`${W}-picture-card-wrapper`]:l==="picture-card",[`${W}-picture-circle-wrapper`]:l==="picture-circle"}),Fe=Object.assign(Object.assign({},X==null?void 0:X.style),f);if(P==="drag"){const M=V(ce,W,`${W}-drag`,{[`${W}-drag-uploading`]:L.some(Z=>Z.status==="uploading"),[`${W}-drag-hover`]:Y==="dragover",[`${W}-disabled`]:F,[`${W}-rtl`]:se==="rtl"});return ae(i.createElement("span",{className:Oe,ref:R},i.createElement("div",{className:M,style:Fe,onDrop:q,onDragOver:q,onDragLeave:q},i.createElement(Nt,Object.assign({},de,{ref:U,className:`${W}-btn`}),i.createElement("div",{className:`${W}-drag-container`},N))),we()))}const _e=V(W,`${W}-select`,{[`${W}-disabled`]:F,[`${W}-hidden`]:!N}),Je=i.createElement("div",{className:_e},i.createElement(Nt,Object.assign({},de,{ref:U})));return ae(l==="picture-card"||l==="picture-circle"?i.createElement("span",{className:Oe,ref:R},we(Je,!!N)):i.createElement("span",{className:Oe,ref:R},Je,we()))},Mr=i.forwardRef(Sa);var $a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Ia=i.forwardRef((e,t)=>{var{style:r,height:n,hasControlInside:o=!1}=e,s=$a(e,["style","height","hasControlInside"]);return i.createElement(Mr,Object.assign({ref:t,hasControlInside:o},s,{type:"drag",style:Object.assign(Object.assign({},r),{height:n})}))}),Dt=Mr;Dt.Dragger=Ia;Dt.LIST_IGNORE=qe;function Ea(e){return gr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(e)}function Na(e){return gr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(e)}const ja=({currentAvatarUrl:e,isEdit:t,setAvatar:r,avatar:n,setValue:o,setPreviewUrl:s,previewUrl:l})=>{const[a,c]=i.useState(!1),[u,m]=i.useState(null),[d,g]=i.useState(!1),v=h=>h.type.startsWith("image/")?h.size/1024/1024>=8?(He.error({message:"Ошибка",description:"Файл должен быть меньше 8MB!"}),!1):(c(!0),r(h),!1):(He.error({message:"Ошибка",description:"Можно загружать только изображения форматов JPG, PNG, WEBP, GIF!"}),!1);i.useEffect(()=>{if(n){const h=new FileReader;h.onloadend=()=>{s(h.result),c(!1)},h.readAsDataURL(n)}else s(null),c(!1)},[n]);const p=h=>{h.stopPropagation(),r(null),s(je),o("avatarUrl",je,{shouldDirty:!0})},b=()=>{m(l||e||null),g(!0)},w=l||e||je;return C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx("div",{className:"flex justify-center w-full mb-6",children:C.jsxs("div",{className:"relative w-36 h-36 rounded-full overflow-hidden shadow-xl",children:[C.jsx("img",{src:w,className:"w-full h-full object-cover rounded-full",alt:"avatar"}),t&&e!==je&&l!==je&&C.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity duration-200",children:[C.jsx("button",{type:"button",onClick:b,className:"flex items-center justify-center w-10 h-10 rounded-full text-white hover:text-gray-300 transition-all mx-2",title:"Просмотр",children:C.jsx(Na,{size:24})}),C.jsx("button",{type:"button",onClick:p,className:"flex items-center justify-center w-10 h-10 rounded-full text-red-500 hover:text-red-700 transition-all mx-2",title:"Удалить",children:C.jsx(Ea,{size:24})})]}),t&&!n&&e===je&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity duration-200",children:C.jsx(Dt,{name:"avatar",listType:"picture-circle",showUploadList:!1,beforeUpload:v,className:"flex items-center justify-center",children:C.jsx("button",{type:"button",style:{border:0,background:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:a?C.jsx($t,{}):C.jsx(pn,{})})})})]})}),u&&C.jsx(Pr,{wrapperStyle:{display:"none"},preview:{visible:d,onVisibleChange:h=>g(h),afterOpenChange:h=>!h&&m(null)},src:u})]})},Pa=({isEdit:e,dirtyFields:t,isValid:r,setEdit:n,isUpdating:o,avatar:s})=>{const l="absolute top-4 right-5 p-0 m-0 bg-transparent border-none transition-all duration-300 ease-in-out",a=`${l} ${!r||JSON.stringify(t)==="{}"?"opacity-30 cursor-not-allowed":"opacity-100 cursor-pointer hover:text-primary"}`,c=!r||JSON.stringify(t)==="{}"&&s===null;return o?C.jsx(Jr,{size:"large",className:l}):e?C.jsx("button",{type:"submit",className:a,disabled:c,children:C.jsx(Qr,{size:30})}):C.jsx("button",{className:l,onClick:()=>n(!0),children:C.jsx(gn,{size:30,className:"cursor-pointer hover:text-primary"})})},ar=e=>e?new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Дата не указана",Oa=({isEdit:e,control:t,reset:r,user:n,setEdit:o,setAvatar:s,isUpdating:l,setPreviewUrl:a})=>{const c=()=>{r({firstName:(n==null?void 0:n.firstName)||"",lastName:(n==null?void 0:n.lastName)||""}),s(null),o(!1)};return C.jsx(C.Fragment,{children:e?C.jsxs("div",{children:[C.jsx(st,{control:t,disabled:l,label:"Имя",name:"firstName",placeholder:"Имя",prefix:C.jsx(Ht,{size:20,className:"mr-1"}),rules:lt.name}),C.jsx(st,{control:t,disabled:l,name:"lastName",placeholder:"Фамилия",label:"Фамилия",prefix:C.jsx(Ht,{size:20,className:"mr-1"}),rules:lt.surname}),C.jsxs("div",{className:"flex flex-col gap-5 mb-6",children:[C.jsxs("div",{className:"flex gap-2 items-center justify-start",children:[C.jsx(Bt,{size:20}),C.jsx("span",{className:"w-full text-lg font-semibold text-left break-words ",children:n==null?void 0:n.email})]}),C.jsxs("div",{className:"flex gap-2 items-start justify-start",children:[C.jsx(Ut,{size:20}),C.jsx("span",{className:"w-full text-left",children:`Количество созданных форм: ${n==null?void 0:n.formsCount}`})]}),C.jsxs("div",{className:"flex gap-2 items-start justify-start",children:[C.jsx(Xt,{size:20}),C.jsx("span",{className:"w-full text-left",children:`Дата регистрации: ${ar(n==null?void 0:n.createdAt)}`})]})]}),C.jsx(Ze,{onClick:()=>{c(),a(null)},color:"danger",variant:"filled",icon:C.jsx(wr,{size:15}),className:"w-full",style:{height:"33.79px"},children:"Отменить изменения"})]}):C.jsx("div",{className:"flex flex-col items-start gap-2",children:C.jsxs("div",{className:"flex flex-col items-start gap-2",children:[C.jsx("div",{className:"flex gap-2 items-start justify-start",children:C.jsx("span",{className:"w-full text-2xl font-bold text-left break-words",children:`${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}`})}),C.jsxs("div",{className:"flex gap-2 items-center justify-start",children:[C.jsx(Bt,{size:20}),C.jsx("span",{className:"break-words text-lg font-semibold text-left break-all",children:n==null?void 0:n.email})]}),C.jsxs("div",{className:"flex gap-2 items-start justify-start",children:[C.jsx(Ut,{size:20}),C.jsx("span",{className:"w-full text-left",children:`Количество созданных форм: ${n==null?void 0:n.formsCount}`})]}),C.jsxs("div",{className:"flex gap-2 items-start justify-start",children:[C.jsx(Xt,{size:20}),C.jsx("span",{className:"w-full text-left",children:`Дата регистрации: ${ar(n==null?void 0:n.createdAt)}`})]})]})})})},Ra=()=>{const[e,t]=i.useState(!1),[r,n]=i.useState(!1),[o,s]=i.useState(!1),[l,{isLoading:a}]=en(),{control:c,handleSubmit:u,reset:m}=yr({mode:"onBlur"}),d=()=>n(p=>!p),g=()=>s(p=>!p),v=async p=>{try{await l(p).unwrap(),He.success({message:"Пароль успешно обновлен"}),m()}catch(b){He.error({message:"Пароль не обновлён. Убедитесь, что текущий пароль введён правильно."}),console.error("Ошибка изменения пароля:",b)}};return C.jsxs(C.Fragment,{children:[C.jsx("div",{onClick:()=>t(!e),className:`flex justify-center items-center cursor-pointer select-none ${e&&"mb-6"}`,children:C.jsx(vr.Title,{level:5,style:{marginBottom:0},className:"hover:text-primary transition-all duration-300 ease-in-out",children:"Изменить пароль"})}),e&&C.jsxs(nt,{onFinish:u(v),layout:"vertical",className:"w-full",children:[C.jsx(st,{control:c,name:"currentPassword",type:r?"text":"password",placeholder:"Текущий пароль",rules:lt.password,prefix:C.jsx(Yt,{size:20,className:"mr-1"}),suffix:C.jsx("span",{onClick:d,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":r?"hideCurrentPassword":"showCurrentPassword",children:r?C.jsx(Wt,{size:20}):C.jsx(Vt,{size:20})})}),C.jsx(st,{control:c,name:"newPassword",type:o?"text":"password",placeholder:"Новый пароль",rules:lt.password,prefix:C.jsx(Yt,{size:20,className:"mr-1"}),suffix:C.jsx("span",{onClick:g,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":o?"hideNewPassword":"showNewPassword",children:o?C.jsx(Wt,{size:20}):C.jsx(Vt,{size:20})})}),C.jsx(nt.Item,{children:C.jsx(Ze,{type:"primary",style:{height:"35.81px"},htmlType:"submit",loading:a,block:!0,children:"Обновить пароль"})}),C.jsx(nt.Item,{className:"mb-0",children:C.jsx(Ze,{onClick:()=>{m(),t(!e)},color:"danger",variant:"filled",icon:C.jsx(wr,{size:15}),className:"w-full",style:{height:"33.79px"},children:"Отменить"})})]})]})},qa=()=>{var N;const[e,t]=i.useState(!1),[r,n]=i.useState(null),[,o]=i.useState(!0),[s,l]=i.useState(null),a=(N=tn(rn()))==null?void 0:N.uid,{data:c,error:u,isLoading:m}=nn(a),[d,{isLoading:g}]=on(),{control:v,handleSubmit:p,setValue:b,formState:{isValid:w,dirtyFields:h},reset:I}=yr({mode:"onBlur"});i.useEffect(()=>{c&&I({firstName:(c==null?void 0:c.firstName)||"",lastName:(c==null?void 0:c.lastName)||""})},[c]),i.useEffect(()=>{r&&b("avatarUrl","uploaded",{shouldDirty:!0})},[r]);const P=async f=>{if(JSON.stringify(h)!=="{}"&&a)try{let E=(f==null?void 0:f.avatarUrl)||je;r?E=await sn(r):(!(c!=null&&c.avatarUrl)||c.avatarUrl===je)&&(E=je);const S={...f,avatarUrl:E};await d({id:a,data:S}).unwrap(),He.success({message:"Данные успешно обновлены"}),n(null),o(!1),t(!1)}catch(E){He.error({message:"Не удалось обновить данные"}),console.log("Ошибка обновления данных:",E)}};return bn("Профиль"),m?C.jsx(an,{}):u||!c?C.jsx(xr,{message:"Ошибка",description:"Не удалось получить информацию о пользователе",type:"error",showIcon:!0}):C.jsxs(C.Fragment,{children:[C.jsx(hn,{}),C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsx(vr.Text,{className:"!text-xl font-medium xl:px-0 md:!text-2xl self-start",children:"Мой профиль"}),C.jsx("div",{"data-test-id":"me-page",children:C.jsxs(vn,{className:"flex flex-col px-4 md:p-0 items-center md:flex-row gap-4 w-full md:items-start",children:[C.jsx(_t,{className:"w-full min-w-56 md:w-1/2 px-5 py-5 text-center",style:{zIndex:10},children:C.jsxs(nt,{onFinish:p(P),children:[C.jsx(Pa,{isEdit:e,dirtyFields:h,isValid:w,setEdit:t,isUpdating:g,avatar:r}),C.jsx(ja,{currentAvatarUrl:c.avatarUrl,isEdit:e,setAvatar:n,avatar:r,setValue:b,previewUrl:s,setPreviewUrl:l}),C.jsx(Oa,{isEdit:e,control:v,reset:I,user:c,setEdit:t,setAvatar:n,isUpdating:g,setPreviewUrl:l})]})}),C.jsx(_t,{className:"w-full min-w-56 md:w-1/2 px-5 py-5 text-center",style:{zIndex:10},children:C.jsx(Ra,{})})]})})]})]})};export{qa as Me};
