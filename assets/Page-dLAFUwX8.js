import{g as oe,K as F,a as ge,r as be,u as T,m as pe,b as i,C as Z,i as he,c as O,d as Ce,e as Fe,R as ee,o as Be,j as f,L as V,f as Me,h as D,k as _e,l as We,n as A,T as de,p as He,B as Ae,S as ue,q as Le,y as Ve,s as Ze}from"./index-D2PAZYDI.js";import{C as Ge,S as L,u as qe}from"./base-Bpq7gwRR.js";import{M as ke,a as Xe,b as Ue}from"./index-Bl1XV6d6.js";import{R as Je,C as Ye}from"./row-DkRmyjGO.js";import{u as Qe}from"./usePageTitle-DxkRNI2H.js";import{i as me}from"./gapSize-U1swVQyS.js";import{S as Ke}from"./index-TWjNuJb5.js";import{I as et}from"./index-BOfOZRyw.js";import"./Skeleton-CPrYpWsE.js";import"./PlusOutlined-uGdTUxxh.js";import"./SearchOutlined-BAgzECMw.js";const tt=new F("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ot=new F("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),nt=new F("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),st=new F("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),rt=new F("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),at=new F("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),it=e=>{const{componentCls:t,iconCls:s,antCls:o,badgeShadowSize:n,textFontSize:u,textFontSizeSM:a,statusSize:h,dotSize:S,textFontWeight:g,indicatorHeight:m,indicatorHeightSM:r,marginXS:c,calc:C}=e,b=`${o}-scroll-number`,x=ge(e,(y,j)=>{let{darkColor:p}=j;return{[`&${t} ${t}-color-${y}`]:{background:p,[`&:not(${t}-count)`]:{color:p},"a:hover &":{background:p}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:m,height:m,color:e.badgeTextColor,fontWeight:g,fontSize:u,lineHeight:T(m),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:C(m).div(2).equal(),boxShadow:`0 0 0 ${T(n)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:r,height:r,fontSize:a,lineHeight:T(r),borderRadius:C(r).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${T(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:S,minWidth:S,height:S,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${T(n)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${s}-spin`]:{animationName:at,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:h,height:h,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:n,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:tt,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:c,color:e.colorText,fontSize:e.fontSize}}}),x),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ot,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:nt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:st,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:rt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[b]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${b}-only`]:{position:"relative",display:"inline-block",height:m,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:m,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},ye=e=>{const{fontHeight:t,lineWidth:s,marginXS:o,colorBorderBg:n}=e,u=t,a=s,h=e.colorTextLightSolid,S=e.colorError,g=e.colorErrorHover;return pe(e,{badgeFontHeight:u,badgeShadowSize:a,badgeTextColor:h,badgeColor:S,badgeColorHover:g,badgeShadowColor:n,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},xe=e=>{const{fontSize:t,lineHeight:s,fontSizeSM:o,lineWidth:n}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*s)-2*n,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}},lt=oe("Badge",e=>{const t=ye(e);return it(t)},xe),ct=e=>{const{antCls:t,badgeFontHeight:s,marginXS:o,badgeRibbonOffset:n,calc:u}=e,a=`${t}-ribbon`,h=`${t}-ribbon-wrapper`,S=ge(e,(g,m)=>{let{darkColor:r}=m;return{[`&${a}-color-${g}`]:{background:r,color:r}}});return{[h]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"absolute",top:o,padding:`0 ${T(e.paddingXS)}`,color:e.colorPrimary,lineHeight:T(s),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${a}-text`]:{color:e.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:n,height:n,color:"currentcolor",border:`${T(u(n).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),S),{[`&${a}-placement-end`]:{insetInlineEnd:u(n).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:u(n).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},dt=oe(["Badge","Ribbon"],e=>{const t=ye(e);return ct(t)},xe),ut=e=>{const{className:t,prefixCls:s,style:o,color:n,children:u,text:a,placement:h="end",rootClassName:S}=e,{getPrefixCls:g,direction:m}=i.useContext(Z),r=g("ribbon",s),c=`${r}-wrapper`,[C,b,x]=dt(r,c),y=he(n,!1),j=O(r,`${r}-placement-${h}`,{[`${r}-rtl`]:m==="rtl",[`${r}-color-${n}`]:y},t),p={},$={};return n&&!y&&(p.background=n,$.color=n),C(i.createElement("div",{className:O(c,S,b,x)},u,i.createElement("div",{className:O(j,b),style:Object.assign(Object.assign({},p),o)},i.createElement("span",{className:`${r}-text`},a),i.createElement("div",{className:`${r}-corner`,style:$}))))},fe=e=>{const{prefixCls:t,value:s,current:o,offset:n=0}=e;let u;return n&&(u={position:"absolute",top:`${n}00%`,left:0}),i.createElement("span",{style:u,className:O(`${t}-only-unit`,{current:o})},s)};function mt(e,t,s){let o=e,n=0;for(;(o+10)%10!==t;)o+=s,n+=s;return n}const ft=e=>{const{prefixCls:t,count:s,value:o}=e,n=Number(o),u=Math.abs(s),[a,h]=i.useState(n),[S,g]=i.useState(u),m=()=>{h(n),g(u)};i.useEffect(()=>{const C=setTimeout(m,1e3);return()=>clearTimeout(C)},[n]);let r,c;if(a===n||Number.isNaN(n)||Number.isNaN(a))r=[i.createElement(fe,Object.assign({},e,{key:n,current:!0}))],c={transition:"none"};else{r=[];const C=n+10,b=[];for(let p=n;p<=C;p+=1)b.push(p);const x=S<u?1:-1,y=b.findIndex(p=>p%10===a);r=(x<0?b.slice(0,y+1):b.slice(y)).map((p,$)=>{const l=p%10;return i.createElement(fe,Object.assign({},e,{key:p,value:l,offset:x<0?$-y:$,current:$===y}))}),c={transform:`translateY(${-mt(a,n,x)}00%)`}}return i.createElement("span",{className:`${t}-only`,style:c,onTransitionEnd:m},r)};var gt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const bt=i.forwardRef((e,t)=>{const{prefixCls:s,count:o,className:n,motionClassName:u,style:a,title:h,show:S,component:g="sup",children:m}=e,r=gt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:c}=i.useContext(Z),C=c("scroll-number",s),b=Object.assign(Object.assign({},r),{"data-show":S,style:a,className:O(C,n,u),title:h});let x=o;if(o&&Number(o)%1===0){const y=String(o).split("");x=i.createElement("bdi",null,y.map((j,p)=>i.createElement(ft,{prefixCls:C,count:Number(o),value:j,key:y.length-p})))}return a!=null&&a.borderColor&&(b.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),m?Ce(m,y=>({className:O(`${C}-custom-component`,y==null?void 0:y.className,u)})):i.createElement(g,Object.assign({},b,{ref:t}),x)});var pt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const ht=i.forwardRef((e,t)=>{var s,o,n,u,a;const{prefixCls:h,scrollNumberPrefixCls:S,children:g,status:m,text:r,color:c,count:C=null,overflowCount:b=99,dot:x=!1,size:y="default",title:j,offset:p,style:$,className:l,rootClassName:w,classNames:I,styles:N,showZero:G=!1}=e,ne=pt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:se,direction:q,badge:d}=i.useContext(Z),v=se("badge",h),[re,Ne,Oe]=lt(v),k=C>b?`${b}+`:C,M=k==="0"||k===0,we=C===null||M&&!G,X=(m!=null||c!=null)&&we,B=x&&!M,P=B?"":k,R=i.useMemo(()=>(P==null||P===""||M&&!G)&&!B,[P,M,G,B]),ae=i.useRef(C);R||(ae.current=C);const z=ae.current,ie=i.useRef(P);R||(ie.current=P);const U=ie.current,le=i.useRef(B);R||(le.current=B);const _=i.useMemo(()=>{if(!p)return Object.assign(Object.assign({},d==null?void 0:d.style),$);const E={marginTop:p[1]};return q==="rtl"?E.left=parseInt(p[0],10):E.right=-parseInt(p[0],10),Object.assign(Object.assign(Object.assign({},E),d==null?void 0:d.style),$)},[q,p,$,d==null?void 0:d.style]),Ee=j??(typeof z=="string"||typeof z=="number"?z:void 0),Ie=R||!r?null:i.createElement("span",{className:`${v}-status-text`},r),Te=!z||typeof z!="object"?void 0:Ce(z,E=>({style:Object.assign(Object.assign({},_),E.style)})),W=he(c,!1),Pe=O(I==null?void 0:I.indicator,(s=d==null?void 0:d.classNames)===null||s===void 0?void 0:s.indicator,{[`${v}-status-dot`]:X,[`${v}-status-${m}`]:!!m,[`${v}-color-${c}`]:W}),J={};c&&!W&&(J.color=c,J.background=c);const ce=O(v,{[`${v}-status`]:X,[`${v}-not-a-wrapper`]:!g,[`${v}-rtl`]:q==="rtl"},l,w,d==null?void 0:d.className,(o=d==null?void 0:d.classNames)===null||o===void 0?void 0:o.root,I==null?void 0:I.root,Ne,Oe);if(!g&&X){const E=_.color;return re(i.createElement("span",Object.assign({},ne,{className:ce,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.root),(n=d==null?void 0:d.styles)===null||n===void 0?void 0:n.root),_)}),i.createElement("span",{className:Pe,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(u=d==null?void 0:d.styles)===null||u===void 0?void 0:u.indicator),J)}),r&&i.createElement("span",{style:{color:E},className:`${v}-status-text`},r)))}return re(i.createElement("span",Object.assign({ref:t},ne,{className:ce,style:Object.assign(Object.assign({},(a=d==null?void 0:d.styles)===null||a===void 0?void 0:a.root),N==null?void 0:N.root)}),g,i.createElement(Fe,{visible:!R,motionName:`${v}-zoom`,motionAppear:!1,motionDeadline:1e3},E=>{let{className:Re}=E;var Y,Q;const ze=se("scroll-number",S),K=le.current,De=O(I==null?void 0:I.indicator,(Y=d==null?void 0:d.classNames)===null||Y===void 0?void 0:Y.indicator,{[`${v}-dot`]:K,[`${v}-count`]:!K,[`${v}-count-sm`]:y==="small",[`${v}-multiple-words`]:!K&&U&&U.toString().length>1,[`${v}-status-${m}`]:!!m,[`${v}-color-${c}`]:W});let H=Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(Q=d==null?void 0:d.styles)===null||Q===void 0?void 0:Q.indicator),_);return c&&!W&&(H=H||{},H.background=c),i.createElement(bt,{prefixCls:ze,show:!R,motionClassName:Re,className:De,count:U,title:Ee,style:H,key:"scrollNumber"},Te)}),Ie))}),Se=ht;Se.Ribbon=ut;const ve=["wrap","nowrap","wrap-reverse"],$e=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],je=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],Ct=(e,t)=>{const s=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${s}`]:s&&ve.includes(s)}},yt=(e,t)=>{const s={};return je.forEach(o=>{s[`${e}-align-${o}`]=t.align===o}),s[`${e}-align-stretch`]=!t.align&&!!t.vertical,s},xt=(e,t)=>{const s={};return $e.forEach(o=>{s[`${e}-justify-${o}`]=t.justify===o}),s};function St(e,t){return O(Object.assign(Object.assign(Object.assign({},Ct(e,t)),yt(e,t)),xt(e,t)))}const vt=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},$t=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},jt=e=>{const{componentCls:t}=e,s={};return ve.forEach(o=>{s[`${t}-wrap-${o}`]={flexWrap:o}}),s},Nt=e=>{const{componentCls:t}=e,s={};return je.forEach(o=>{s[`${t}-align-${o}`]={alignItems:o}}),s},Ot=e=>{const{componentCls:t}=e,s={};return $e.forEach(o=>{s[`${t}-justify-${o}`]={justifyContent:o}}),s},wt=()=>({}),Et=oe("Flex",e=>{const{paddingXS:t,padding:s,paddingLG:o}=e,n=pe(e,{flexGapSM:t,flexGap:s,flexGapLG:o});return[vt(n),$t(n),jt(n),Nt(n),Ot(n)]},wt,{resetStyle:!1});var It=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const Tt=ee.forwardRef((e,t)=>{const{prefixCls:s,rootClassName:o,className:n,style:u,flex:a,gap:h,children:S,vertical:g=!1,component:m="div"}=e,r=It(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:c,direction:C,getPrefixCls:b}=ee.useContext(Z),x=b("flex",s),[y,j,p]=Et(x),$=g??(c==null?void 0:c.vertical),l=O(n,o,c==null?void 0:c.className,x,j,p,St(x,e),{[`${x}-rtl`]:C==="rtl",[`${x}-gap-${h}`]:me(h),[`${x}-vertical`]:$}),w=Object.assign(Object.assign({},c==null?void 0:c.style),u);return a&&(w.flex=a),h&&!me(h)&&(w.gap=h),y(ee.createElement(m,Object.assign({ref:t,className:l,style:w},Be(r,["justify","wrap","align"])),S))}),Pt=e=>{const{item:t,onDelete:s}=e,o=()=>{s(t.id)},n=[f.jsx(V,{to:`/forms/${t.id}/responses`,children:f.jsx(Se,{count:t.responseCount??0,showZero:!0,size:"small",styles:{indicator:{fontSize:10},root:{color:"inherit"}},offset:[2,-2],children:f.jsx(ke,{size:18})})},"response"),f.jsx(V,{to:`/forms/${t.id}/edit`,children:f.jsx(Xe,{size:18,style:{margin:"0 auto"},href:`/forms/${t.id}/edit`})},"edit"),f.jsx("div",{"data-testid":"delete-button",className:"text-red-600 hover:text-red-400 transition-all duration-200 ease-in-out",onClick:o,children:f.jsx(Ue,{size:18,style:{margin:"0 auto"}})},"delete")],u=f.jsx(V,{to:`/forms/${t.id}`,children:t.title});return f.jsx(Ge,{title:u,bordered:!1,actions:n,style:{backdropFilter:"blur(4px)",background:"rgb(255 250 245 / 85%)"},styles:{actions:{background:"transparent",borderColor:"#ffe2cb"},header:{borderColor:"#ffe2cb"},body:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"}},className:"h-full flex flex-col",children:f.jsx("div",{className:"line-clamp-3 ",children:t.description})})},Rt=e=>{const{items:t,onDelete:s}=e;return f.jsx(Je,{gutter:[16,16],align:"stretch",children:t.map(o=>f.jsx(Ye,{span:24,md:12,lg:8,children:f.jsx(Pt,{item:o,onDelete:s})},o.id))})},{Search:zt}=et,te={TIME_ASC:{field:"createdAt",type:L.ASC},TIME_DESC:{field:"createdAt",type:L.DESC},TITLE_ASC:{field:"title",type:L.ASC},TITLE_DESC:{field:"title",type:L.DESC}},Dt=[{value:"TIME_DESC",label:"Сначала новые"},{value:"TIME_ASC",label:"Сначала старые"},{value:"TITLE_DESC",label:"Порядок А-Я"},{value:"TITLE_ASC",label:"Порядок Я-А"}],Ft=30,kt=()=>{const e=Me(),t=D(l=>l.formSlice.status),s=D(l=>l.user.user),o=D(l=>l.formSlice.order),n=D(l=>l.formSlice.search),u=D(l=>l.formSlice.data),a=D(l=>l.formSlice.hasNext),[h,S]=_e(),[g,m]=i.useState(h.get("search")??""),[r,c]=i.useState(h.get("order")??"TIME_DESC"),[C]=We(),{ref:b}=qe({threshold:1,onChange:async l=>{l&&t!=="pending"&&p()}}),x=async l=>{try{await C(l).unwrap(),e(Le(l))}catch(w){console.error("Ошибка удаления:",w)}},y=l=>{e(A()),m(l)},j=l=>{e(A()),c(l)};i.useEffect(()=>{const l={order:r};g.length&&(l.search=g),S(l,{replace:!0})},[r,g,S]),i.useEffect(()=>{var l,w;if(g!==(n??"")){e(A());return}if(((l=te[r])==null?void 0:l.field)!==(o==null?void 0:o.field)||((w=te[r])==null?void 0:w.type)!==(o==null?void 0:o.type)){e(A());return}},[]);const p=()=>{if(!s){Ve.error("Не найдены данные пользователя");return}e(Ze({search:g.length?{key:"title",value:g}:void 0,sort:te[r],limit:Ft,reference:{collectionName:"users",key:"userId",id:s.uid}}))},$=(t==="success"||t===null)&&a;return Qe("Главная страница"),f.jsxs("div",{"data-testid":"home-page",children:[f.jsxs(Tt,{justify:"space-between",gap:12,vertical:!0,className:"mb-4 sm:flex-row sm:mb-8",children:[f.jsx(zt,{defaultValue:g,onSearch:y,className:"w-full sm:w-[300px]"}),f.jsx(Ke,{value:r,options:Dt,onChange:j,className:"w-full sm:w-[200px]"})]}),f.jsx("div",{className:"pb-5",children:u.length>0?f.jsx(Rt,{items:u.filter(l=>l!==null),onDelete:x}):t!=="pending"&&!$&&f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(de,{className:"!text-2xl md:!text-3xl",children:"Нет доступных форм."}),f.jsx(V,{to:He.FORMS_NEW,children:f.jsx(Ae,{type:"primary",children:"Создать форму"})})]})}),t==="pending"&&f.jsx("div",{className:"mb-5 mt-4",children:f.jsx(ue,{})}),$&&f.jsx("div",{ref:b,className:"mt-4 mb-5",children:f.jsx(ue,{})}),t==="rejected"&&!u.length&&f.jsx(de,{level:2,children:"Произошла ошибка, попробуйте обновить страницу"})]})};export{kt as Home};
