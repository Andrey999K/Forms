import{b as l,cf as y,h as b,aj as v,j as s,bQ as n,S as k,cg as i,ch as c}from"./index-BdmOwQ77.js";import{L as F,C as L,A as N,a as m}from"./AuthTextLink-cX58fMsv.js";import{u as S,U as d,a as x}from"./UserFormInput-BcRhMgb0.js";import{G as E,h as T,i as P,j as R}from"./index-SJpYm6q-.js";import{R as M}from"./index-B3SCmLHf.js";import{P as z}from"./PageTitle-CTkk6nWx.js";import{F as C}from"./index-BcGQAT03.js";import"./index-Csz25M_k.js";import"./SearchOutlined-DnZKlguD.js";import"./row-A0vdR7oV.js";import"./ExclamationCircleFilled-DlSatgLl.js";function O(e){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}const _=()=>{const[e,h]=l.useState(!1),{control:a,handleSubmit:u}=S({mode:"onBlur"}),[p,{isLoading:o}]=y(),r=b(),f=v(),j=()=>h(t=>!t),g=async t=>{r(c(!0));try{await p(t).unwrap(),f(i.HOME)}catch(w){console.error("Ошибка авторизации:",w)}finally{r(c(!1))}};return l.useEffect(()=>{document.title="Вход"},[]),s.jsxs(s.Fragment,{children:[s.jsx(z,{title:"Авторизация"}),s.jsx(F,{className:"min-h-screen auth-bg-gradient overflow-hidden",children:s.jsx(L,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(O,{size:30,color:"#808897"})})}),s.jsx(n.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(n.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(C,{onFinish:u(g),autoComplete:"off",children:[s.jsx(d,{control:a,name:"email",placeholder:"Email",rules:x.email,prefix:s.jsx(T,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(d,{control:a,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:x.password,prefix:s.jsx(M,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:j,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(P,{size:20}):s.jsx(R,{size:20})})}),s.jsx(N,{disabled:o,children:o?s.jsx(k,{size:"small"}):"Войти"}),s.jsx(m,{text:"Забыли пароль?",linkText:"Сбросить пароль",linkTo:i.RECOVERY_PASSWORD}),s.jsx(m,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})]})};export{_ as Login};
