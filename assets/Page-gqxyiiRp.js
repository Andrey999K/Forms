import{b as d,cp as M,f as F,ap as R,j as s,cm as A,G as B,T as m,B as E,R as c,co as p}from"./index-Cx6gsuBe.js";import{u as L,C as V,U as i,a as t}from"./UserFormInput-Bbv7Zq0h.js";import{l as I,g as x,k as O,i as u,j as h}from"./index-BVYpFx7n.js";import{R as f}from"./index-BOfhWARM.js";import{A as U,a as G}from"./AuthTextLink-MBPjLjHz.js";import{u as W}from"./usePageTitle-zyejXRqy.js";import{F as j}from"./index-CXQozQ2S.js";import"./index-Bv1lvDPX.js";import"./row-A9AMBAGq.js";import"./index-0i82kZ_e.js";import"./responsiveObserver-DRWojBiv.js";const ss=()=>{const[o,w]=d.useState(!1),[l,y]=d.useState(!1),{control:a,handleSubmit:g,watch:b,reset:N}=L({mode:"onBlur"}),[P,{isLoading:e}]=M(),n=F(),v=R(),z=()=>w(r=>!r),S=()=>y(r=>!r),C=b("password"),T=async r=>{n(p(!0));try{await P(r).unwrap(),v(c.HOME)}catch(k){console.error("Ошибка авторизации:",k)}finally{n(p(!1))}};return W("Регистрация"),s.jsx(A,{children:s.jsx(V,{className:"flex px-8 md:p-0 justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs(B,{className:"px-8 py-8 rounded-2xl max-w-sm w-full",style:{zIndex:10},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-bgPrimary rounded-2xl shadow-lg",children:s.jsx(I,{size:30})})}),s.jsx(m.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Регистрация"}),s.jsx(m.Title,{level:5,style:{margin:"0"},children:"Зарегистрироваться с помощью почты"})]}),s.jsxs(j,{onFinish:g(T),autoComplete:"off",children:[s.jsx(i,{control:a,name:"name",disabled:e,placeholder:"Имя",rules:t.name,prefix:s.jsx(x,{size:20,className:"mr-1"})}),s.jsx(i,{control:a,name:"surname",disabled:e,placeholder:"Фамилия",rules:t.surname,prefix:s.jsx(x,{size:20,className:"mr-1"})}),s.jsx(i,{control:a,name:"email",disabled:e,placeholder:"Email",rules:t.email,prefix:s.jsx(O,{size:20,className:"mr-1"})}),s.jsx(i,{control:a,name:"password",disabled:e,type:o?"text":"password",placeholder:"Пароль",rules:t.password,prefix:s.jsx(f,{size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:z,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":o?"hidePassword":"showPassword",children:o?s.jsx(u,{size:20}):s.jsx(h,{size:20})})}),s.jsx(i,{control:a,name:"copyPassword",type:l?"text":"password",disabled:e,placeholder:"Пароль",rules:t.copyPassword(C),prefix:s.jsx(f,{size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:S,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":l?"hidePassword":"showPassword",children:l?s.jsx(u,{size:20}):s.jsx(h,{size:20})})}),s.jsx(U,{disabled:e,loading:e,children:"Зарегистрироваться"}),s.jsxs("div",{className:"flex justify-between mb-0 gap-1",children:[s.jsx(j.Item,{className:"flex items-center justify-end",children:s.jsx(E,{onClick:()=>N(),color:"default",variant:"solid",children:"Очистить форму"})}),s.jsx(G,{text:"Есть аккаунт?",linkText:"Войти",linkTo:c.LOGIN})]})]})]})})})};export{ss as Signup};
