import{b as g,cl as w,f as b,aq as T,j as s,cm as v,G as N,cn as S,T as l,R as r,co as n}from"./index-BcG1JK8j.js";import{u as P,C as R,U as m,a as c}from"./UserFormInput-sf00k3vs.js";import{k,i as F,j as E}from"./index-Ck3yXR-d.js";import{R as L}from"./index-DMFXHsVL.js";import{A as z,a as d}from"./AuthTextLink-Delp2oH_.js";import{u as M}from"./usePageTitle-z2I9Ix6e.js";import{F as C}from"./index-BQz51BZO.js";import"./index-D3E_iWfK.js";import"./row-DAw7Y1hB.js";import"./index-C7L0pQl0.js";import"./responsiveObserver-BA6Jtago.js";const Y=()=>{const[a,x]=g.useState(!1),{control:t,handleSubmit:p}=P({mode:"onBlur"}),[u,{isLoading:e}]=w(),o=b(),h=T(),f=()=>x(i=>!i),j=async i=>{o(n(!0));try{await u(i).unwrap(),h(r.HOME)}catch(y){console.error("Ошибка авторизации:",y)}finally{o(n(!1))}};return M("Авторизация"),s.jsx(v,{children:s.jsx(R,{className:"flex px-8 md:p-0 justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs(N,{className:"px-8 py-8 rounded-2xl max-w-sm w-full",style:{zIndex:10},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-bgPrimary rounded-2xl shadow-lg",children:s.jsx(S,{size:30})})}),s.jsx(l.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(l.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(C,{onFinish:p(j),autoComplete:"off",children:[s.jsx(m,{control:t,name:"email",placeholder:"Email",disabled:e,rules:c.email,prefix:s.jsx(k,{size:20,className:"mr-1"})}),s.jsx(m,{control:t,name:"password",type:a?"text":"password",placeholder:"Пароль",disabled:e,rules:c.password,prefix:s.jsx(L,{size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:f,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":a?"hidePassword":"showPassword",children:a?s.jsx(F,{size:20}):s.jsx(E,{size:20})})}),s.jsx(z,{disabled:e,loading:e,children:"Войти"}),s.jsxs("div",{children:[s.jsx(d,{text:"Забыли пароль?",linkText:"Сбросить",linkTo:r.RECOVERY_PASSWORD}),s.jsx(d,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:r.SIGNUP})]})]})]})})})};export{Y as Login};
