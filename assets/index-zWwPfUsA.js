import{b as l,Z as S,bA as Fe,B as _,bB as oe,X as O,aa as Me,aD as Be,y as le,ar as H,bC as re,bD as Le,C as A,a6 as se,c as w,a7 as ze,bd as Ae,bE as We,a8 as z,bF as De,ak as _e,u as Z,E as He,D as Ve,z as qe,A as Xe,bf as ae,bG as Ge,bH as Qe,bI as Ze,bJ as Ue,a9 as Ye}from"./index-D1ituVI6.js";import{u as ce,D as Je,p as Ke,a as et,P as tt}from"./index-CLToM4J_.js";import{u as nt,p as U,S as ot}from"./Skeleton-4EbaBd2p.js";import{w as lt}from"./index-FktedChp.js";function rt(){const[e,n]=l.useState([]),r=l.useCallback(t=>(n(o=>[].concat(S(o),[t])),()=>{n(o=>o.filter(a=>a!==t))}),[]);return[e,r]}function W(e){return!!(e!=null&&e.then)}const ie=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:a,autoFocus:v,emitEvent:f,isSilent:c,quitOnNullishReturnValue:b,actionFn:s}=e,d=l.useRef(!1),u=l.useRef(null),[p,y]=Fe(!1),m=function(){a==null||a.apply(void 0,arguments)};l.useEffect(()=>{let i=null;return v&&(i=setTimeout(()=>{var x;(x=u.current)===null||x===void 0||x.focus({preventScroll:!0})})),()=>{i&&clearTimeout(i)}},[]);const C=i=>{W(i)&&(y(!0),i.then(function(){y(!1,!0),m.apply(void 0,arguments),d.current=!1},x=>{if(y(!1,!0),d.current=!1,!(c!=null&&c()))return Promise.reject(x)}))},g=i=>{if(d.current)return;if(d.current=!0,!s){m();return}let x;if(f){if(x=s(i),b&&!W(x)){d.current=!1,m(i);return}}else if(s.length)x=s(a),d.current=!1;else if(x=s(),!W(x)){m();return}C(x)};return l.createElement(_,Object.assign({},oe(n),{onClick:g,loading:p,prefixCls:t},o,{ref:u}),r)},F=O.createContext({}),{Provider:ue}=F,Y=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:r,isSilent:t,mergedOkCancel:o,rootPrefixCls:a,close:v,onCancel:f,onConfirm:c}=l.useContext(F);return o?O.createElement(ie,{isSilent:t,actionFn:f,close:function(){v==null||v.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${a}-btn`},r):null},J=()=>{const{autoFocusButton:e,close:n,isSilent:r,okButtonProps:t,rootPrefixCls:o,okTextLocale:a,okType:v,onConfirm:f,onOk:c}=l.useContext(F);return O.createElement(ie,{isSilent:r,type:v||"primary",actionFn:c,close:function(){n==null||n.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},a)},st=()=>Me()&&window.document.documentElement;function K(){}const at=l.createContext({add:K,remove:K});function ct(e){const n=l.useContext(at),r=l.useRef(null);return Be(o=>{if(o){const a=e?o.querySelector(e):o;n.add(a),r.current=a}else n.remove(r.current)})}const ee=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:r}=l.useContext(F);return O.createElement(_,Object.assign({onClick:r},e),n)},te=()=>{const{confirmLoading:e,okButtonProps:n,okType:r,okTextLocale:t,onOk:o}=l.useContext(F);return O.createElement(_,Object.assign({},oe(r),{loading:e,onClick:o},n),t)};function fe(e,n){return O.createElement("span",{className:`${e}-close-x`},n||O.createElement(le,{className:`${e}-close-icon`}))}const de=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:a,onCancel:v,okButtonProps:f,cancelButtonProps:c,footer:b}=e,[s]=H("Modal",re()),d=n||(s==null?void 0:s.okText),u=t||(s==null?void 0:s.cancelText),p={confirmLoading:o,okButtonProps:f,cancelButtonProps:c,okTextLocale:d,cancelTextLocale:u,okType:r,onOk:a,onCancel:v},y=O.useMemo(()=>p,S(Object.values(p)));let m;return typeof b=="function"||typeof b>"u"?(m=O.createElement(O.Fragment,null,O.createElement(ee,null),O.createElement(te,null)),typeof b=="function"&&(m=b(m,{OkBtn:te,CancelBtn:ee})),m=O.createElement(ue,{value:y},m)):m=b,O.createElement(Le,{disabled:!1},m)};var it=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let D;const ut=e=>{D={x:e.pageX,y:e.pageY},setTimeout(()=>{D=null},100)};st()&&document.documentElement.addEventListener("click",ut,!0);const me=e=>{var n;const{getPopupContainer:r,getPrefixCls:t,direction:o,modal:a}=l.useContext(A),v=T=>{const{onCancel:E}=e;E==null||E(T)},f=T=>{const{onOk:E}=e;E==null||E(T)},{prefixCls:c,className:b,rootClassName:s,open:d,wrapClassName:u,centered:p,getContainer:y,focusTriggerAfterClose:m=!0,style:C,visible:g,width:i=520,footer:x,classNames:h,styles:j,children:k,loading:R}=e,I=it(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),P=t("modal",c),V=t(),q=se(P),[Ee,X,$e]=ce(P,q),je=w(u,{[`${P}-centered`]:!!p,[`${P}-wrap-rtl`]:o==="rtl"}),Te=x!==null&&!R?l.createElement(de,Object.assign({},e,{onOk:f,onCancel:v})):null,[G,Q,we]=nt(U(e),U(a),{closable:!0,closeIcon:l.createElement(le,{className:`${P}-close-icon`}),closeIconRender:T=>fe(P,T)}),Se=ct(`.${P}-content`),[Ie,Ne]=ze("Modal",I.zIndex),[ke,B]=l.useMemo(()=>i&&typeof i=="object"?[void 0,i]:[i,void 0],[i]),Re=l.useMemo(()=>{const T={};return B&&Object.keys(B).forEach(E=>{const L=B[E];L!==void 0&&(T[`--${P}-${E}-width`]=typeof L=="number"?`${L}px`:L)}),T},[B]);return Ee(l.createElement(Ae,{form:!0,space:!0},l.createElement(We.Provider,{value:Ne},l.createElement(Je,Object.assign({width:ke},I,{zIndex:Ie,getContainer:y===void 0?r:y,prefixCls:P,rootClassName:w(X,s,$e,q),footer:Te,visible:d??g,mousePosition:(n=I.mousePosition)!==null&&n!==void 0?n:D,onClose:v,closable:G&&{disabled:we,closeIcon:Q},closeIcon:Q,focusTriggerAfterClose:m,transitionName:z(V,"zoom",e.transitionName),maskTransitionName:z(V,"fade",e.maskTransitionName),className:w(X,b,a==null?void 0:a.className),style:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.style),C),Re),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),h),{wrapper:w(je,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),j),panelRef:Se}),R?l.createElement(ot,{active:!0,title:!1,paragraph:{rows:4},className:`${P}-body-skeleton`}):k))))},ft=e=>{const{componentCls:n,titleFontSize:r,titleLineHeight:t,modalConfirmIconSize:o,fontSize:a,lineHeight:v,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:b}=e,s=`${n}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},_e()),[`&${n} ${n}-body`]:{padding:b},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Z(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${Z(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:r,lineHeight:t},[`${s}-content`]:{color:e.colorText,fontSize:a,lineHeight:v},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},dt=De(["Modal","confirm"],e=>{const n=Ke(e);return[ft(n)]},et,{order:-1e3});var mt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};function Ce(e){const{prefixCls:n,icon:r,okText:t,cancelText:o,confirmPrefixCls:a,type:v,okCancel:f,footer:c,locale:b}=e,s=mt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=r;if(!r&&r!==null)switch(v){case"info":d=l.createElement(Xe,null);break;case"success":d=l.createElement(qe,null);break;case"error":d=l.createElement(Ve,null);break;default:d=l.createElement(He,null)}const u=f??v==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=H("Modal"),m=b||y,C=t||(u?m==null?void 0:m.okText:m==null?void 0:m.justOkText),g=o||(m==null?void 0:m.cancelText),i=Object.assign({autoFocusButton:p,cancelTextLocale:g,okTextLocale:C,mergedOkCancel:u},s),x=l.useMemo(()=>i,S(Object.values(i))),h=l.createElement(l.Fragment,null,l.createElement(Y,null),l.createElement(J,null)),j=e.title!==void 0&&e.title!==null,k=`${a}-body`;return l.createElement("div",{className:`${a}-body-wrapper`},l.createElement("div",{className:w(k,{[`${k}-has-title`]:j})},d,l.createElement("div",{className:`${a}-paragraph`},j&&l.createElement("span",{className:`${a}-title`},e.title),l.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?l.createElement(ue,{value:x},l.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(h,{OkBtn:J,CancelBtn:Y}):h)):c,l.createElement(dt,{prefixCls:n}))}const Ct=e=>{const{close:n,zIndex:r,maskStyle:t,direction:o,prefixCls:a,wrapClassName:v,rootPrefixCls:f,bodyStyle:c,closable:b=!1,onConfirm:s,styles:d}=e,u=`${a}-confirm`,p=e.width||416,y=e.style||{},m=e.mask===void 0?!0:e.mask,C=e.maskClosable===void 0?!1:e.maskClosable,g=w(u,`${u}-${e.type}`,{[`${u}-rtl`]:o==="rtl"},e.className),[,i]=Ge(),x=l.useMemo(()=>r!==void 0?r:i.zIndexPopupBase+Qe,[r,i]);return l.createElement(me,Object.assign({},e,{className:g,wrapClassName:w({[`${u}-centered`]:!!e.centered},v),onCancel:()=>{n==null||n({triggerCancel:!0}),s==null||s(!1)},title:"",footer:null,transitionName:z(f||"","zoom",e.transitionName),maskTransitionName:z(f||"","fade",e.maskTransitionName),mask:m,maskClosable:C,style:y,styles:Object.assign({body:c,mask:t},d),width:p,zIndex:x,closable:b}),l.createElement(Ce,Object.assign({},e,{confirmPrefixCls:u})))},ge=e=>{const{rootPrefixCls:n,iconPrefixCls:r,direction:t,theme:o}=e;return l.createElement(ae,{prefixCls:n,iconPrefixCls:r,direction:t,theme:o},l.createElement(Ct,Object.assign({},e)))},N=[];let ve="";function be(){return ve}const gt=e=>{var n,r;const{prefixCls:t,getContainer:o,direction:a}=e,v=re(),f=l.useContext(A),c=be()||f.getPrefixCls(),b=t||`${c}-modal`;let s=o;return s===!1&&(s=void 0),O.createElement(ge,Object.assign({},e,{rootPrefixCls:c,prefixCls:b,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:a??f.direction,locale:(r=(n=f.locale)===null||n===void 0?void 0:n.Modal)!==null&&r!==void 0?r:v,getContainer:s}))};function M(e){const n=Ze(),r=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:c,open:!0}),o,a;function v(){for(var s,d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];if(u.some(C=>C==null?void 0:C.triggerCancel)){var m;(s=e.onCancel)===null||s===void 0||(m=s).call.apply(m,[e,()=>{}].concat(S(u.slice(1))))}for(let C=0;C<N.length;C++)if(N[C]===c){N.splice(C,1);break}a()}function f(s){clearTimeout(o),o=setTimeout(()=>{const d=n.getPrefixCls(void 0,be()),u=n.getIconPrefixCls(),p=n.getTheme(),y=O.createElement(gt,Object.assign({},s));a=Ue()(O.createElement(ae,{prefixCls:d,iconPrefixCls:u,theme:p},n.holderRender?n.holderRender(y):y),r)})}function c(){for(var s=arguments.length,d=new Array(s),u=0;u<s;u++)d[u]=arguments[u];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),v.apply(this,d)}}),t.visible&&delete t.visible,f(t)}function b(s){typeof s=="function"?t=s(t):t=Object.assign(Object.assign({},t),s),f(t)}return f(t),N.push(c),{destroy:c,update:b}}function pe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function xe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ye(e){return Object.assign(Object.assign({},e),{type:"success"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"error"})}function he(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function vt(e){let{rootPrefixCls:n}=e;ve=n}var bt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const pt=(e,n)=>{var r,{afterClose:t,config:o}=e,a=bt(e,["afterClose","config"]);const[v,f]=l.useState(!0),[c,b]=l.useState(o),{direction:s,getPrefixCls:d}=l.useContext(A),u=d("modal"),p=d(),y=()=>{var i;t(),(i=c.afterClose)===null||i===void 0||i.call(c)},m=function(){var i;f(!1);for(var x=arguments.length,h=new Array(x),j=0;j<x;j++)h[j]=arguments[j];if(h.some(I=>I==null?void 0:I.triggerCancel)){var R;(i=c.onCancel)===null||i===void 0||(R=i).call.apply(R,[c,()=>{}].concat(S(h.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:m,update:i=>{b(x=>Object.assign(Object.assign({},x),i))}}));const C=(r=c.okCancel)!==null&&r!==void 0?r:c.type==="confirm",[g]=H("Modal",Ye.Modal);return l.createElement(ge,Object.assign({prefixCls:u,rootPrefixCls:p},c,{close:m,open:v,afterClose:y,okText:c.okText||(C?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:c.direction||s,cancelText:c.cancelText||(g==null?void 0:g.cancelText)},a))},xt=l.forwardRef(pt);let ne=0;const yt=l.memo(l.forwardRef((e,n)=>{const[r,t]=rt();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,r)}));function Ot(){const e=l.useRef(null),[n,r]=l.useState([]);l.useEffect(()=>{n.length&&(S(n).forEach(v=>{v()}),r([]))},[n]);const t=l.useCallback(a=>function(f){var c;ne+=1;const b=l.createRef();let s;const d=new Promise(C=>{s=C});let u=!1,p;const y=l.createElement(xt,{key:`modal-${ne}`,config:a(f),ref:b,afterClose:()=>{p==null||p()},isSilent:()=>u,onConfirm:C=>{s(C)}});return p=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),p&&N.push(p),{destroy:()=>{function C(){var g;(g=b.current)===null||g===void 0||g.destroy()}b.current?C():r(g=>[].concat(S(g),[C]))},update:C=>{function g(){var i;(i=b.current)===null||i===void 0||i.update(C)}b.current?g():r(i=>[].concat(S(i),[g]))},then:C=>(u=!0,d.then(C))}},[]);return[l.useMemo(()=>({info:t(xe),success:t(ye),error:t(Oe),warning:t(pe),confirm:t(he)}),[]),l.createElement(yt,{key:"modal-holder",ref:e})]}var ht=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Pt=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:a,title:v,children:f,footer:c}=e,b=ht(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=l.useContext(A),d=s(),u=n||s("modal"),p=se(d),[y,m,C]=ce(u,p),g=`${u}-confirm`;let i={};return a?i={closable:o??!1,title:"",footer:"",children:l.createElement(Ce,Object.assign({},e,{prefixCls:u,confirmPrefixCls:g,rootPrefixCls:d,content:f}))}:i={closable:o??!0,title:v,footer:c!==null&&l.createElement(de,Object.assign({},e)),children:f},y(l.createElement(tt,Object.assign({prefixCls:u,className:w(m,`${u}-pure-panel`,a&&g,a&&`${g}-${a}`,r,C,p)},b,{closeIcon:fe(u,t),closable:o},i)))},Et=lt(Pt);function Pe(e){return M(pe(e))}const $=me;$.useModal=Ot;$.info=function(n){return M(xe(n))};$.success=function(n){return M(ye(n))};$.error=function(n){return M(Oe(n))};$.warning=Pe;$.warn=Pe;$.confirm=function(n){return M(he(n))};$.destroyAll=function(){for(;N.length;){const n=N.pop();n&&n()}};$.config=vt;$._InternalPanelDoNotUseOrYouWillBeFired=Et;export{$ as M};
