import{b as w,co as b,f as g,aC as y,j as s,cp as F,R as e,cq as l}from"./index-BR7ZzziA.js";import{u as R,U as n,a as m}from"./UserFormInput-C0OI9Sfu.js";import{k as S,i as k,j as P}from"./index-CtFb_B6V.js";import{R as E}from"./index-C_yJVbe9.js";import{A as L,a as T,b as c}from"./AuthFormWrapper-CZyJXTXm.js";import{u as M}from"./usePageTitle-CM8nHFj6.js";import{F as z}from"./index-Bsa8Cgeg.js";import"./index-YvNUdkIZ.js";import"./row-cBrBeGQV.js";import"./index-CaKTH2rl.js";import"./responsiveObserver-CaYNLK9G.js";const q=()=>{const[o,d]=w.useState(!1),{control:t,handleSubmit:p}=R({mode:"onBlur"}),[u,{isLoading:i}]=b(),r=g(),x=y(),f=()=>d(a=>!a),h=async a=>{r(l(!0));try{await u(a).unwrap(),x(e.HOME)}catch(j){console.error("Ошибка авторизации:",j)}finally{r(l(!1))}};return M("Авторизация"),s.jsx(L,{title:"Авторизация",subtitle:"Войти с помощью почты",icon:s.jsx(F,{size:30}),children:s.jsxs(z,{onFinish:p(h),autoComplete:"off",children:[s.jsx(n,{control:t,name:"email",placeholder:"Email",disabled:i,rules:m.email,prefix:s.jsx(S,{size:20,className:"mr-1"})}),s.jsx(n,{control:t,name:"password",type:o?"text":"password",placeholder:"Пароль",disabled:i,rules:m.password,prefix:s.jsx(E,{size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:f,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":o?"hidePassword":"showPassword",children:o?s.jsx(k,{size:20}):s.jsx(P,{size:20})})}),s.jsx(T,{disabled:i,loading:i,children:"Войти"}),s.jsxs("div",{children:[s.jsx(c,{text:"Забыли пароль?",linkText:"Сбросить",linkTo:e.RECOVERY_PASSWORD}),s.jsx(c,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:e.SIGNUP})]})]})})};export{q as Login};
