import{b as l,c5 as y,h as b,M as v,j as s,bF as n,S as k,bD as i,c6 as c}from"./index-3JDsRRxM.js";import{L as F,C as L,A as N,a as m}from"./AuthTextLink-DeAXXEt_.js";import{u as S,U as d,a as x}from"./UserFormInput-DEUOmcFs.js";import{G as E,h as T,i as P,j as M}from"./index-C0IjtF2y.js";import{R}from"./index-EwdqOhuz.js";import{P as C}from"./PageTitle-DUjseoOd.js";import{F as z}from"./index-Cnfg4H3c.js";import"./index-C9ibDIIa.js";import"./SearchOutlined-BrKKQXzY.js";import"./row-BayxUOnG.js";import"./ExclamationCircleFilled-BtPUUe8Y.js";function I(e){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}const q=()=>{const[e,h]=l.useState(!1),{control:a,handleSubmit:u}=S({mode:"onChange"}),[p,{isLoading:o}]=y(),r=b(),f=v(),g=()=>h(t=>!t),j=async t=>{r(c(!0));try{await p(t).unwrap(),f(i.HOME)}catch(w){console.error("Ошибка авторизации:",w)}finally{r(c(!1))}};return l.useEffect(()=>{document.title="Вход"},[]),s.jsxs(s.Fragment,{children:[s.jsx(C,{title:"Авторизация"}),s.jsx(F,{className:"min-h-screen bg-authImg bg-cover bg-center overflow-hidden",children:s.jsx(L,{className:"flex justify-center items-center min-h-screen overflow-y-auto",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(I,{size:30,color:"#808897"})})}),s.jsx(n.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(n.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(z,{onFinish:u(j),autoComplete:"off",children:[s.jsx(d,{control:a,name:"email",placeholder:"Email",rules:x.email,prefix:s.jsx(T,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(d,{control:a,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:x.password,prefix:s.jsx(R,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:g,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(P,{size:20}):s.jsx(M,{size:20})})}),s.jsx(N,{disabled:o,children:o?s.jsx(k,{size:"small"}):"Войти"}),s.jsx(m,{text:"Забыли пароль?",linkText:"Сбросить пароль",linkTo:i.RECOVERY_PASSWORD}),s.jsx(m,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})]})};export{q as Login};
