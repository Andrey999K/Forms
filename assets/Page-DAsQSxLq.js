import{b as w,b$ as y,f as b,aq as v,j as s,c0 as N,bI as l,R as i,c1 as n}from"./index-CrfkSw2x.js";import{L as F,C as T,A as E,a as m}from"./AuthTextLink-DjSgTa20.js";import{u as L,U as c,a as d}from"./UserFormInput-e-5RzaXm.js";import{g as R,h as S,i as k}from"./index-zKmnbgjU.js";import{R as P}from"./index-nSotS5K0.js";import{u as M}from"./usePageTitle-DdtFVwQg.js";import{F as z}from"./index-DbeczEIu.js";import"./Sider-DE5UtCmm.js";import"./index-DZkrk_1m.js";import"./SearchOutlined-8LXsKgk6.js";import"./row-8w9zA-OS.js";const W=()=>{const[e,x]=w.useState(!1),{control:o,handleSubmit:u}=L({mode:"onBlur"}),[p,{isLoading:t}]=y(),r=b(),h=v(),f=()=>x(a=>!a),j=async a=>{r(n(!0));try{await p(a).unwrap(),h(i.HOME)}catch(g){console.error("Ошибка авторизации:",g)}finally{r(n(!1))}};return M("Авторизация"),s.jsx(F,{className:"min-h-screen auth-bg-gradient overflow-hidden",children:s.jsx(T,{className:"flex justify-center items-center min-h-screen overflow-y-auto px-8",children:s.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-8 py-4 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#EEF5F8] rounded-2xl shadow-lg",children:s.jsx(N,{size:30,color:"#808897"})})}),s.jsx(l.Title,{level:2,style:{marginBottom:"0.5rem"},children:"Авторизация"}),s.jsx(l.Title,{level:5,style:{margin:"0"},children:"Войти с помощью почты"})]}),s.jsxs(z,{onFinish:u(j),autoComplete:"off",children:[s.jsx(c,{control:o,name:"email",placeholder:"Email",rules:d.email,prefix:s.jsx(R,{color:"#808897",size:20,className:"mr-1"})}),s.jsx(c,{control:o,name:"password",type:e?"text":"password",placeholder:"Пароль",rules:d.password,prefix:s.jsx(P,{color:"#808897",size:20,className:"mr-1"}),suffix:s.jsx("span",{onClick:f,className:"flex items-center justify-center cursor-pointer p-0 m-0 h-auto w-auto hover:text-gray-500","aria-label":e?"hidePassword":"showPassword",children:e?s.jsx(S,{size:20}):s.jsx(k,{size:20})})}),s.jsx(E,{disabled:t,loading:t,children:"Войти"}),s.jsx(m,{text:"Забыли пароль?",linkText:"Сбросить пароль",linkTo:i.RECOVERY_PASSWORD}),s.jsx(m,{text:"Нет аккаунта?",linkText:"Зарегистрироваться",linkTo:i.SIGNUP})]})]})})})};export{W as Login};
