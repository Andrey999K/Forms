import{g as oe,K as F,a as ge,r as be,u as T,m as pe,b as i,C as V,i as he,c as w,d as Ce,e as Fe,R as K,f as de,o as Be,j as f,L as ee,h as Me,k as R,l as _e,n as We,p as A,T as ue,S as me,q as He,y as Ae,s as Le}from"./index-BdmOwQ77.js";import{C as Ve,S as L,u as Ze}from"./base-X8UrTyhF.js";import{M as Ge,a as qe,b as ke}from"./index-SJpYm6q-.js";import{R as Xe,C as Ue}from"./row-A0vdR7oV.js";import{P as Je}from"./PageTitle-CTkk6nWx.js";import{S as Ye}from"./index-BfUkhWFh.js";import{I as Qe}from"./index-Csz25M_k.js";import"./Skeleton-Be7Z1M_n.js";import"./PlusOutlined-BzBSn7L3.js";import"./SearchOutlined-DnZKlguD.js";const Ke=new F("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),et=new F("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),tt=new F("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),ot=new F("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),nt=new F("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),st=new F("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),rt=e=>{const{componentCls:t,iconCls:s,antCls:o,badgeShadowSize:n,textFontSize:u,textFontSizeSM:a,statusSize:h,dotSize:v,textFontWeight:g,indicatorHeight:m,indicatorHeightSM:r,marginXS:c,calc:C}=e,b=`${o}-scroll-number`,x=ge(e,(y,j)=>{let{darkColor:p}=j;return{[`&${t} ${t}-color-${y}`]:{background:p,[`&:not(${t}-count)`]:{color:p},"a:hover &":{background:p}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:m,height:m,color:e.badgeTextColor,fontWeight:g,fontSize:u,lineHeight:T(m),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:C(m).div(2).equal(),boxShadow:`0 0 0 ${T(n)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:r,height:r,fontSize:a,lineHeight:T(r),borderRadius:C(r).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${T(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:v,minWidth:v,height:v,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${T(n)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${s}-spin`]:{animationName:st,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:h,height:h,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:n,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Ke,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:c,color:e.colorText,fontSize:e.fontSize}}}),x),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:et,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:tt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ot,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:nt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[b]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${b}-only`]:{position:"relative",display:"inline-block",height:m,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:m,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},ye=e=>{const{fontHeight:t,lineWidth:s,marginXS:o,colorBorderBg:n}=e,u=t,a=s,h=e.colorTextLightSolid,v=e.colorError,g=e.colorErrorHover;return pe(e,{badgeFontHeight:u,badgeShadowSize:a,badgeTextColor:h,badgeColor:v,badgeColorHover:g,badgeShadowColor:n,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},xe=e=>{const{fontSize:t,lineHeight:s,fontSizeSM:o,lineWidth:n}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*s)-2*n,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}},at=oe("Badge",e=>{const t=ye(e);return rt(t)},xe),it=e=>{const{antCls:t,badgeFontHeight:s,marginXS:o,badgeRibbonOffset:n,calc:u}=e,a=`${t}-ribbon`,h=`${t}-ribbon-wrapper`,v=ge(e,(g,m)=>{let{darkColor:r}=m;return{[`&${a}-color-${g}`]:{background:r,color:r}}});return{[h]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},be(e)),{position:"absolute",top:o,padding:`0 ${T(e.paddingXS)}`,color:e.colorPrimary,lineHeight:T(s),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${a}-text`]:{color:e.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:n,height:n,color:"currentcolor",border:`${T(u(n).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),v),{[`&${a}-placement-end`]:{insetInlineEnd:u(n).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:u(n).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},lt=oe(["Badge","Ribbon"],e=>{const t=ye(e);return it(t)},xe),ct=e=>{const{className:t,prefixCls:s,style:o,color:n,children:u,text:a,placement:h="end",rootClassName:v}=e,{getPrefixCls:g,direction:m}=i.useContext(V),r=g("ribbon",s),c=`${r}-wrapper`,[C,b,x]=lt(r,c),y=he(n,!1),j=w(r,`${r}-placement-${h}`,{[`${r}-rtl`]:m==="rtl",[`${r}-color-${n}`]:y},t),p={},$={};return n&&!y&&(p.background=n,$.color=n),C(i.createElement("div",{className:w(c,v,b,x)},u,i.createElement("div",{className:w(j,b),style:Object.assign(Object.assign({},p),o)},i.createElement("span",{className:`${r}-text`},a),i.createElement("div",{className:`${r}-corner`,style:$}))))},fe=e=>{const{prefixCls:t,value:s,current:o,offset:n=0}=e;let u;return n&&(u={position:"absolute",top:`${n}00%`,left:0}),i.createElement("span",{style:u,className:w(`${t}-only-unit`,{current:o})},s)};function dt(e,t,s){let o=e,n=0;for(;(o+10)%10!==t;)o+=s,n+=s;return n}const ut=e=>{const{prefixCls:t,count:s,value:o}=e,n=Number(o),u=Math.abs(s),[a,h]=i.useState(n),[v,g]=i.useState(u),m=()=>{h(n),g(u)};i.useEffect(()=>{const C=setTimeout(m,1e3);return()=>clearTimeout(C)},[n]);let r,c;if(a===n||Number.isNaN(n)||Number.isNaN(a))r=[i.createElement(fe,Object.assign({},e,{key:n,current:!0}))],c={transition:"none"};else{r=[];const C=n+10,b=[];for(let p=n;p<=C;p+=1)b.push(p);const x=v<u?1:-1,y=b.findIndex(p=>p%10===a);r=(x<0?b.slice(0,y+1):b.slice(y)).map((p,$)=>{const l=p%10;return i.createElement(fe,Object.assign({},e,{key:p,value:l,offset:x<0?$-y:$,current:$===y}))}),c={transform:`translateY(${-dt(a,n,x)}00%)`}}return i.createElement("span",{className:`${t}-only`,style:c,onTransitionEnd:m},r)};var mt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const ft=i.forwardRef((e,t)=>{const{prefixCls:s,count:o,className:n,motionClassName:u,style:a,title:h,show:v,component:g="sup",children:m}=e,r=mt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:c}=i.useContext(V),C=c("scroll-number",s),b=Object.assign(Object.assign({},r),{"data-show":v,style:a,className:w(C,n,u),title:h});let x=o;if(o&&Number(o)%1===0){const y=String(o).split("");x=i.createElement("bdi",null,y.map((j,p)=>i.createElement(ut,{prefixCls:C,count:Number(o),value:j,key:y.length-p})))}return a!=null&&a.borderColor&&(b.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),m?Ce(m,y=>({className:w(`${C}-custom-component`,y==null?void 0:y.className,u)})):i.createElement(g,Object.assign({},b,{ref:t}),x)});var gt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const bt=i.forwardRef((e,t)=>{var s,o,n,u,a;const{prefixCls:h,scrollNumberPrefixCls:v,children:g,status:m,text:r,color:c,count:C=null,overflowCount:b=99,dot:x=!1,size:y="default",title:j,offset:p,style:$,className:l,rootClassName:O,classNames:I,styles:N,showZero:Z=!1}=e,ne=gt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:se,direction:G,badge:d}=i.useContext(V),S=se("badge",h),[re,Ne,we]=at(S),q=C>b?`${b}+`:C,M=q==="0"||q===0,Oe=C===null||M&&!Z,k=(m!=null||c!=null)&&Oe,B=x&&!M,P=B?"":q,z=i.useMemo(()=>(P==null||P===""||M&&!Z)&&!B,[P,M,Z,B]),ae=i.useRef(C);z||(ae.current=C);const D=ae.current,ie=i.useRef(P);z||(ie.current=P);const X=ie.current,le=i.useRef(B);z||(le.current=B);const _=i.useMemo(()=>{if(!p)return Object.assign(Object.assign({},d==null?void 0:d.style),$);const E={marginTop:p[1]};return G==="rtl"?E.left=parseInt(p[0],10):E.right=-parseInt(p[0],10),Object.assign(Object.assign(Object.assign({},E),d==null?void 0:d.style),$)},[G,p,$,d==null?void 0:d.style]),Ee=j??(typeof D=="string"||typeof D=="number"?D:void 0),Ie=z||!r?null:i.createElement("span",{className:`${S}-status-text`},r),Te=!D||typeof D!="object"?void 0:Ce(D,E=>({style:Object.assign(Object.assign({},_),E.style)})),W=he(c,!1),Pe=w(I==null?void 0:I.indicator,(s=d==null?void 0:d.classNames)===null||s===void 0?void 0:s.indicator,{[`${S}-status-dot`]:k,[`${S}-status-${m}`]:!!m,[`${S}-color-${c}`]:W}),U={};c&&!W&&(U.color=c,U.background=c);const ce=w(S,{[`${S}-status`]:k,[`${S}-not-a-wrapper`]:!g,[`${S}-rtl`]:G==="rtl"},l,O,d==null?void 0:d.className,(o=d==null?void 0:d.classNames)===null||o===void 0?void 0:o.root,I==null?void 0:I.root,Ne,we);if(!g&&k){const E=_.color;return re(i.createElement("span",Object.assign({},ne,{className:ce,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.root),(n=d==null?void 0:d.styles)===null||n===void 0?void 0:n.root),_)}),i.createElement("span",{className:Pe,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(u=d==null?void 0:d.styles)===null||u===void 0?void 0:u.indicator),U)}),r&&i.createElement("span",{style:{color:E},className:`${S}-status-text`},r)))}return re(i.createElement("span",Object.assign({ref:t},ne,{className:ce,style:Object.assign(Object.assign({},(a=d==null?void 0:d.styles)===null||a===void 0?void 0:a.root),N==null?void 0:N.root)}),g,i.createElement(Fe,{visible:!z,motionName:`${S}-zoom`,motionAppear:!1,motionDeadline:1e3},E=>{let{className:ze}=E;var J,Y;const De=se("scroll-number",v),Q=le.current,Re=w(I==null?void 0:I.indicator,(J=d==null?void 0:d.classNames)===null||J===void 0?void 0:J.indicator,{[`${S}-dot`]:Q,[`${S}-count`]:!Q,[`${S}-count-sm`]:y==="small",[`${S}-multiple-words`]:!Q&&X&&X.toString().length>1,[`${S}-status-${m}`]:!!m,[`${S}-color-${c}`]:W});let H=Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(Y=d==null?void 0:d.styles)===null||Y===void 0?void 0:Y.indicator),_);return c&&!W&&(H=H||{},H.background=c),i.createElement(ft,{prefixCls:De,show:!z,motionClassName:ze,className:Re,count:X,title:Ee,style:H,key:"scrollNumber"},Te)}),Ie))}),ve=bt;ve.Ribbon=ct;const Se=["wrap","nowrap","wrap-reverse"],$e=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],je=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],pt=(e,t)=>{const s=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${s}`]:s&&Se.includes(s)}},ht=(e,t)=>{const s={};return je.forEach(o=>{s[`${e}-align-${o}`]=t.align===o}),s[`${e}-align-stretch`]=!t.align&&!!t.vertical,s},Ct=(e,t)=>{const s={};return $e.forEach(o=>{s[`${e}-justify-${o}`]=t.justify===o}),s};function yt(e,t){return w(Object.assign(Object.assign(Object.assign({},pt(e,t)),ht(e,t)),Ct(e,t)))}const xt=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},vt=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},St=e=>{const{componentCls:t}=e,s={};return Se.forEach(o=>{s[`${t}-wrap-${o}`]={flexWrap:o}}),s},$t=e=>{const{componentCls:t}=e,s={};return je.forEach(o=>{s[`${t}-align-${o}`]={alignItems:o}}),s},jt=e=>{const{componentCls:t}=e,s={};return $e.forEach(o=>{s[`${t}-justify-${o}`]={justifyContent:o}}),s},Nt=()=>({}),wt=oe("Flex",e=>{const{paddingXS:t,padding:s,paddingLG:o}=e,n=pe(e,{flexGapSM:t,flexGap:s,flexGapLG:o});return[xt(n),vt(n),St(n),$t(n),jt(n)]},Nt,{resetStyle:!1});var Ot=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const Et=K.forwardRef((e,t)=>{const{prefixCls:s,rootClassName:o,className:n,style:u,flex:a,gap:h,children:v,vertical:g=!1,component:m="div"}=e,r=Ot(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:c,direction:C,getPrefixCls:b}=K.useContext(V),x=b("flex",s),[y,j,p]=wt(x),$=g??(c==null?void 0:c.vertical),l=w(n,o,c==null?void 0:c.className,x,j,p,yt(x,e),{[`${x}-rtl`]:C==="rtl",[`${x}-gap-${h}`]:de(h),[`${x}-vertical`]:$}),O=Object.assign(Object.assign({},c==null?void 0:c.style),u);return a&&(O.flex=a),h&&!de(h)&&(O.gap=h),y(K.createElement(m,Object.assign({ref:t,className:l,style:O},Be(r,["justify","wrap","align"])),v))}),It=e=>{const{item:t,onDelete:s}=e,o=()=>{s(t.id)},n=[f.jsx(ee,{to:`/forms/${t.id}/responses`,children:f.jsx(ve,{count:t.responseCount??0,showZero:!0,size:"small",styles:{indicator:{fontSize:10},root:{color:"inherit"}},offset:[2,-2],children:f.jsx(Ge,{size:18})})},"response"),f.jsx(ee,{to:`/forms/${t.id}/edit`,children:f.jsx(qe,{size:18,style:{margin:"0 auto"},href:`/forms/${t.id}/edit`})},"edit"),f.jsx("div",{"data-testid":"delete-button",className:"text-red-600 hover:text-red-400 transition-all duration-200 ease-in-out",onClick:o,children:f.jsx(ke,{size:18,style:{margin:"0 auto"}})},"delete")],u=f.jsx(ee,{to:`/forms/${t.id}`,children:t.title});return f.jsx(Ve,{title:u,bordered:!1,actions:n,style:{backdropFilter:"blur(4px)",background:"rgb(255 250 245 / 85%)"},styles:{actions:{background:"transparent",borderColor:"#ffe2cb"},header:{borderColor:"#ffe2cb"},body:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"}},className:"h-full flex flex-col",children:f.jsx("div",{className:"line-clamp-3 ",children:t.description})})},Tt=e=>{const{items:t,onDelete:s}=e;return f.jsx(Xe,{gutter:[16,16],align:"stretch",className:"px-5 lg:px-0",children:t.map(o=>f.jsx(Ue,{span:24,md:12,lg:8,children:f.jsx(It,{item:o,onDelete:s})},o.id))})},{Search:Pt}=Qe,te={TIME_ASC:{field:"createdAt",type:L.ASC},TIME_DESC:{field:"createdAt",type:L.DESC},TITLE_ASC:{field:"title",type:L.ASC},TITLE_DESC:{field:"title",type:L.DESC}},zt=[{value:"TIME_DESC",label:"Сначала новые"},{value:"TIME_ASC",label:"Сначала старые"},{value:"TITLE_DESC",label:"Порядок А-Я"},{value:"TITLE_ASC",label:"Порядок Я-А"}],Dt=30,Zt=()=>{const e=Me(),t=R(l=>l.formSlice.status),s=R(l=>l.user.user),o=R(l=>l.formSlice.order),n=R(l=>l.formSlice.search),u=R(l=>l.formSlice.data),a=R(l=>l.formSlice.hasNext),[h,v]=_e(),[g,m]=i.useState(h.get("search")??""),[r,c]=i.useState(h.get("order")??"TIME_DESC"),[C]=We(),{ref:b}=Ze({threshold:1,onChange:async l=>{l&&t!=="pending"&&p()}}),x=async l=>{try{await C(l).unwrap(),e(He(l))}catch(O){console.error("Ошибка удаления:",O)}},y=l=>{e(A()),m(l)},j=l=>{e(A()),c(l)};i.useEffect(()=>{const l={order:r};g.length&&(l.search=g),v(l,{replace:!0})},[r,g,v]),i.useEffect(()=>{var l,O;if(g!==(n??"")){e(A());return}if(((l=te[r])==null?void 0:l.field)!==(o==null?void 0:o.field)||((O=te[r])==null?void 0:O.type)!==(o==null?void 0:o.type)){e(A());return}},[]);const p=()=>{if(!s){Ae.error("Не найдены данные пользователя");return}e(Le({search:g.length?{key:"title",value:g}:void 0,sort:te[r],limit:Dt,reference:{collectionName:"users",key:"userId",id:s.uid}}))},$=(t==="success"||t===null)&&a;return f.jsxs(f.Fragment,{children:[f.jsx(Je,{title:"Главная страница"}),f.jsxs("div",{"data-testid":"home-page",children:[f.jsxs(Et,{justify:"space-between",gap:12,vertical:!0,className:"mb-4 px-5 lg:px-0 sm:flex-row sm:mb-8",children:[f.jsx(Pt,{defaultValue:g,onSearch:y,className:"w-full sm:w-[300px]"}),f.jsx(Ye,{value:r,options:zt,onChange:j,className:"w-full sm:w-[200px]"})]}),f.jsx("div",{className:"pb-5",children:u.length>0?f.jsx(Tt,{items:u.filter(l=>l!==null),onDelete:x}):t!=="pending"&&!$&&f.jsx(ue,{level:2,children:"Нет доступных форм."})}),t==="pending"&&f.jsx("div",{className:"mb-5 mt-4",children:f.jsx(me,{})}),$&&f.jsx("div",{ref:b,className:"mt-4 mb-5",children:f.jsx(me,{})}),t==="rejected"&&!u.length&&f.jsx(ue,{level:2,children:"Произошла ошибка, попробуйте обновить страницу"})]})]})};export{Zt as Home};
